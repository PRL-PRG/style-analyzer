paramiko missing, opening SSH/SCP/SFTP paths will be disabled.  `pip install paramiko` to suppress
WARNING:smart_open.smart_open_lib:this function is deprecated, use smart_open.open instead
DEBUG:smart_open.smart_open_lib:{'transport_params': {}, 'ignore_ext': False, 'opener': None, 'closefd': True, 'newline': None, 'errors': None, 'encoding': None, 'buffering': -1, 'mode': 'r', 'uri': '/style-analyzer/selections/specs/top_starred_projects_5.csv'}
DEBUG:SQLAlchemyModelRepository:sqlite:////tmp/tmph8_55a0s/db.sqlite3 does not exist, creating
WARNING:SQLAlchemyModelRepository:created a new database at sqlite:////tmp/tmph8_55a0s/db.sqlite3
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mechio/takana.git                                         =
=  1 / 27                                                                      =
= Now:  2021-08-29 10:29:56.008907                                             =
= Left: None                                                                   =
= Ends: None                                                                   =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mechio/takana.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mechio/takana.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1836, done.
Total 1836 (delta 0), reused 0 (delta 0), pack-reused 1836
Checking out 3e274d5990392590ce44b00f1c0acd680f98cf7b
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0k69ofza/takana.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:DataService:Opened <grpc._channel.Channel object at 0x7fb72f56b0f0>
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0k69ofza/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:29:58+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '414443e2-7b0a-436c-a54f-6d8412abd1d5', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0k69ofza/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0k69ofza/takana.git
INFO:EventListener:OK 0.449
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0k69ofza/takana/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0k69ofza/takana.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0k69ofza/takana/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0k69ofza/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b
ERROR:EventListener:FAIL 0.690
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mechio/takana.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'a0cce72b5702842229358f6af7934e31875a659c', '--to', '3e274d5990392590ce44b00f1c0acd680f98cf7b', '--git-dir', '/tmp/top-repos-quality-repos-0k69ofza/takana.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/kickscondor/fraidycat.git                                 =
=  2 / 27                                                                      =
= Now:  2021-08-29 10:29:59.290293                                             =
= Left: 0:01:25.316114                                                         =
= Ends: 2021-08-29 10:31:24.606407                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /kickscondor/fraidycat.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /kickscondor/fraidycat.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1897, done.
Counting objects:   0% (1/440)Counting objects:   1% (5/440)Counting objects:   2% (9/440)Counting objects:   3% (14/440)Counting objects:   4% (18/440)Counting objects:   5% (22/440)Counting objects:   6% (27/440)Counting objects:   7% (31/440)Counting objects:   8% (36/440)Counting objects:   9% (40/440)Counting objects:  10% (44/440)Counting objects:  11% (49/440)Counting objects:  12% (53/440)Counting objects:  13% (58/440)Counting objects:  14% (62/440)Counting objects:  15% (66/440)Counting objects:  16% (71/440)Counting objects:  17% (75/440)Counting objects:  18% (80/440)Counting objects:  19% (84/440)Counting objects:  20% (88/440)Counting objects:  21% (93/440)Counting objects:  22% (97/440)Counting objects:  23% (102/440)Counting objects:  24% (106/440)Counting objects:  25% (110/440)Counting objects:  26% (115/440)Counting objects:  27% (119/440)Counting objects:  28% (124/440)Counting objects:  29% (128/440)Counting objects:  30% (132/440)Counting objects:  31% (137/440)Counting objects:  32% (141/440)Counting objects:  33% (146/440)Counting objects:  34% (150/440)Counting objects:  35% (154/440)Counting objects:  36% (159/440)Counting objects:  37% (163/440)Counting objects:  38% (168/440)Counting objects:  39% (172/440)Counting objects:  40% (176/440)Counting objects:  41% (181/440)Counting objects:  42% (185/440)Counting objects:  43% (190/440)Counting objects:  44% (194/440)Counting objects:  45% (198/440)Counting objects:  46% (203/440)Counting objects:  47% (207/440)Counting objects:  48% (212/440)Counting objects:  49% (216/440)Counting objects:  50% (220/440)Counting objects:  51% (225/440)Counting objects:  52% (229/440)Counting objects:  53% (234/440)Counting objects:  54% (238/440)Counting objects:  55% (242/440)Counting objects:  56% (247/440)Counting objects:  57% (251/440)Counting objects:  58% (256/440)Counting objects:  59% (260/440)Counting objects:  60% (264/440)Counting objects:  61% (269/440)Counting objects:  62% (273/440)Counting objects:  63% (278/440)Counting objects:  64% (282/440)Counting objects:  65% (286/440)Counting objects:  66% (291/440)Counting objects:  67% (295/440)Counting objects:  68% (300/440)Counting objects:  69% (304/440)Counting objects:  70% (308/440)Counting objects:  71% (313/440)Counting objects:  72% (317/440)Counting objects:  73% (322/440)Counting objects:  74% (326/440)Counting objects:  75% (330/440)Counting objects:  76% (335/440)Counting objects:  77% (339/440)Counting objects:  78% (344/440)Counting objects:  79% (348/440)Counting objects:  80% (352/440)Counting objects:  81% (357/440)Counting objects:  82% (361/440)Counting objects:  83% (366/440)Counting objects:  84% (370/440)Counting objects:  85% (374/440)Counting objects:  86% (379/440)Counting objects:  87% (383/440)Counting objects:  88% (388/440)Counting objects:  89% (392/440)Counting objects:  90% (396/440)Counting objects:  91% (401/440)Counting objects:  92% (405/440)Counting objects:  93% (410/440)Counting objects:  94% (414/440)Counting objects:  95% (418/440)Counting objects:  96% (423/440)Counting objects:  97% (427/440)Counting objects:  98% (432/440)Counting objects:  99% (436/440)Counting objects: 100% (440/440)Counting objects: 100% (440/440), done.
Compressing objects:   0% (1/252)Compressing objects:   1% (3/252)Compressing objects:   2% (6/252)Compressing objects:   3% (8/252)Compressing objects:   4% (11/252)Compressing objects:   5% (13/252)Compressing objects:   6% (16/252)Compressing objects:   7% (18/252)Compressing objects:   8% (21/252)Compressing objects:   9% (23/252)Compressing objects:  10% (26/252)Compressing objects:  11% (28/252)Compressing objects:  12% (31/252)Compressing objects:  13% (33/252)Compressing objects:  14% (36/252)Compressing objects:  15% (38/252)Compressing objects:  16% (41/252)Compressing objects:  17% (43/252)Compressing objects:  18% (46/252)Compressing objects:  19% (48/252)Compressing objects:  20% (51/252)Compressing objects:  21% (53/252)Compressing objects:  22% (56/252)Compressing objects:  23% (58/252)Compressing objects:  24% (61/252)Compressing objects:  25% (63/252)Compressing objects:  26% (66/252)Compressing objects:  27% (69/252)Compressing objects:  28% (71/252)Compressing objects:  29% (74/252)Compressing objects:  30% (76/252)Compressing objects:  31% (79/252)Compressing objects:  32% (81/252)Compressing objects:  33% (84/252)Compressing objects:  34% (86/252)Compressing objects:  35% (89/252)Compressing objects:  36% (91/252)Compressing objects:  37% (94/252)Compressing objects:  38% (96/252)Compressing objects:  39% (99/252)Compressing objects:  40% (101/252)Compressing objects:  41% (104/252)Compressing objects:  42% (106/252)Compressing objects:  43% (109/252)Compressing objects:  44% (111/252)Compressing objects:  45% (114/252)Compressing objects:  46% (116/252)Compressing objects:  47% (119/252)Compressing objects:  48% (121/252)Compressing objects:  49% (124/252)Compressing objects:  50% (126/252)Compressing objects:  51% (129/252)Compressing objects:  52% (132/252)Compressing objects:  53% (134/252)Compressing objects:  54% (137/252)Compressing objects:  55% (139/252)Compressing objects:  56% (142/252)Compressing objects:  57% (144/252)Compressing objects:  58% (147/252)Compressing objects:  59% (149/252)Compressing objects:  60% (152/252)Compressing objects:  61% (154/252)Compressing objects:  62% (157/252)Compressing objects:  63% (159/252)Compressing objects:  64% (162/252)Compressing objects:  65% (164/252)Compressing objects:  66% (167/252)Compressing objects:  67% (169/252)Compressing objects:  68% (172/252)Compressing objects:  69% (174/252)Compressing objects:  70% (177/252)Compressing objects:  71% (179/252)Compressing objects:  72% (182/252)Compressing objects:  73% (184/252)Compressing objects:  74% (187/252)Compressing objects:  75% (189/252)Compressing objects:  76% (192/252)Compressing objects:  77% (195/252)Compressing objects:  78% (197/252)Compressing objects:  79% (200/252)Compressing objects:  80% (202/252)Compressing objects:  81% (205/252)Compressing objects:  82% (207/252)Compressing objects:  83% (210/252)Compressing objects:  84% (212/252)Compressing objects:  85% (215/252)Compressing objects:  86% (217/252)Compressing objects:  87% (220/252)Compressing objects:  88% (222/252)Compressing objects:  89% (225/252)Compressing objects:  90% (227/252)Compressing objects:  91% (230/252)Compressing objects:  92% (232/252)Compressing objects:  93% (235/252)Compressing objects:  94% (237/252)Compressing objects:  95% (240/252)Compressing objects:  96% (242/252)Compressing objects:  97% (245/252)Compressing objects:  98% (247/252)Compressing objects:  99% (250/252)Compressing objects: 100% (252/252)Compressing objects: 100% (252/252), done.
Total 1897 (delta 271), reused 299 (delta 152), pack-reused 1457
Checking out a5480cfaf37953463598892f977ce53069a40a69
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:30:00+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '85d5ea4d-1f79-4218-afe1-f4c97fce8068', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git
INFO:EventListener:OK 0.642
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0c7js089/fraidycat/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0c7js089/fraidycat/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0c7js089/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69
ERROR:EventListener:FAIL 2.239
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/kickscondor/fraidycat.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '664ab8cee487b03d9915f3308715958703d40bcd', '--to', 'a5480cfaf37953463598892f977ce53069a40a69', '--git-dir', '/tmp/top-repos-quality-repos-0c7js089/fraidycat.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/apachecn/apachecn-algo-zh.git                             =
=  3 / 27                                                                      =
= Now:  2021-08-29 10:30:03.021573                                             =
= Left: 0:01:27.658362                                                         =
= Ends: 2021-08-29 10:31:30.679935                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /apachecn/apachecn-algo-zh.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /apachecn/apachecn-algo-zh.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15168, done.
Counting objects:   0% (1/558)Counting objects:   1% (6/558)Counting objects:   2% (12/558)Counting objects:   3% (17/558)Counting objects:   4% (23/558)Counting objects:   5% (28/558)Counting objects:   6% (34/558)Counting objects:   7% (40/558)Counting objects:   8% (45/558)Counting objects:   9% (51/558)Counting objects:  10% (56/558)Counting objects:  11% (62/558)Counting objects:  12% (67/558)Counting objects:  13% (73/558)Counting objects:  14% (79/558)Counting objects:  15% (84/558)Counting objects:  16% (90/558)Counting objects:  17% (95/558)Counting objects:  18% (101/558)Counting objects:  19% (107/558)Counting objects:  20% (112/558)Counting objects:  21% (118/558)Counting objects:  22% (123/558)Counting objects:  23% (129/558)Counting objects:  24% (134/558)Counting objects:  25% (140/558)Counting objects:  26% (146/558)Counting objects:  27% (151/558)Counting objects:  28% (157/558)Counting objects:  29% (162/558)Counting objects:  30% (168/558)Counting objects:  31% (173/558)Counting objects:  32% (179/558)Counting objects:  33% (185/558)Counting objects:  34% (190/558)Counting objects:  35% (196/558)Counting objects:  36% (201/558)Counting objects:  37% (207/558)Counting objects:  38% (213/558)Counting objects:  39% (218/558)Counting objects:  40% (224/558)Counting objects:  41% (229/558)Counting objects:  42% (235/558)Counting objects:  43% (240/558)Counting objects:  44% (246/558)Counting objects:  45% (252/558)Counting objects:  46% (257/558)Counting objects:  47% (263/558)Counting objects:  48% (268/558)Counting objects:  49% (274/558)Counting objects:  50% (279/558)Counting objects:  51% (285/558)Counting objects:  52% (291/558)Counting objects:  53% (296/558)Counting objects:  54% (302/558)Counting objects:  55% (307/558)Counting objects:  56% (313/558)Counting objects:  57% (319/558)Counting objects:  58% (324/558)Counting objects:  59% (330/558)Counting objects:  60% (335/558)Counting objects:  61% (341/558)Counting objects:  62% (346/558)Counting objects:  63% (352/558)Counting objects:  64% (358/558)Counting objects:  65% (363/558)Counting objects:  66% (369/558)Counting objects:  67% (374/558)Counting objects:  68% (380/558)Counting objects:  69% (386/558)Counting objects:  70% (391/558)Counting objects:  71% (397/558)Counting objects:  72% (402/558)Counting objects:  73% (408/558)Counting objects:  74% (413/558)Counting objects:  75% (419/558)Counting objects:  76% (425/558)Counting objects:  77% (430/558)Counting objects:  78% (436/558)Counting objects:  79% (441/558)Counting objects:  80% (447/558)Counting objects:  81% (452/558)Counting objects:  82% (458/558)Counting objects:  83% (464/558)Counting objects:  84% (469/558)Counting objects:  85% (475/558)Counting objects:  86% (480/558)Counting objects:  87% (486/558)Counting objects:  88% (492/558)Counting objects:  89% (497/558)Counting objects:  90% (503/558)Counting objects:  91% (508/558)Counting objects:  92% (514/558)Counting objects:  93% (519/558)Counting objects:  94% (525/558)Counting objects:  95% (531/558)Counting objects:  96% (536/558)Counting objects:  97% (542/558)Counting objects:  98% (547/558)Counting objects:  99% (553/558)Counting objects: 100% (558/558)Counting objects: 100% (558/558), done.
Compressing objects:   0% (1/495)Compressing objects:   1% (5/495)Compressing objects:   2% (10/495)Compressing objects:   3% (15/495)Compressing objects:   4% (20/495)Compressing objects:   5% (25/495)Compressing objects:   6% (30/495)Compressing objects:   7% (35/495)Compressing objects:   8% (40/495)Compressing objects:   9% (45/495)Compressing objects:  10% (50/495)Compressing objects:  11% (55/495)Compressing objects:  12% (60/495)Compressing objects:  13% (65/495)Compressing objects:  14% (70/495)Compressing objects:  15% (75/495)Compressing objects:  16% (80/495)Compressing objects:  17% (85/495)Compressing objects:  18% (90/495)Compressing objects:  19% (95/495)Compressing objects:  20% (99/495)Compressing objects:  21% (104/495)Compressing objects:  22% (109/495)Compressing objects:  23% (114/495)Compressing objects:  24% (119/495)Compressing objects:  25% (124/495)Compressing objects:  26% (129/495)Compressing objects:  27% (134/495)Compressing objects:  28% (139/495)Compressing objects:  29% (144/495)Compressing objects:  30% (149/495)Compressing objects:  31% (154/495)Compressing objects:  32% (159/495)Compressing objects:  33% (164/495)Compressing objects:  34% (169/495)Compressing objects:  35% (174/495)Compressing objects:  36% (179/495)Compressing objects:  37% (184/495)Compressing objects:  38% (189/495)Compressing objects:  39% (194/495)Compressing objects:  40% (198/495)Compressing objects:  41% (203/495)Compressing objects:  42% (208/495)Compressing objects:  43% (213/495)Compressing objects:  44% (218/495)Compressing objects:  45% (223/495)Compressing objects:  46% (228/495)Compressing objects:  47% (233/495)Compressing objects:  48% (238/495)Compressing objects:  49% (243/495)Compressing objects:  50% (248/495)Compressing objects:  51% (253/495)Compressing objects:  52% (258/495)Compressing objects:  53% (263/495)Compressing objects:  54% (268/495)Compressing objects:  55% (273/495)Compressing objects:  56% (278/495)Compressing objects:  57% (283/495)Compressing objects:  58% (288/495)Compressing objects:  59% (293/495)Compressing objects:  60% (297/495)Compressing objects:  61% (302/495)Compressing objects:  62% (307/495)Compressing objects:  63% (312/495)Compressing objects:  64% (317/495)Compressing objects:  65% (322/495)Compressing objects:  66% (327/495)Compressing objects:  67% (332/495)Compressing objects:  68% (337/495)Compressing objects:  69% (342/495)Compressing objects:  70% (347/495)Compressing objects:  71% (352/495)Compressing objects:  72% (357/495)Compressing objects:  73% (362/495)Compressing objects:  74% (367/495)Compressing objects:  75% (372/495)Compressing objects:  76% (377/495)Compressing objects:  77% (382/495)Compressing objects:  78% (387/495)Compressing objects:  79% (392/495)Compressing objects:  80% (396/495)Compressing objects:  81% (401/495)Compressing objects:  82% (406/495)Compressing objects:  83% (411/495)Compressing objects:  84% (416/495)Compressing objects:  85% (421/495)Compressing objects:  86% (426/495)Compressing objects:  87% (431/495)Compressing objects:  88% (436/495)Compressing objects:  89% (441/495)Compressing objects:  90% (446/495)Compressing objects:  91% (451/495)Compressing objects:  92% (456/495)Compressing objects:  93% (461/495)Compressing objects:  94% (466/495)Compressing objects:  95% (471/495)Compressing objects:  96% (476/495)Compressing objects:  97% (481/495)Compressing objects:  98% (486/495)Compressing objects:  99% (491/495)Compressing objects: 100% (495/495)Compressing objects: 100% (495/495), done.
Total 15168 (delta 123), reused 478 (delta 58), pack-reused 14610
Checking out 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:30:10+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'ddeb2ff8-8e1f-489b-b467-92344b4cad0b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git
INFO:EventListener:OK 0.734
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
ERROR:EventListener:FAIL 6.235
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/apachecn/apachecn-algo-zh.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '8c0bee04fc7ca4e22e50023b76620c1458e6b8ae', '--to', '71862d95dd7e1e34c8e193b3ebf1063172a2cbf0', '--git-dir', '/tmp/top-repos-quality-repos-0zep0p4t/apachecn-algo-zh.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/shaunlebron/parinfer.git                                  =
=  4 / 27                                                                      =
= Now:  2021-08-29 10:30:17.190126                                             =
= Left: 0:02:49.449776                                                         =
= Ends: 2021-08-29 10:33:06.639902                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /shaunlebron/parinfer.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /shaunlebron/parinfer.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 8122, done.
Total 8122 (delta 0), reused 0 (delta 0), pack-reused 8122
Checking out 41c74d03534a5adbdcb7430fb666899e8dbf746d
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:30:19+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '4a3a64f0-9a17-4b55-b273-932ac294cff6', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git
INFO:EventListener:OK 7.831
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-95srqcz1/parinfer/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-95srqcz1/parinfer/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-95srqcz1/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d
ERROR:EventListener:FAIL 17.145
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/shaunlebron/parinfer.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'f2e3320bcde6a95f4fb653386ef9c9c22ed3420f', '--to', '41c74d03534a5adbdcb7430fb666899e8dbf746d', '--git-dir', '/tmp/top-repos-quality-repos-95srqcz1/parinfer.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/lukeed/uvu.git                                            =
=  5 / 27                                                                      =
= Now:  2021-08-29 10:30:44.992488                                             =
= Left: 0:04:41.655608                                                         =
= Ends: 2021-08-29 10:35:26.648096                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /lukeed/uvu.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /lukeed/uvu.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1692, done.
Counting objects:   0% (1/295)Counting objects:   1% (3/295)Counting objects:   2% (6/295)Counting objects:   3% (9/295)Counting objects:   4% (12/295)Counting objects:   5% (15/295)Counting objects:   6% (18/295)Counting objects:   7% (21/295)Counting objects:   8% (24/295)Counting objects:   9% (27/295)Counting objects:  10% (30/295)Counting objects:  11% (33/295)Counting objects:  12% (36/295)Counting objects:  13% (39/295)Counting objects:  14% (42/295)Counting objects:  15% (45/295)Counting objects:  16% (48/295)Counting objects:  17% (51/295)Counting objects:  18% (54/295)Counting objects:  19% (57/295)Counting objects:  20% (59/295)Counting objects:  21% (62/295)Counting objects:  22% (65/295)Counting objects:  23% (68/295)Counting objects:  24% (71/295)Counting objects:  25% (74/295)Counting objects:  26% (77/295)Counting objects:  27% (80/295)Counting objects:  28% (83/295)Counting objects:  29% (86/295)Counting objects:  30% (89/295)Counting objects:  31% (92/295)Counting objects:  32% (95/295)Counting objects:  33% (98/295)Counting objects:  34% (101/295)Counting objects:  35% (104/295)Counting objects:  36% (107/295)Counting objects:  37% (110/295)Counting objects:  38% (113/295)Counting objects:  39% (116/295)Counting objects:  40% (118/295)Counting objects:  41% (121/295)Counting objects:  42% (124/295)Counting objects:  43% (127/295)Counting objects:  44% (130/295)Counting objects:  45% (133/295)Counting objects:  46% (136/295)Counting objects:  47% (139/295)Counting objects:  48% (142/295)Counting objects:  49% (145/295)Counting objects:  50% (148/295)Counting objects:  51% (151/295)Counting objects:  52% (154/295)Counting objects:  53% (157/295)Counting objects:  54% (160/295)Counting objects:  55% (163/295)Counting objects:  56% (166/295)Counting objects:  57% (169/295)Counting objects:  58% (172/295)Counting objects:  59% (175/295)Counting objects:  60% (177/295)Counting objects:  61% (180/295)Counting objects:  62% (183/295)Counting objects:  63% (186/295)Counting objects:  64% (189/295)Counting objects:  65% (192/295)Counting objects:  66% (195/295)Counting objects:  67% (198/295)Counting objects:  68% (201/295)Counting objects:  69% (204/295)Counting objects:  70% (207/295)Counting objects:  71% (210/295)Counting objects:  72% (213/295)Counting objects:  73% (216/295)Counting objects:  74% (219/295)Counting objects:  75% (222/295)Counting objects:  76% (225/295)Counting objects:  77% (228/295)Counting objects:  78% (231/295)Counting objects:  79% (234/295)Counting objects:  80% (236/295)Counting objects:  81% (239/295)Counting objects:  82% (242/295)Counting objects:  83% (245/295)Counting objects:  84% (248/295)Counting objects:  85% (251/295)Counting objects:  86% (254/295)Counting objects:  87% (257/295)Counting objects:  88% (260/295)Counting objects:  89% (263/295)Counting objects:  90% (266/295)Counting objects:  91% (269/295)Counting objects:  92% (272/295)Counting objects:  93% (275/295)Counting objects:  94% (278/295)Counting objects:  95% (281/295)Counting objects:  96% (284/295)Counting objects:  97% (287/295)Counting objects:  98% (290/295)Counting objects:  99% (293/295)Counting objects: 100% (295/295)Counting objects: 100% (295/295), done.
Compressing objects:   0% (1/203)Compressing objects:   1% (3/203)Compressing objects:   2% (5/203)Compressing objects:   3% (7/203)Compressing objects:   4% (9/203)Compressing objects:   5% (11/203)Compressing objects:   6% (13/203)Compressing objects:   7% (15/203)Compressing objects:   8% (17/203)Compressing objects:   9% (19/203)Compressing objects:  10% (21/203)Compressing objects:  11% (23/203)Compressing objects:  12% (25/203)Compressing objects:  13% (27/203)Compressing objects:  14% (29/203)Compressing objects:  15% (31/203)Compressing objects:  16% (33/203)Compressing objects:  17% (35/203)Compressing objects:  18% (37/203)Compressing objects:  19% (39/203)Compressing objects:  20% (41/203)Compressing objects:  21% (43/203)Compressing objects:  22% (45/203)Compressing objects:  23% (47/203)Compressing objects:  24% (49/203)Compressing objects:  25% (51/203)Compressing objects:  26% (53/203)Compressing objects:  27% (55/203)Compressing objects:  28% (57/203)Compressing objects:  29% (59/203)Compressing objects:  30% (61/203)Compressing objects:  31% (63/203)Compressing objects:  32% (65/203)Compressing objects:  33% (67/203)Compressing objects:  34% (70/203)Compressing objects:  35% (72/203)Compressing objects:  36% (74/203)Compressing objects:  37% (76/203)Compressing objects:  38% (78/203)Compressing objects:  39% (80/203)Compressing objects:  40% (82/203)Compressing objects:  41% (84/203)Compressing objects:  42% (86/203)Compressing objects:  43% (88/203)Compressing objects:  44% (90/203)Compressing objects:  45% (92/203)Compressing objects:  46% (94/203)Compressing objects:  47% (96/203)Compressing objects:  48% (98/203)Compressing objects:  49% (100/203)Compressing objects:  50% (102/203)Compressing objects:  51% (104/203)Compressing objects:  52% (106/203)Compressing objects:  53% (108/203)Compressing objects:  54% (110/203)Compressing objects:  55% (112/203)Compressing objects:  56% (114/203)Compressing objects:  57% (116/203)Compressing objects:  58% (118/203)Compressing objects:  59% (120/203)Compressing objects:  60% (122/203)Compressing objects:  61% (124/203)Compressing objects:  62% (126/203)Compressing objects:  63% (128/203)Compressing objects:  64% (130/203)Compressing objects:  65% (132/203)Compressing objects:  66% (134/203)Compressing objects:  67% (137/203)Compressing objects:  68% (139/203)Compressing objects:  69% (141/203)Compressing objects:  70% (143/203)Compressing objects:  71% (145/203)Compressing objects:  72% (147/203)Compressing objects:  73% (149/203)Compressing objects:  74% (151/203)Compressing objects:  75% (153/203)Compressing objects:  76% (155/203)Compressing objects:  77% (157/203)Compressing objects:  78% (159/203)Compressing objects:  79% (161/203)Compressing objects:  80% (163/203)Compressing objects:  81% (165/203)Compressing objects:  82% (167/203)Compressing objects:  83% (169/203)Compressing objects:  84% (171/203)Compressing objects:  85% (173/203)Compressing objects:  86% (175/203)Compressing objects:  87% (177/203)Compressing objects:  88% (179/203)Compressing objects:  89% (181/203)Compressing objects:  90% (183/203)Compressing objects:  91% (185/203)Compressing objects:  92% (187/203)Compressing objects:  93% (189/203)Compressing objects:  94% (191/203)Compressing objects:  95% (193/203)Compressing objects:  96% (195/203)Compressing objects:  97% (197/203)Compressing objects:  98% (199/203)Compressing objects:  99% (201/203)Compressing objects: 100% (203/203)Compressing objects: 100% (203/203), done.
Total 1692 (delta 150), reused 181 (delta 85), pack-reused 1397
Checking out d56753ec20928da1c22ff093cb07ce3c67613706
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:30:45+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '9a9063ab-6a7a-4d3f-b4f8-96a6a799592b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git
INFO:EventListener:OK 20.506
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-jopsxinh/uvu/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-jopsxinh/uvu/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-jopsxinh/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706
ERROR:EventListener:FAIL 48.415
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/lukeed/uvu.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '988d9290adef593aaf3ee169868b9fcef0d9d0f3', '--to', 'd56753ec20928da1c22ff093cb07ce3c67613706', '--git-dir', '/tmp/top-repos-quality-repos-jopsxinh/uvu.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/affinelayer/pix2pix-tensorflow.git                        =
=  6 / 27                                                                      =
= Now:  2021-08-29 10:31:54.811334                                             =
= Left: 0:08:42.730692                                                         =
= Ends: 2021-08-29 10:40:37.542026                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /affinelayer/pix2pix-tensorflow.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /affinelayer/pix2pix-tensorflow.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 431, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Compressing objects:  14% (1/7)Compressing objects:  28% (2/7)Compressing objects:  42% (3/7)Compressing objects:  57% (4/7)Compressing objects:  71% (5/7)Compressing objects:  85% (6/7)Compressing objects: 100% (7/7)Compressing objects: 100% (7/7), done.
Total 431 (delta 0), reused 1 (delta 0), pack-reused 424
Checking out 0f2174424356162920fc25067e63db2bcf19f4e7
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:31:57+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '6b19fa32-bf7d-4aad-8db3-6dcc5e0e41cc', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git
INFO:EventListener:OK 82.703
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7
ERROR:EventListener:FAIL 88.266
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/affinelayer/pix2pix-tensorflow.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '5c761a294e0ddd5a43fa2bb3de110f46e7a8f30a', '--to', '0f2174424356162920fc25067e63db2bcf19f4e7', '--git-dir', '/tmp/top-repos-quality-repos-gfwyrrh4/pix2pix-tensorflow.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/prettier/prettier-eslint.git                              =
=  7 / 27                                                                      =
= Now:  2021-08-29 10:34:48.403838                                             =
= Left: 0:17:03.382269                                                         =
= Ends: 2021-08-29 10:51:51.786107                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /prettier/prettier-eslint.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /prettier/prettier-eslint.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 2793, done.
Counting objects:   0% (1/294)Counting objects:   1% (3/294)Counting objects:   2% (6/294)Counting objects:   3% (9/294)Counting objects:   4% (12/294)Counting objects:   5% (15/294)Counting objects:   6% (18/294)Counting objects:   7% (21/294)Counting objects:   8% (24/294)Counting objects:   9% (27/294)Counting objects:  10% (30/294)Counting objects:  11% (33/294)Counting objects:  12% (36/294)Counting objects:  13% (39/294)Counting objects:  14% (42/294)Counting objects:  15% (45/294)Counting objects:  16% (48/294)Counting objects:  17% (50/294)Counting objects:  18% (53/294)Counting objects:  19% (56/294)Counting objects:  20% (59/294)Counting objects:  21% (62/294)Counting objects:  22% (65/294)Counting objects:  23% (68/294)Counting objects:  24% (71/294)Counting objects:  25% (74/294)Counting objects:  26% (77/294)Counting objects:  27% (80/294)Counting objects:  28% (83/294)Counting objects:  29% (86/294)Counting objects:  30% (89/294)Counting objects:  31% (92/294)Counting objects:  32% (95/294)Counting objects:  33% (98/294)Counting objects:  34% (100/294)Counting objects:  35% (103/294)Counting objects:  36% (106/294)Counting objects:  37% (109/294)Counting objects:  38% (112/294)Counting objects:  39% (115/294)Counting objects:  40% (118/294)Counting objects:  41% (121/294)Counting objects:  42% (124/294)Counting objects:  43% (127/294)Counting objects:  44% (130/294)Counting objects:  45% (133/294)Counting objects:  46% (136/294)Counting objects:  47% (139/294)Counting objects:  48% (142/294)Counting objects:  49% (145/294)Counting objects:  50% (147/294)Counting objects:  51% (150/294)Counting objects:  52% (153/294)Counting objects:  53% (156/294)Counting objects:  54% (159/294)Counting objects:  55% (162/294)Counting objects:  56% (165/294)Counting objects:  57% (168/294)Counting objects:  58% (171/294)Counting objects:  59% (174/294)Counting objects:  60% (177/294)Counting objects:  61% (180/294)Counting objects:  62% (183/294)Counting objects:  63% (186/294)Counting objects:  64% (189/294)Counting objects:  65% (192/294)Counting objects:  66% (195/294)Counting objects:  67% (197/294)Counting objects:  68% (200/294)Counting objects:  69% (203/294)Counting objects:  70% (206/294)Counting objects:  71% (209/294)Counting objects:  72% (212/294)Counting objects:  73% (215/294)Counting objects:  74% (218/294)Counting objects:  75% (221/294)Counting objects:  76% (224/294)Counting objects:  77% (227/294)Counting objects:  78% (230/294)Counting objects:  79% (233/294)Counting objects:  80% (236/294)Counting objects:  81% (239/294)Counting objects:  82% (242/294)Counting objects:  83% (245/294)Counting objects:  84% (247/294)Counting objects:  85% (250/294)Counting objects:  86% (253/294)Counting objects:  87% (256/294)Counting objects:  88% (259/294)Counting objects:  89% (262/294)Counting objects:  90% (265/294)Counting objects:  91% (268/294)Counting objects:  92% (271/294)Counting objects:  93% (274/294)Counting objects:  94% (277/294)Counting objects:  95% (280/294)Counting objects:  96% (283/294)Counting objects:  97% (286/294)Counting objects:  98% (289/294)Counting objects:  99% (292/294)Counting objects: 100% (294/294)Counting objects: 100% (294/294), done.
Compressing objects:   0% (1/292)Compressing objects:   1% (3/292)Compressing objects:   2% (6/292)Compressing objects:   3% (9/292)Compressing objects:   4% (12/292)Compressing objects:   5% (15/292)Compressing objects:   6% (18/292)Compressing objects:   7% (21/292)Compressing objects:   8% (24/292)Compressing objects:   9% (27/292)Compressing objects:  10% (30/292)Compressing objects:  11% (33/292)Compressing objects:  12% (36/292)Compressing objects:  13% (38/292)Compressing objects:  14% (41/292)Compressing objects:  15% (44/292)Compressing objects:  16% (47/292)Compressing objects:  17% (50/292)Compressing objects:  18% (53/292)Compressing objects:  19% (56/292)Compressing objects:  20% (59/292)Compressing objects:  21% (62/292)Compressing objects:  22% (65/292)Compressing objects:  23% (68/292)Compressing objects:  24% (71/292)Compressing objects:  25% (73/292)Compressing objects:  26% (76/292)Compressing objects:  27% (79/292)Compressing objects:  28% (82/292)Compressing objects:  29% (85/292)Compressing objects:  30% (88/292)Compressing objects:  31% (91/292)Compressing objects:  32% (94/292)Compressing objects:  33% (97/292)Compressing objects:  34% (100/292)Compressing objects:  35% (103/292)Compressing objects:  36% (106/292)Compressing objects:  37% (109/292)Compressing objects:  38% (111/292)Compressing objects:  39% (114/292)Compressing objects:  40% (117/292)Compressing objects:  41% (120/292)Compressing objects:  42% (123/292)Compressing objects:  43% (126/292)Compressing objects:  44% (129/292)Compressing objects:  45% (132/292)Compressing objects:  46% (135/292)Compressing objects:  47% (138/292)Compressing objects:  48% (141/292)Compressing objects:  49% (144/292)Compressing objects:  50% (146/292)Compressing objects:  51% (149/292)Compressing objects:  52% (152/292)Compressing objects:  53% (155/292)Compressing objects:  54% (158/292)Compressing objects:  55% (161/292)Compressing objects:  56% (164/292)Compressing objects:  57% (167/292)Compressing objects:  58% (170/292)Compressing objects:  59% (173/292)Compressing objects:  60% (176/292)Compressing objects:  61% (179/292)Compressing objects:  62% (182/292)Compressing objects:  63% (184/292)Compressing objects:  64% (187/292)Compressing objects:  65% (190/292)Compressing objects:  66% (193/292)Compressing objects:  67% (196/292)Compressing objects:  68% (199/292)Compressing objects:  69% (202/292)Compressing objects:  70% (205/292)Compressing objects:  71% (208/292)Compressing objects:  72% (211/292)Compressing objects:  73% (214/292)Compressing objects:  74% (217/292)Compressing objects:  75% (219/292)Compressing objects:  76% (222/292)Compressing objects:  77% (225/292)Compressing objects:  78% (228/292)Compressing objects:  79% (231/292)Compressing objects:  80% (234/292)Compressing objects:  81% (237/292)Compressing objects:  82% (240/292)Compressing objects:  83% (243/292)Compressing objects:  84% (246/292)Compressing objects:  85% (249/292)Compressing objects:  86% (252/292)Compressing objects:  87% (255/292)Compressing objects:  88% (257/292)Compressing objects:  89% (260/292)Compressing objects:  90% (263/292)Compressing objects:  91% (266/292)Compressing objects:  92% (269/292)Compressing objects:  93% (272/292)Compressing objects:  94% (275/292)Compressing objects:  95% (278/292)Compressing objects:  96% (281/292)Compressing objects:  97% (284/292)Compressing objects:  98% (287/292)Compressing objects:  99% (290/292)Compressing objects: 100% (292/292)Compressing objects: 100% (292/292), done.
Total 2793 (delta 224), reused 6 (delta 2), pack-reused 2499
Checking out c62769ef430749fb9650c7e1d05f5cf7442a48a2
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:34:50+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2c088978-9c79-47a6-86d1-b562a8370d2b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git
INFO:EventListener:OK 94.846
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2
ERROR:EventListener:FAIL 125.175
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/prettier/prettier-eslint.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'db6f7cb0abadf1bef27ab4bdd058bfa37b7af361', '--to', 'c62769ef430749fb9650c7e1d05f5cf7442a48a2', '--git-dir', '/tmp/top-repos-quality-repos-bzxj59gz/prettier-eslint.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mandatoryprogrammer/cursedchrome.git                      =
=  8 / 27                                                                      =
= Now:  2021-08-29 10:38:30.327181                                             =
= Left: 0:24:29.480791                                                         =
= Ends: 2021-08-29 11:02:59.807972                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mandatoryprogrammer/cursedchrome.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mandatoryprogrammer/cursedchrome.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 300, done.
Counting objects:   2% (1/44)Counting objects:   4% (2/44)Counting objects:   6% (3/44)Counting objects:   9% (4/44)Counting objects:  11% (5/44)Counting objects:  13% (6/44)Counting objects:  15% (7/44)Counting objects:  18% (8/44)Counting objects:  20% (9/44)Counting objects:  22% (10/44)Counting objects:  25% (11/44)Counting objects:  27% (12/44)Counting objects:  29% (13/44)Counting objects:  31% (14/44)Counting objects:  34% (15/44)Counting objects:  36% (16/44)Counting objects:  38% (17/44)Counting objects:  40% (18/44)Counting objects:  43% (19/44)Counting objects:  45% (20/44)Counting objects:  47% (21/44)Counting objects:  50% (22/44)Counting objects:  52% (23/44)Counting objects:  54% (24/44)Counting objects:  56% (25/44)Counting objects:  59% (26/44)Counting objects:  61% (27/44)Counting objects:  63% (28/44)Counting objects:  65% (29/44)Counting objects:  68% (30/44)Counting objects:  70% (31/44)Counting objects:  72% (32/44)Counting objects:  75% (33/44)Counting objects:  77% (34/44)Counting objects:  79% (35/44)Counting objects:  81% (36/44)Counting objects:  84% (37/44)Counting objects:  86% (38/44)Counting objects:  88% (39/44)Counting objects:  90% (40/44)Counting objects:  93% (41/44)Counting objects:  95% (42/44)Counting objects:  97% (43/44)Counting objects: 100% (44/44)Counting objects: 100% (44/44), done.
Compressing objects:   2% (1/42)Compressing objects:   4% (2/42)Compressing objects:   7% (3/42)Compressing objects:   9% (4/42)Compressing objects:  11% (5/42)Compressing objects:  14% (6/42)Compressing objects:  16% (7/42)Compressing objects:  19% (8/42)Compressing objects:  21% (9/42)Compressing objects:  23% (10/42)Compressing objects:  26% (11/42)Compressing objects:  28% (12/42)Compressing objects:  30% (13/42)Compressing objects:  33% (14/42)Compressing objects:  35% (15/42)Compressing objects:  38% (16/42)Compressing objects:  40% (17/42)Compressing objects:  42% (18/42)Compressing objects:  45% (19/42)Compressing objects:  47% (20/42)Compressing objects:  50% (21/42)Compressing objects:  52% (22/42)Compressing objects:  54% (23/42)Compressing objects:  57% (24/42)Compressing objects:  59% (25/42)Compressing objects:  61% (26/42)Compressing objects:  64% (27/42)Compressing objects:  66% (28/42)Compressing objects:  69% (29/42)Compressing objects:  71% (30/42)Compressing objects:  73% (31/42)Compressing objects:  76% (32/42)Compressing objects:  78% (33/42)Compressing objects:  80% (34/42)Compressing objects:  83% (35/42)Compressing objects:  85% (36/42)Compressing objects:  88% (37/42)Compressing objects:  90% (38/42)Compressing objects:  92% (39/42)Compressing objects:  95% (40/42)Compressing objects:  97% (41/42)Compressing objects: 100% (42/42)Compressing objects: 100% (42/42), done.
Total 300 (delta 19), reused 4 (delta 2), pack-reused 256
Checking out f18eaee6e3aee866b801235e836d9576aff008de
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:38:31+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '5526a242-824a-4b15-8e2e-c4b4b8255b90', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git
INFO:EventListener:OK 107.760
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de
ERROR:EventListener:FAIL 142.796
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mandatoryprogrammer/cursedchrome.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'f7c0dd87d73238f2ef3d631d6db90e5f490cebe0', '--to', 'f18eaee6e3aee866b801235e836d9576aff008de', '--git-dir', '/tmp/top-repos-quality-repos-7yp9tpqm/cursedchrome.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/disease-sh/api.git                                        =
=  9 / 27                                                                      =
= Now:  2021-08-29 10:42:42.297925                                             =
= Left: 0:30:19.936425                                                         =
= Ends: 2021-08-29 11:13:02.234350                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /disease-sh/api.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /disease-sh/api.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 12114, done.
Counting objects:   0% (1/485)Counting objects:   1% (5/485)Counting objects:   2% (10/485)Counting objects:   3% (15/485)Counting objects:   4% (20/485)Counting objects:   5% (25/485)Counting objects:   6% (30/485)Counting objects:   7% (34/485)Counting objects:   8% (39/485)Counting objects:   9% (44/485)Counting objects:  10% (49/485)Counting objects:  11% (54/485)Counting objects:  12% (59/485)Counting objects:  13% (64/485)Counting objects:  14% (68/485)Counting objects:  15% (73/485)Counting objects:  16% (78/485)Counting objects:  17% (83/485)Counting objects:  18% (88/485)Counting objects:  19% (93/485)Counting objects:  20% (97/485)Counting objects:  21% (102/485)Counting objects:  22% (107/485)Counting objects:  23% (112/485)Counting objects:  24% (117/485)Counting objects:  25% (122/485)Counting objects:  26% (127/485)Counting objects:  27% (131/485)Counting objects:  28% (136/485)Counting objects:  29% (141/485)Counting objects:  30% (146/485)Counting objects:  31% (151/485)Counting objects:  32% (156/485)Counting objects:  33% (161/485)Counting objects:  34% (165/485)Counting objects:  35% (170/485)Counting objects:  36% (175/485)Counting objects:  37% (180/485)Counting objects:  38% (185/485)Counting objects:  39% (190/485)Counting objects:  40% (194/485)Counting objects:  41% (199/485)Counting objects:  42% (204/485)Counting objects:  43% (209/485)Counting objects:  44% (214/485)Counting objects:  45% (219/485)Counting objects:  46% (224/485)Counting objects:  47% (228/485)Counting objects:  48% (233/485)Counting objects:  49% (238/485)Counting objects:  50% (243/485)Counting objects:  51% (248/485)Counting objects:  52% (253/485)Counting objects:  53% (258/485)Counting objects:  54% (262/485)Counting objects:  55% (267/485)Counting objects:  56% (272/485)Counting objects:  57% (277/485)Counting objects:  58% (282/485)Counting objects:  59% (287/485)Counting objects:  60% (291/485)Counting objects:  61% (296/485)Counting objects:  62% (301/485)Counting objects:  63% (306/485)Counting objects:  64% (311/485)Counting objects:  65% (316/485)Counting objects:  66% (321/485)Counting objects:  67% (325/485)Counting objects:  68% (330/485)Counting objects:  69% (335/485)Counting objects:  70% (340/485)Counting objects:  71% (345/485)Counting objects:  72% (350/485)Counting objects:  73% (355/485)Counting objects:  74% (359/485)Counting objects:  75% (364/485)Counting objects:  76% (369/485)Counting objects:  77% (374/485)Counting objects:  78% (379/485)Counting objects:  79% (384/485)Counting objects:  80% (388/485)Counting objects:  81% (393/485)Counting objects:  82% (398/485)Counting objects:  83% (403/485)Counting objects:  84% (408/485)Counting objects:  85% (413/485)Counting objects:  86% (418/485)Counting objects:  87% (422/485)Counting objects:  88% (427/485)Counting objects:  89% (432/485)Counting objects:  90% (437/485)Counting objects:  91% (442/485)Counting objects:  92% (447/485)Counting objects:  93% (452/485)Counting objects:  94% (456/485)Counting objects:  95% (461/485)Counting objects:  96% (466/485)Counting objects:  97% (471/485)Counting objects:  98% (476/485)Counting objects:  99% (481/485)Counting objects: 100% (485/485)Counting objects: 100% (485/485), done.
Compressing objects:   0% (1/266)Compressing objects:   1% (3/266)Compressing objects:   2% (6/266)Compressing objects:   3% (8/266)Compressing objects:   4% (11/266)Compressing objects:   5% (14/266)Compressing objects:   6% (16/266)Compressing objects:   7% (19/266)Compressing objects:   8% (22/266)Compressing objects:   9% (24/266)Compressing objects:  10% (27/266)Compressing objects:  11% (30/266)Compressing objects:  12% (32/266)Compressing objects:  13% (35/266)Compressing objects:  14% (38/266)Compressing objects:  15% (40/266)Compressing objects:  16% (43/266)Compressing objects:  17% (46/266)Compressing objects:  18% (48/266)Compressing objects:  19% (51/266)Compressing objects:  20% (54/266)Compressing objects:  21% (56/266)Compressing objects:  22% (59/266)Compressing objects:  23% (62/266)Compressing objects:  24% (64/266)Compressing objects:  25% (67/266)Compressing objects:  26% (70/266)Compressing objects:  27% (72/266)Compressing objects:  28% (75/266)Compressing objects:  29% (78/266)Compressing objects:  30% (80/266)Compressing objects:  31% (83/266)Compressing objects:  32% (86/266)Compressing objects:  33% (88/266)Compressing objects:  34% (91/266)Compressing objects:  35% (94/266)Compressing objects:  36% (96/266)Compressing objects:  37% (99/266)Compressing objects:  38% (102/266)Compressing objects:  39% (104/266)Compressing objects:  40% (107/266)Compressing objects:  41% (110/266)Compressing objects:  42% (112/266)Compressing objects:  43% (115/266)Compressing objects:  44% (118/266)Compressing objects:  45% (120/266)Compressing objects:  46% (123/266)Compressing objects:  47% (126/266)Compressing objects:  48% (128/266)Compressing objects:  49% (131/266)Compressing objects:  50% (133/266)Compressing objects:  51% (136/266)Compressing objects:  52% (139/266)Compressing objects:  53% (141/266)Compressing objects:  54% (144/266)Compressing objects:  55% (147/266)Compressing objects:  56% (149/266)Compressing objects:  57% (152/266)Compressing objects:  58% (155/266)Compressing objects:  59% (157/266)Compressing objects:  60% (160/266)Compressing objects:  61% (163/266)Compressing objects:  62% (165/266)Compressing objects:  63% (168/266)Compressing objects:  64% (171/266)Compressing objects:  65% (173/266)Compressing objects:  66% (176/266)Compressing objects:  67% (179/266)Compressing objects:  68% (181/266)Compressing objects:  69% (184/266)Compressing objects:  70% (187/266)Compressing objects:  71% (189/266)Compressing objects:  72% (192/266)Compressing objects:  73% (195/266)Compressing objects:  74% (197/266)Compressing objects:  75% (200/266)Compressing objects:  76% (203/266)Compressing objects:  77% (205/266)Compressing objects:  78% (208/266)Compressing objects:  79% (211/266)Compressing objects:  80% (213/266)Compressing objects:  81% (216/266)Compressing objects:  82% (219/266)Compressing objects:  83% (221/266)Compressing objects:  84% (224/266)Compressing objects:  85% (227/266)Compressing objects:  86% (229/266)Compressing objects:  87% (232/266)Compressing objects:  88% (235/266)Compressing objects:  89% (237/266)Compressing objects:  90% (240/266)Compressing objects:  91% (243/266)Compressing objects:  92% (245/266)Compressing objects:  93% (248/266)Compressing objects:  94% (251/266)Compressing objects:  95% (253/266)Compressing objects:  96% (256/266)Compressing objects:  97% (259/266)Compressing objects:  98% (261/266)Compressing objects:  99% (264/266)Compressing objects: 100% (266/266)Compressing objects: 100% (266/266), done.
Total 12114 (delta 233), reused 430 (delta 210), pack-reused 11629
Checking out 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-qnjlurhz/api.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-qnjlurhz/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:42:46+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '233b3a4d-38fd-4df1-aa42-c8d80f6c7cf8', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-qnjlurhz/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-qnjlurhz/api.git
INFO:EventListener:OK 111.339
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-qnjlurhz/api/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-qnjlurhz/api.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-qnjlurhz/api/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-qnjlurhz/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
ERROR:EventListener:FAIL 111.269
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/disease-sh/api.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'da39023402eaea84409f7a495eca9fd21935b8c3', '--to', '3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e', '--git-dir', '/tmp/top-repos-quality-repos-qnjlurhz/api.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/coffe1891/frontend-hard-mode-interview.git                =
= 10 / 27                                                                      =
= Now:  2021-08-29 10:46:29.131101                                             =
= Left: 0:33:06.244394                                                         =
= Ends: 2021-08-29 11:19:35.375495                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /coffe1891/frontend-hard-mode-interview.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /coffe1891/frontend-hard-mode-interview.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3895, done.
Counting objects:   0% (1/153)Counting objects:   1% (2/153)Counting objects:   2% (4/153)Counting objects:   3% (5/153)Counting objects:   4% (7/153)Counting objects:   5% (8/153)Counting objects:   6% (10/153)Counting objects:   7% (11/153)Counting objects:   8% (13/153)Counting objects:   9% (14/153)Counting objects:  10% (16/153)Counting objects:  11% (17/153)Counting objects:  12% (19/153)Counting objects:  13% (20/153)Counting objects:  14% (22/153)Counting objects:  15% (23/153)Counting objects:  16% (25/153)Counting objects:  17% (27/153)Counting objects:  18% (28/153)Counting objects:  19% (30/153)Counting objects:  20% (31/153)Counting objects:  21% (33/153)Counting objects:  22% (34/153)Counting objects:  23% (36/153)Counting objects:  24% (37/153)Counting objects:  25% (39/153)Counting objects:  26% (40/153)Counting objects:  27% (42/153)Counting objects:  28% (43/153)Counting objects:  29% (45/153)Counting objects:  30% (46/153)Counting objects:  31% (48/153)Counting objects:  32% (49/153)Counting objects:  33% (51/153)Counting objects:  34% (53/153)Counting objects:  35% (54/153)Counting objects:  36% (56/153)Counting objects:  37% (57/153)Counting objects:  38% (59/153)Counting objects:  39% (60/153)Counting objects:  40% (62/153)Counting objects:  41% (63/153)Counting objects:  42% (65/153)Counting objects:  43% (66/153)Counting objects:  44% (68/153)Counting objects:  45% (69/153)Counting objects:  46% (71/153)Counting objects:  47% (72/153)Counting objects:  48% (74/153)Counting objects:  49% (75/153)Counting objects:  50% (77/153)Counting objects:  51% (79/153)Counting objects:  52% (80/153)Counting objects:  53% (82/153)Counting objects:  54% (83/153)Counting objects:  55% (85/153)Counting objects:  56% (86/153)Counting objects:  57% (88/153)Counting objects:  58% (89/153)Counting objects:  59% (91/153)Counting objects:  60% (92/153)Counting objects:  61% (94/153)Counting objects:  62% (95/153)Counting objects:  63% (97/153)Counting objects:  64% (98/153)Counting objects:  65% (100/153)Counting objects:  66% (101/153)Counting objects:  67% (103/153)Counting objects:  68% (105/153)Counting objects:  69% (106/153)Counting objects:  70% (108/153)Counting objects:  71% (109/153)Counting objects:  72% (111/153)Counting objects:  73% (112/153)Counting objects:  74% (114/153)Counting objects:  75% (115/153)Counting objects:  76% (117/153)Counting objects:  77% (118/153)Counting objects:  78% (120/153)Counting objects:  79% (121/153)Counting objects:  80% (123/153)Counting objects:  81% (124/153)Counting objects:  82% (126/153)Counting objects:  83% (127/153)Counting objects:  84% (129/153)Counting objects:  85% (131/153)Counting objects:  86% (132/153)Counting objects:  87% (134/153)Counting objects:  88% (135/153)Counting objects:  89% (137/153)Counting objects:  90% (138/153)Counting objects:  91% (140/153)Counting objects:  92% (141/153)Counting objects:  93% (143/153)Counting objects:  94% (144/153)Counting objects:  95% (146/153)Counting objects:  96% (147/153)Counting objects:  97% (149/153)Counting objects:  98% (150/153)Counting objects:  99% (152/153)Counting objects: 100% (153/153)Counting objects: 100% (153/153), done.
Compressing objects:   0% (1/147)Compressing objects:   1% (2/147)Compressing objects:   2% (3/147)Compressing objects:   3% (5/147)Compressing objects:   4% (6/147)Compressing objects:   5% (8/147)Compressing objects:   6% (9/147)Compressing objects:   7% (11/147)Compressing objects:   8% (12/147)Compressing objects:   9% (14/147)Compressing objects:  10% (15/147)Compressing objects:  11% (17/147)Compressing objects:  12% (18/147)Compressing objects:  13% (20/147)Compressing objects:  14% (21/147)Compressing objects:  15% (23/147)Compressing objects:  16% (24/147)Compressing objects:  17% (25/147)Compressing objects:  18% (27/147)Compressing objects:  19% (28/147)Compressing objects:  20% (30/147)Compressing objects:  21% (31/147)Compressing objects:  22% (33/147)Compressing objects:  23% (34/147)Compressing objects:  24% (36/147)Compressing objects:  25% (37/147)Compressing objects:  26% (39/147)Compressing objects:  27% (40/147)Compressing objects:  28% (42/147)Compressing objects:  29% (43/147)Compressing objects:  30% (45/147)Compressing objects:  31% (46/147)Compressing objects:  32% (48/147)Compressing objects:  33% (49/147)Compressing objects:  34% (50/147)Compressing objects:  35% (52/147)Compressing objects:  36% (53/147)Compressing objects:  37% (55/147)Compressing objects:  38% (56/147)Compressing objects:  39% (58/147)Compressing objects:  40% (59/147)Compressing objects:  41% (61/147)Compressing objects:  42% (62/147)Compressing objects:  43% (64/147)Compressing objects:  44% (65/147)Compressing objects:  45% (67/147)Compressing objects:  46% (68/147)Compressing objects:  47% (70/147)Compressing objects:  48% (71/147)Compressing objects:  49% (73/147)Compressing objects:  50% (74/147)Compressing objects:  51% (75/147)Compressing objects:  52% (77/147)Compressing objects:  53% (78/147)Compressing objects:  54% (80/147)Compressing objects:  55% (81/147)Compressing objects:  56% (83/147)Compressing objects:  57% (84/147)Compressing objects:  58% (86/147)Compressing objects:  59% (87/147)Compressing objects:  60% (89/147)Compressing objects:  61% (90/147)Compressing objects:  62% (92/147)Compressing objects:  63% (93/147)Compressing objects:  64% (95/147)Compressing objects:  65% (96/147)Compressing objects:  66% (98/147)Compressing objects:  67% (99/147)Compressing objects:  68% (100/147)Compressing objects:  69% (102/147)Compressing objects:  70% (103/147)Compressing objects:  71% (105/147)Compressing objects:  72% (106/147)Compressing objects:  73% (108/147)Compressing objects:  74% (109/147)Compressing objects:  75% (111/147)Compressing objects:  76% (112/147)Compressing objects:  77% (114/147)Compressing objects:  78% (115/147)Compressing objects:  79% (117/147)Compressing objects:  80% (118/147)Compressing objects:  81% (120/147)Compressing objects:  82% (121/147)Compressing objects:  83% (123/147)Compressing objects:  84% (124/147)Compressing objects:  85% (125/147)Compressing objects:  86% (127/147)Compressing objects:  87% (128/147)Compressing objects:  88% (130/147)Compressing objects:  89% (131/147)Compressing objects:  90% (133/147)Compressing objects:  91% (134/147)Compressing objects:  92% (136/147)Compressing objects:  93% (137/147)Compressing objects:  94% (139/147)Compressing objects:  95% (140/147)Compressing objects:  96% (142/147)Compressing objects:  97% (143/147)Compressing objects:  98% (145/147)Compressing objects:  99% (146/147)Compressing objects: 100% (147/147)Compressing objects: 100% (147/147), done.
Total 3895 (delta 81), reused 3 (delta 2), pack-reused 3742
Checking out ffb7ff24d792522f8294fc81abe3ac6381053c1e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:46:31+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'b2dab849-8efc-49cf-a7cc-e31e8b2d144a', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git
INFO:EventListener:OK 105.406
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e
ERROR:EventListener:FAIL 108.998
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/coffe1891/frontend-hard-mode-interview.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '6d11051ec005ed2fc897b8028e1ddb5473618c81', '--to', 'ffb7ff24d792522f8294fc81abe3ac6381053c1e', '--git-dir', '/tmp/top-repos-quality-repos-0opmycgw/frontend-hard-mode-interview.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/electerious/ackee.git                                     =
= 11 / 27                                                                      =
= Now:  2021-08-29 10:50:06.442666                                             =
= Left: 0:34:17.737395                                                         =
= Ends: 2021-08-29 11:24:24.180061                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /electerious/ackee.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /electerious/ackee.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15571, done.
Counting objects:   0% (1/2486)Counting objects:   1% (25/2486)Counting objects:   2% (50/2486)Counting objects:   3% (75/2486)Counting objects:   4% (100/2486)Counting objects:   5% (125/2486)Counting objects:   6% (150/2486)Counting objects:   7% (175/2486)Counting objects:   8% (199/2486)Counting objects:   9% (224/2486)Counting objects:  10% (249/2486)Counting objects:  11% (274/2486)Counting objects:  12% (299/2486)Counting objects:  13% (324/2486)Counting objects:  14% (349/2486)Counting objects:  15% (373/2486)Counting objects:  16% (398/2486)Counting objects:  17% (423/2486)Counting objects:  18% (448/2486)Counting objects:  19% (473/2486)Counting objects:  20% (498/2486)Counting objects:  21% (523/2486)Counting objects:  22% (547/2486)Counting objects:  23% (572/2486)Counting objects:  24% (597/2486)Counting objects:  25% (622/2486)Counting objects:  26% (647/2486)Counting objects:  27% (672/2486)Counting objects:  28% (697/2486)Counting objects:  29% (721/2486)Counting objects:  30% (746/2486)Counting objects:  31% (771/2486)Counting objects:  32% (796/2486)Counting objects:  33% (821/2486)Counting objects:  34% (846/2486)Counting objects:  35% (871/2486)Counting objects:  36% (895/2486)Counting objects:  37% (920/2486)Counting objects:  38% (945/2486)Counting objects:  39% (970/2486)Counting objects:  40% (995/2486)Counting objects:  41% (1020/2486)Counting objects:  42% (1045/2486)Counting objects:  43% (1069/2486)Counting objects:  44% (1094/2486)Counting objects:  45% (1119/2486)Counting objects:  46% (1144/2486)Counting objects:  47% (1169/2486)Counting objects:  48% (1194/2486)Counting objects:  49% (1219/2486)Counting objects:  50% (1243/2486)Counting objects:  51% (1268/2486)Counting objects:  52% (1293/2486)Counting objects:  53% (1318/2486)Counting objects:  54% (1343/2486)Counting objects:  55% (1368/2486)Counting objects:  56% (1393/2486)Counting objects:  57% (1418/2486)Counting objects:  58% (1442/2486)Counting objects:  59% (1467/2486)Counting objects:  60% (1492/2486)Counting objects:  61% (1517/2486)Counting objects:  62% (1542/2486)Counting objects:  63% (1567/2486)Counting objects:  64% (1592/2486)Counting objects:  65% (1616/2486)Counting objects:  66% (1641/2486)Counting objects:  67% (1666/2486)Counting objects:  68% (1691/2486)Counting objects:  69% (1716/2486)Counting objects:  70% (1741/2486)Counting objects:  71% (1766/2486)Counting objects:  72% (1790/2486)Counting objects:  73% (1815/2486)Counting objects:  74% (1840/2486)Counting objects:  75% (1865/2486)Counting objects:  76% (1890/2486)Counting objects:  77% (1915/2486)Counting objects:  78% (1940/2486)Counting objects:  79% (1964/2486)Counting objects:  80% (1989/2486)Counting objects:  81% (2014/2486)Counting objects:  82% (2039/2486)Counting objects:  83% (2064/2486)Counting objects:  84% (2089/2486)Counting objects:  85% (2114/2486)Counting objects:  86% (2138/2486)Counting objects:  87% (2163/2486)Counting objects:  88% (2188/2486)Counting objects:  89% (2213/2486)Counting objects:  90% (2238/2486)Counting objects:  91% (2263/2486)Counting objects:  92% (2288/2486)Counting objects:  93% (2312/2486)Counting objects:  94% (2337/2486)Counting objects:  95% (2362/2486)Counting objects:  96% (2387/2486)Counting objects:  97% (2412/2486)Counting objects:  98% (2437/2486)Counting objects:  99% (2462/2486)Counting objects: 100% (2486/2486)Counting objects: 100% (2486/2486), done.
Compressing objects:   0% (1/902)Compressing objects:   1% (10/902)Compressing objects:   2% (19/902)Compressing objects:   3% (28/902)Compressing objects:   4% (37/902)Compressing objects:   5% (46/902)Compressing objects:   6% (55/902)Compressing objects:   7% (64/902)Compressing objects:   8% (73/902)Compressing objects:   9% (82/902)Compressing objects:  10% (91/902)Compressing objects:  11% (100/902)Compressing objects:  12% (109/902)Compressing objects:  13% (118/902)Compressing objects:  14% (127/902)Compressing objects:  15% (136/902)Compressing objects:  16% (145/902)Compressing objects:  17% (154/902)Compressing objects:  18% (163/902)Compressing objects:  19% (172/902)Compressing objects:  20% (181/902)Compressing objects:  21% (190/902)Compressing objects:  22% (199/902)Compressing objects:  23% (208/902)Compressing objects:  24% (217/902)Compressing objects:  25% (226/902)Compressing objects:  26% (235/902)Compressing objects:  27% (244/902)Compressing objects:  28% (253/902)Compressing objects:  29% (262/902)Compressing objects:  30% (271/902)Compressing objects:  31% (280/902)Compressing objects:  32% (289/902)Compressing objects:  33% (298/902)Compressing objects:  34% (307/902)Compressing objects:  35% (316/902)Compressing objects:  36% (325/902)Compressing objects:  37% (334/902)Compressing objects:  38% (343/902)Compressing objects:  39% (352/902)Compressing objects:  40% (361/902)Compressing objects:  41% (370/902)Compressing objects:  42% (379/902)Compressing objects:  43% (388/902)Compressing objects:  44% (397/902)Compressing objects:  45% (406/902)Compressing objects:  46% (415/902)Compressing objects:  47% (424/902)Compressing objects:  48% (433/902)Compressing objects:  49% (442/902)Compressing objects:  50% (451/902)Compressing objects:  51% (461/902)Compressing objects:  52% (470/902)Compressing objects:  53% (479/902)Compressing objects:  54% (488/902)Compressing objects:  55% (497/902)Compressing objects:  56% (506/902)Compressing objects:  57% (515/902)Compressing objects:  58% (524/902)Compressing objects:  59% (533/902)Compressing objects:  60% (542/902)Compressing objects:  61% (551/902)Compressing objects:  62% (560/902)Compressing objects:  63% (569/902)Compressing objects:  64% (578/902)Compressing objects:  65% (587/902)Compressing objects:  66% (596/902)Compressing objects:  67% (605/902)Compressing objects:  68% (614/902)Compressing objects:  69% (623/902)Compressing objects:  70% (632/902)Compressing objects:  71% (641/902)Compressing objects:  72% (650/902)Compressing objects:  73% (659/902)Compressing objects:  74% (668/902)Compressing objects:  75% (677/902)Compressing objects:  76% (686/902)Compressing objects:  77% (695/902)Compressing objects:  78% (704/902)Compressing objects:  79% (713/902)Compressing objects:  80% (722/902)Compressing objects:  81% (731/902)Compressing objects:  82% (740/902)Compressing objects:  83% (749/902)Compressing objects:  84% (758/902)Compressing objects:  85% (767/902)Compressing objects:  86% (776/902)Compressing objects:  87% (785/902)Compressing objects:  88% (794/902)Compressing objects:  89% (803/902)Compressing objects:  90% (812/902)Compressing objects:  91% (821/902)Compressing objects:  92% (830/902)Compressing objects:  93% (839/902)Compressing objects:  94% (848/902)Compressing objects:  95% (857/902)Compressing objects:  96% (866/902)Compressing objects:  97% (875/902)Compressing objects:  98% (884/902)Compressing objects:  99% (893/902)Compressing objects: 100% (902/902)Compressing objects: 100% (902/902), done.
Total 15571 (delta 1639), reused 2381 (delta 1581), pack-reused 13085
Checking out 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:50:10+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '43c85a86-877b-49e2-a7d7-91a2278b813f', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git
INFO:EventListener:OK 133.361
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-rnwt388b/ackee/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-rnwt388b/ackee/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-rnwt388b/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
ERROR:EventListener:FAIL 123.022
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/electerious/ackee.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '1710fcd013482a13faeb449fabd2728edf50adfb', '--to', '9a6e51d337ab7c9affdc6752e1acbe9405d0f633', '--git-dir', '/tmp/top-repos-quality-repos-rnwt388b/ackee.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/ines/termynal.git                                         =
= 12 / 27                                                                      =
= Now:  2021-08-29 10:54:26.592669                                             =
= Left: 0:35:39.030931                                                         =
= Ends: 2021-08-29 11:30:05.623600                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /ines/termynal.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /ines/termynal.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 112, done.
Counting objects:   4% (1/24)Counting objects:   8% (2/24)Counting objects:  12% (3/24)Counting objects:  16% (4/24)Counting objects:  20% (5/24)Counting objects:  25% (6/24)Counting objects:  29% (7/24)Counting objects:  33% (8/24)Counting objects:  37% (9/24)Counting objects:  41% (10/24)Counting objects:  45% (11/24)Counting objects:  50% (12/24)Counting objects:  54% (13/24)Counting objects:  58% (14/24)Counting objects:  62% (15/24)Counting objects:  66% (16/24)Counting objects:  70% (17/24)Counting objects:  75% (18/24)Counting objects:  79% (19/24)Counting objects:  83% (20/24)Counting objects:  87% (21/24)Counting objects:  91% (22/24)Counting objects:  95% (23/24)Counting objects: 100% (24/24)Counting objects: 100% (24/24), done.
Compressing objects:   5% (1/18)Compressing objects:  11% (2/18)Compressing objects:  16% (3/18)Compressing objects:  22% (4/18)Compressing objects:  27% (5/18)Compressing objects:  33% (6/18)Compressing objects:  38% (7/18)Compressing objects:  44% (8/18)Compressing objects:  50% (9/18)Compressing objects:  55% (10/18)Compressing objects:  61% (11/18)Compressing objects:  66% (12/18)Compressing objects:  72% (13/18)Compressing objects:  77% (14/18)Compressing objects:  83% (15/18)Compressing objects:  88% (16/18)Compressing objects:  94% (17/18)Compressing objects: 100% (18/18)Compressing objects: 100% (18/18), done.
Total 112 (delta 5), reused 20 (delta 4), pack-reused 88
Checking out 9b301892db6f8d403abfce7adf65888dffed72ea
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:54:27+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '0f826dc7-fe70-4e76-a494-fba0996d566a', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git
INFO:EventListener:OK 96.859
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mu_u1u2c/termynal/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mu_u1u2c/termynal/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mu_u1u2c/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea
ERROR:EventListener:FAIL 134.811
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/ines/termynal.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '39389bf5a3cf7ad5cceda733ea6a1c7ed6e9d532', '--to', '9b301892db6f8d403abfce7adf65888dffed72ea', '--git-dir', '/tmp/top-repos-quality-repos-mu_u1u2c/termynal.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/wordpress-mobile/wordpress-editor-ios.git                 =
= 13 / 27                                                                      =
= Now:  2021-08-29 10:58:19.114804                                             =
= Left: 0:35:28.882375                                                         =
= Ends: 2021-08-29 11:33:47.997179                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /wordpress-mobile/wordpress-editor-ios.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /wordpress-mobile/wordpress-editor-ios.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 9153, done.
Total 9153 (delta 0), reused 0 (delta 0), pack-reused 9153
Checking out b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 10:58:27+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '1cf7b75f-f397-439a-b186-0f13bf7f606b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git
INFO:EventListener:OK 118.558
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
ERROR:EventListener:FAIL 141.263
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/wordpress-mobile/wordpress-editor-ios.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '18115b109e90e91fb41fc7c062c84dee23f42ef7', '--to', 'b56b59e8f76b6eaf0bb378b487d7ec38db5a407e', '--git-dir', '/tmp/top-repos-quality-repos-caeu6s05/wordpress-editor-ios.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/alexmojaki/birdseye.git                                   =
= 14 / 27                                                                      =
= Now:  2021-08-29 11:02:47.154718                                             =
= Left: 0:35:22.772415                                                         =
= Ends: 2021-08-29 11:38:09.927133                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /alexmojaki/birdseye.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /alexmojaki/birdseye.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 2365, done.
Counting objects:   0% (1/284)Counting objects:   1% (3/284)Counting objects:   2% (6/284)Counting objects:   3% (9/284)Counting objects:   4% (12/284)Counting objects:   5% (15/284)Counting objects:   6% (18/284)Counting objects:   7% (20/284)Counting objects:   8% (23/284)Counting objects:   9% (26/284)Counting objects:  10% (29/284)Counting objects:  11% (32/284)Counting objects:  12% (35/284)Counting objects:  13% (37/284)Counting objects:  14% (40/284)Counting objects:  15% (43/284)Counting objects:  16% (46/284)Counting objects:  17% (49/284)Counting objects:  18% (52/284)Counting objects:  19% (54/284)Counting objects:  20% (57/284)Counting objects:  21% (60/284)Counting objects:  22% (63/284)Counting objects:  23% (66/284)Counting objects:  24% (69/284)Counting objects:  25% (71/284)Counting objects:  26% (74/284)Counting objects:  27% (77/284)Counting objects:  28% (80/284)Counting objects:  29% (83/284)Counting objects:  30% (86/284)Counting objects:  31% (89/284)Counting objects:  32% (91/284)Counting objects:  33% (94/284)Counting objects:  34% (97/284)Counting objects:  35% (100/284)Counting objects:  36% (103/284)Counting objects:  37% (106/284)Counting objects:  38% (108/284)Counting objects:  39% (111/284)Counting objects:  40% (114/284)Counting objects:  41% (117/284)Counting objects:  42% (120/284)Counting objects:  43% (123/284)Counting objects:  44% (125/284)Counting objects:  45% (128/284)Counting objects:  46% (131/284)Counting objects:  47% (134/284)Counting objects:  48% (137/284)Counting objects:  49% (140/284)Counting objects:  50% (142/284)Counting objects:  51% (145/284)Counting objects:  52% (148/284)Counting objects:  53% (151/284)Counting objects:  54% (154/284)Counting objects:  55% (157/284)Counting objects:  56% (160/284)Counting objects:  57% (162/284)Counting objects:  58% (165/284)Counting objects:  59% (168/284)Counting objects:  60% (171/284)Counting objects:  61% (174/284)Counting objects:  62% (177/284)Counting objects:  63% (179/284)Counting objects:  64% (182/284)Counting objects:  65% (185/284)Counting objects:  66% (188/284)Counting objects:  67% (191/284)Counting objects:  68% (194/284)Counting objects:  69% (196/284)Counting objects:  70% (199/284)Counting objects:  71% (202/284)Counting objects:  72% (205/284)Counting objects:  73% (208/284)Counting objects:  74% (211/284)Counting objects:  75% (213/284)Counting objects:  76% (216/284)Counting objects:  77% (219/284)Counting objects:  78% (222/284)Counting objects:  79% (225/284)Counting objects:  80% (228/284)Counting objects:  81% (231/284)Counting objects:  82% (233/284)Counting objects:  83% (236/284)Counting objects:  84% (239/284)Counting objects:  85% (242/284)Counting objects:  86% (245/284)Counting objects:  87% (248/284)Counting objects:  88% (250/284)Counting objects:  89% (253/284)Counting objects:  90% (256/284)Counting objects:  91% (259/284)Counting objects:  92% (262/284)Counting objects:  93% (265/284)Counting objects:  94% (267/284)Counting objects:  95% (270/284)Counting objects:  96% (273/284)Counting objects:  97% (276/284)Counting objects:  98% (279/284)Counting objects:  99% (282/284)Counting objects: 100% (284/284)Counting objects: 100% (284/284), done.
Compressing objects:   0% (1/190)Compressing objects:   1% (2/190)Compressing objects:   2% (4/190)Compressing objects:   3% (6/190)Compressing objects:   4% (8/190)Compressing objects:   5% (10/190)Compressing objects:   6% (12/190)Compressing objects:   7% (14/190)Compressing objects:   8% (16/190)Compressing objects:   9% (18/190)Compressing objects:  10% (19/190)Compressing objects:  11% (21/190)Compressing objects:  12% (23/190)Compressing objects:  13% (25/190)Compressing objects:  14% (27/190)Compressing objects:  15% (29/190)Compressing objects:  16% (31/190)Compressing objects:  17% (33/190)Compressing objects:  18% (35/190)Compressing objects:  19% (37/190)Compressing objects:  20% (38/190)Compressing objects:  21% (40/190)Compressing objects:  22% (42/190)Compressing objects:  23% (44/190)Compressing objects:  24% (46/190)Compressing objects:  25% (48/190)Compressing objects:  26% (50/190)Compressing objects:  27% (52/190)Compressing objects:  28% (54/190)Compressing objects:  29% (56/190)Compressing objects:  30% (57/190)Compressing objects:  31% (59/190)Compressing objects:  32% (61/190)Compressing objects:  33% (63/190)Compressing objects:  34% (65/190)Compressing objects:  35% (67/190)Compressing objects:  36% (69/190)Compressing objects:  37% (71/190)Compressing objects:  38% (73/190)Compressing objects:  39% (75/190)Compressing objects:  40% (76/190)Compressing objects:  41% (78/190)Compressing objects:  42% (80/190)Compressing objects:  43% (82/190)Compressing objects:  44% (84/190)Compressing objects:  45% (86/190)Compressing objects:  46% (88/190)Compressing objects:  47% (90/190)Compressing objects:  48% (92/190)Compressing objects:  49% (94/190)Compressing objects:  50% (95/190)Compressing objects:  51% (97/190)Compressing objects:  52% (99/190)Compressing objects:  53% (101/190)Compressing objects:  54% (103/190)Compressing objects:  55% (105/190)Compressing objects:  56% (107/190)Compressing objects:  57% (109/190)Compressing objects:  58% (111/190)Compressing objects:  59% (113/190)Compressing objects:  60% (114/190)Compressing objects:  61% (116/190)Compressing objects:  62% (118/190)Compressing objects:  63% (120/190)Compressing objects:  64% (122/190)Compressing objects:  65% (124/190)Compressing objects:  66% (126/190)Compressing objects:  67% (128/190)Compressing objects:  68% (130/190)Compressing objects:  69% (132/190)Compressing objects:  70% (133/190)Compressing objects:  71% (135/190)Compressing objects:  72% (137/190)Compressing objects:  73% (139/190)Compressing objects:  74% (141/190)Compressing objects:  75% (143/190)Compressing objects:  76% (145/190)Compressing objects:  77% (147/190)Compressing objects:  78% (149/190)Compressing objects:  79% (151/190)Compressing objects:  80% (152/190)Compressing objects:  81% (154/190)Compressing objects:  82% (156/190)Compressing objects:  83% (158/190)Compressing objects:  84% (160/190)Compressing objects:  85% (162/190)Compressing objects:  86% (164/190)Compressing objects:  87% (166/190)Compressing objects:  88% (168/190)Compressing objects:  89% (170/190)Compressing objects:  90% (171/190)Compressing objects:  91% (173/190)Compressing objects:  92% (175/190)Compressing objects:  93% (177/190)Compressing objects:  94% (179/190)Compressing objects:  95% (181/190)Compressing objects:  96% (183/190)Compressing objects:  97% (185/190)Compressing objects:  98% (187/190)Compressing objects:  99% (189/190)Compressing objects: 100% (190/190)Compressing objects: 100% (190/190), done.
Total 2365 (delta 164), reused 189 (delta 93), pack-reused 2081
Checking out 0f0e0b40e16584d232587e0cffec41660a158aa0
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:02:48+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '7aa1a6ef-216a-4a66-bf34-3bb3d42c10f1', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git
INFO:EventListener:OK 130.644
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-x460rupi/birdseye/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-x460rupi/birdseye/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-x460rupi/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0
ERROR:EventListener:FAIL 132.293
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/alexmojaki/birdseye.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '7038bfe7dcd51cc8a079a9be33688d2b450e1c83', '--to', '0f0e0b40e16584d232587e0cffec41660a158aa0', '--git-dir', '/tmp/top-repos-quality-repos-x460rupi/birdseye.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/yangshun/tech-interview-handbook.git                      =
= 15 / 27                                                                      =
= Now:  2021-08-29 11:07:11.568009                                             =
= Left: 0:34:35.876312                                                         =
= Ends: 2021-08-29 11:41:47.444321                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /yangshun/tech-interview-handbook.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /yangshun/tech-interview-handbook.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 16538, done.
Counting objects:   0% (1/7474)Counting objects:   1% (75/7474)Counting objects:   2% (150/7474)Counting objects:   3% (225/7474)Counting objects:   4% (299/7474)Counting objects:   5% (374/7474)Counting objects:   6% (449/7474)Counting objects:   7% (524/7474)Counting objects:   8% (598/7474)Counting objects:   9% (673/7474)Counting objects:  10% (748/7474)Counting objects:  11% (823/7474)Counting objects:  12% (897/7474)Counting objects:  13% (972/7474)Counting objects:  14% (1047/7474)Counting objects:  15% (1122/7474)Counting objects:  16% (1196/7474)Counting objects:  17% (1271/7474)Counting objects:  18% (1346/7474)Counting objects:  19% (1421/7474)Counting objects:  20% (1495/7474)Counting objects:  21% (1570/7474)Counting objects:  22% (1645/7474)Counting objects:  23% (1720/7474)Counting objects:  24% (1794/7474)Counting objects:  25% (1869/7474)Counting objects:  26% (1944/7474)Counting objects:  27% (2018/7474)Counting objects:  28% (2093/7474)Counting objects:  29% (2168/7474)Counting objects:  30% (2243/7474)Counting objects:  31% (2317/7474)Counting objects:  32% (2392/7474)Counting objects:  33% (2467/7474)Counting objects:  34% (2542/7474)Counting objects:  35% (2616/7474)Counting objects:  36% (2691/7474)Counting objects:  37% (2766/7474)Counting objects:  38% (2841/7474)Counting objects:  39% (2915/7474)Counting objects:  40% (2990/7474)Counting objects:  41% (3065/7474)Counting objects:  42% (3140/7474)Counting objects:  43% (3214/7474)Counting objects:  44% (3289/7474)Counting objects:  45% (3364/7474)Counting objects:  46% (3439/7474)Counting objects:  47% (3513/7474)Counting objects:  48% (3588/7474)Counting objects:  49% (3663/7474)Counting objects:  50% (3737/7474)Counting objects:  51% (3812/7474)Counting objects:  52% (3887/7474)Counting objects:  53% (3962/7474)Counting objects:  54% (4036/7474)Counting objects:  55% (4111/7474)Counting objects:  56% (4186/7474)Counting objects:  57% (4261/7474)Counting objects:  58% (4335/7474)Counting objects:  59% (4410/7474)Counting objects:  60% (4485/7474)Counting objects:  61% (4560/7474)Counting objects:  62% (4634/7474)Counting objects:  63% (4709/7474)Counting objects:  64% (4784/7474)Counting objects:  65% (4859/7474)Counting objects:  66% (4933/7474)Counting objects:  67% (5008/7474)Counting objects:  68% (5083/7474)Counting objects:  69% (5158/7474)Counting objects:  70% (5232/7474)Counting objects:  71% (5307/7474)Counting objects:  72% (5382/7474)Counting objects:  73% (5457/7474)Counting objects:  74% (5531/7474)Counting objects:  75% (5606/7474)Counting objects:  76% (5681/7474)Counting objects:  77% (5755/7474)Counting objects:  78% (5830/7474)Counting objects:  79% (5905/7474)Counting objects:  80% (5980/7474)Counting objects:  81% (6054/7474)Counting objects:  82% (6129/7474)Counting objects:  83% (6204/7474)Counting objects:  84% (6279/7474)Counting objects:  85% (6353/7474)Counting objects:  86% (6428/7474)Counting objects:  87% (6503/7474)Counting objects:  88% (6578/7474)Counting objects:  89% (6652/7474)Counting objects:  90% (6727/7474)Counting objects:  91% (6802/7474)Counting objects:  92% (6877/7474)Counting objects:  93% (6951/7474)Counting objects:  94% (7026/7474)Counting objects:  95% (7101/7474)Counting objects:  96% (7176/7474)Counting objects:  97% (7250/7474)Counting objects:  98% (7325/7474)Counting objects:  99% (7400/7474)Counting objects: 100% (7474/7474)Counting objects: 100% (7474/7474), done.
Compressing objects:   0% (1/842)Compressing objects:   1% (9/842)Compressing objects:   2% (17/842)Compressing objects:   3% (26/842)Compressing objects:   4% (34/842)Compressing objects:   5% (43/842)Compressing objects:   6% (51/842)Compressing objects:   7% (59/842)Compressing objects:   8% (68/842)Compressing objects:   9% (76/842)Compressing objects:  10% (85/842)Compressing objects:  11% (93/842)Compressing objects:  12% (102/842)Compressing objects:  13% (110/842)Compressing objects:  14% (118/842)Compressing objects:  15% (127/842)Compressing objects:  16% (135/842)Compressing objects:  17% (144/842)Compressing objects:  18% (152/842)Compressing objects:  19% (160/842)Compressing objects:  20% (169/842)Compressing objects:  21% (177/842)Compressing objects:  22% (186/842)Compressing objects:  23% (194/842)Compressing objects:  24% (203/842)Compressing objects:  25% (211/842)Compressing objects:  26% (219/842)Compressing objects:  27% (228/842)Compressing objects:  28% (236/842)Compressing objects:  29% (245/842)Compressing objects:  30% (253/842)Compressing objects:  31% (262/842)Compressing objects:  32% (270/842)Compressing objects:  33% (278/842)Compressing objects:  34% (287/842)Compressing objects:  35% (295/842)Compressing objects:  36% (304/842)Compressing objects:  37% (312/842)Compressing objects:  38% (320/842)Compressing objects:  39% (329/842)Compressing objects:  40% (337/842)Compressing objects:  41% (346/842)Compressing objects:  42% (354/842)Compressing objects:  43% (363/842)Compressing objects:  44% (371/842)Compressing objects:  45% (379/842)Compressing objects:  46% (388/842)Compressing objects:  47% (396/842)Compressing objects:  48% (405/842)Compressing objects:  49% (413/842)Compressing objects:  50% (421/842)Compressing objects:  51% (430/842)Compressing objects:  52% (438/842)Compressing objects:  53% (447/842)Compressing objects:  54% (455/842)Compressing objects:  55% (464/842)Compressing objects:  56% (472/842)Compressing objects:  57% (480/842)Compressing objects:  58% (489/842)Compressing objects:  59% (497/842)Compressing objects:  60% (506/842)Compressing objects:  61% (514/842)Compressing objects:  62% (523/842)Compressing objects:  63% (531/842)Compressing objects:  64% (539/842)Compressing objects:  65% (548/842)Compressing objects:  66% (556/842)Compressing objects:  67% (565/842)Compressing objects:  68% (573/842)Compressing objects:  69% (581/842)Compressing objects:  70% (590/842)Compressing objects:  71% (598/842)Compressing objects:  72% (607/842)Compressing objects:  73% (615/842)Compressing objects:  74% (624/842)Compressing objects:  75% (632/842)Compressing objects:  76% (640/842)Compressing objects:  77% (649/842)Compressing objects:  78% (657/842)Compressing objects:  79% (666/842)Compressing objects:  80% (674/842)Compressing objects:  81% (683/842)Compressing objects:  82% (691/842)Compressing objects:  83% (699/842)Compressing objects:  84% (708/842)Compressing objects:  85% (716/842)Compressing objects:  86% (725/842)Compressing objects:  87% (733/842)Compressing objects:  88% (741/842)Compressing objects:  89% (750/842)Compressing objects:  90% (758/842)Compressing objects:  91% (767/842)Compressing objects:  92% (775/842)Compressing objects:  93% (784/842)Compressing objects:  94% (792/842)Compressing objects:  95% (800/842)Compressing objects:  96% (809/842)Compressing objects:  97% (817/842)Compressing objects:  98% (826/842)Compressing objects:  99% (834/842)Compressing objects: 100% (842/842)Compressing objects: 100% (842/842), done.
Total 16538 (delta 3904), reused 7241 (delta 3709), pack-reused 9064
Checking out 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:07:15+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '5cf265d8-8b9e-429a-8c00-339e1f3c495d', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git
INFO:EventListener:OK 128.490
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
ERROR:EventListener:FAIL 133.394
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/yangshun/tech-interview-handbook.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'd0458155cf537b6db04da73d0556a0339b3ad26f', '--to', '89318237ccb161a786cc0b5b50a2d9a85b09a9d6', '--git-dir', '/tmp/top-repos-quality-repos-w2abz2lf/tech-interview-handbook.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/tengbao/vanta.git                                         =
= 16 / 27                                                                      =
= Now:  2021-08-29 11:11:37.822239                                             =
= Left: 0:33:21.450668                                                         =
= Ends: 2021-08-29 11:44:59.272907                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /tengbao/vanta.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /tengbao/vanta.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1790, done.
Counting objects:   0% (1/148)Counting objects:   1% (2/148)Counting objects:   2% (3/148)Counting objects:   3% (5/148)Counting objects:   4% (6/148)Counting objects:   5% (8/148)Counting objects:   6% (9/148)Counting objects:   7% (11/148)Counting objects:   8% (12/148)Counting objects:   9% (14/148)Counting objects:  10% (15/148)Counting objects:  11% (17/148)Counting objects:  12% (18/148)Counting objects:  13% (20/148)Counting objects:  14% (21/148)Counting objects:  15% (23/148)Counting objects:  16% (24/148)Counting objects:  17% (26/148)Counting objects:  18% (27/148)Counting objects:  19% (29/148)Counting objects:  20% (30/148)Counting objects:  21% (32/148)Counting objects:  22% (33/148)Counting objects:  23% (35/148)Counting objects:  24% (36/148)Counting objects:  25% (37/148)Counting objects:  26% (39/148)Counting objects:  27% (40/148)Counting objects:  28% (42/148)Counting objects:  29% (43/148)Counting objects:  30% (45/148)Counting objects:  31% (46/148)Counting objects:  32% (48/148)Counting objects:  33% (49/148)Counting objects:  34% (51/148)Counting objects:  35% (52/148)Counting objects:  36% (54/148)Counting objects:  37% (55/148)Counting objects:  38% (57/148)Counting objects:  39% (58/148)Counting objects:  40% (60/148)Counting objects:  41% (61/148)Counting objects:  42% (63/148)Counting objects:  43% (64/148)Counting objects:  44% (66/148)Counting objects:  45% (67/148)Counting objects:  46% (69/148)Counting objects:  47% (70/148)Counting objects:  48% (72/148)Counting objects:  49% (73/148)Counting objects:  50% (74/148)Counting objects:  51% (76/148)Counting objects:  52% (77/148)Counting objects:  53% (79/148)Counting objects:  54% (80/148)Counting objects:  55% (82/148)Counting objects:  56% (83/148)Counting objects:  57% (85/148)Counting objects:  58% (86/148)Counting objects:  59% (88/148)Counting objects:  60% (89/148)Counting objects:  61% (91/148)Counting objects:  62% (92/148)Counting objects:  63% (94/148)Counting objects:  64% (95/148)Counting objects:  65% (97/148)Counting objects:  66% (98/148)Counting objects:  67% (100/148)Counting objects:  68% (101/148)Counting objects:  69% (103/148)Counting objects:  70% (104/148)Counting objects:  71% (106/148)Counting objects:  72% (107/148)Counting objects:  73% (109/148)Counting objects:  74% (110/148)Counting objects:  75% (111/148)Counting objects:  76% (113/148)Counting objects:  77% (114/148)Counting objects:  78% (116/148)Counting objects:  79% (117/148)Counting objects:  80% (119/148)Counting objects:  81% (120/148)Counting objects:  82% (122/148)Counting objects:  83% (123/148)Counting objects:  84% (125/148)Counting objects:  85% (126/148)Counting objects:  86% (128/148)Counting objects:  87% (129/148)Counting objects:  88% (131/148)Counting objects:  89% (132/148)Counting objects:  90% (134/148)Counting objects:  91% (135/148)Counting objects:  92% (137/148)Counting objects:  93% (138/148)Counting objects:  94% (140/148)Counting objects:  95% (141/148)Counting objects:  96% (143/148)Counting objects:  97% (144/148)Counting objects:  98% (146/148)Counting objects:  99% (147/148)Counting objects: 100% (148/148)Counting objects: 100% (148/148), done.
Compressing objects:   0% (1/125)Compressing objects:   1% (2/125)Compressing objects:   2% (3/125)Compressing objects:   3% (4/125)Compressing objects:   4% (5/125)Compressing objects:   5% (7/125)Compressing objects:   6% (8/125)Compressing objects:   7% (9/125)Compressing objects:   8% (10/125)Compressing objects:   9% (12/125)Compressing objects:  10% (13/125)Compressing objects:  11% (14/125)Compressing objects:  12% (15/125)Compressing objects:  13% (17/125)Compressing objects:  14% (18/125)Compressing objects:  15% (19/125)Compressing objects:  16% (20/125)Compressing objects:  17% (22/125)Compressing objects:  18% (23/125)Compressing objects:  19% (24/125)Compressing objects:  20% (25/125)Compressing objects:  21% (27/125)Compressing objects:  22% (28/125)Compressing objects:  23% (29/125)Compressing objects:  24% (30/125)Compressing objects:  25% (32/125)Compressing objects:  26% (33/125)Compressing objects:  27% (34/125)Compressing objects:  28% (35/125)Compressing objects:  29% (37/125)Compressing objects:  30% (38/125)Compressing objects:  31% (39/125)Compressing objects:  32% (40/125)Compressing objects:  33% (42/125)Compressing objects:  34% (43/125)Compressing objects:  35% (44/125)Compressing objects:  36% (45/125)Compressing objects:  37% (47/125)Compressing objects:  38% (48/125)Compressing objects:  39% (49/125)Compressing objects:  40% (50/125)Compressing objects:  41% (52/125)Compressing objects:  42% (53/125)Compressing objects:  43% (54/125)Compressing objects:  44% (55/125)Compressing objects:  45% (57/125)Compressing objects:  46% (58/125)Compressing objects:  47% (59/125)Compressing objects:  48% (60/125)Compressing objects:  49% (62/125)Compressing objects:  50% (63/125)Compressing objects:  51% (64/125)Compressing objects:  52% (65/125)Compressing objects:  53% (67/125)Compressing objects:  54% (68/125)Compressing objects:  55% (69/125)Compressing objects:  56% (70/125)Compressing objects:  57% (72/125)Compressing objects:  58% (73/125)Compressing objects:  59% (74/125)Compressing objects:  60% (75/125)Compressing objects:  61% (77/125)Compressing objects:  62% (78/125)Compressing objects:  63% (79/125)Compressing objects:  64% (80/125)Compressing objects:  65% (82/125)Compressing objects:  66% (83/125)Compressing objects:  67% (84/125)Compressing objects:  68% (85/125)Compressing objects:  69% (87/125)Compressing objects:  70% (88/125)Compressing objects:  71% (89/125)Compressing objects:  72% (90/125)Compressing objects:  73% (92/125)Compressing objects:  74% (93/125)Compressing objects:  75% (94/125)Compressing objects:  76% (95/125)Compressing objects:  77% (97/125)Compressing objects:  78% (98/125)Compressing objects:  79% (99/125)Compressing objects:  80% (100/125)Compressing objects:  81% (102/125)Compressing objects:  82% (103/125)Compressing objects:  83% (104/125)Compressing objects:  84% (105/125)Compressing objects:  85% (107/125)Compressing objects:  86% (108/125)Compressing objects:  87% (109/125)Compressing objects:  88% (110/125)Compressing objects:  89% (112/125)Compressing objects:  90% (113/125)Compressing objects:  91% (114/125)Compressing objects:  92% (115/125)Compressing objects:  93% (117/125)Compressing objects:  94% (118/125)Compressing objects:  95% (119/125)Compressing objects:  96% (120/125)Compressing objects:  97% (122/125)Compressing objects:  98% (123/125)Compressing objects:  99% (124/125)Compressing objects: 100% (125/125)Compressing objects: 100% (125/125), done.
Total 1790 (delta 84), reused 43 (delta 23), pack-reused 1642
Checking out 2f5cfabfd4388a362b337a9b74783cb96de92b4f
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:11:39+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'aca6dd90-ad0d-4ffc-ac36-24b0e2ceacf7', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git
INFO:EventListener:OK 140.912
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-kuoa52m6/vanta/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-kuoa52m6/vanta/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-kuoa52m6/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f
ERROR:EventListener:FAIL 107.156
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/tengbao/vanta.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '9a6e92a53cb5531b72a976c126b78e0ead2991f9', '--to', '2f5cfabfd4388a362b337a9b74783cb96de92b4f', '--git-dir', '/tmp/top-repos-quality-repos-kuoa52m6/vanta.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/enzymejs/enzyme.git                                       =
= 17 / 27                                                                      =
= Now:  2021-08-29 11:15:47.576624                                             =
= Left: 0:31:31.702808                                                         =
= Ends: 2021-08-29 11:47:19.279432                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /enzymejs/enzyme.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /enzymejs/enzyme.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 18421, done.
Counting objects:   0% (1/491)Counting objects:   1% (5/491)Counting objects:   2% (10/491)Counting objects:   3% (15/491)Counting objects:   4% (20/491)Counting objects:   5% (25/491)Counting objects:   6% (30/491)Counting objects:   7% (35/491)Counting objects:   8% (40/491)Counting objects:   9% (45/491)Counting objects:  10% (50/491)Counting objects:  11% (55/491)Counting objects:  12% (59/491)Counting objects:  13% (64/491)Counting objects:  14% (69/491)Counting objects:  15% (74/491)Counting objects:  16% (79/491)Counting objects:  17% (84/491)Counting objects:  18% (89/491)Counting objects:  19% (94/491)Counting objects:  20% (99/491)Counting objects:  21% (104/491)Counting objects:  22% (109/491)Counting objects:  23% (113/491)Counting objects:  24% (118/491)Counting objects:  25% (123/491)Counting objects:  26% (128/491)Counting objects:  27% (133/491)Counting objects:  28% (138/491)Counting objects:  29% (143/491)Counting objects:  30% (148/491)Counting objects:  31% (153/491)Counting objects:  32% (158/491)Counting objects:  33% (163/491)Counting objects:  34% (167/491)Counting objects:  35% (172/491)Counting objects:  36% (177/491)Counting objects:  37% (182/491)Counting objects:  38% (187/491)Counting objects:  39% (192/491)Counting objects:  40% (197/491)Counting objects:  41% (202/491)Counting objects:  42% (207/491)Counting objects:  43% (212/491)Counting objects:  44% (217/491)Counting objects:  45% (221/491)Counting objects:  46% (226/491)Counting objects:  47% (231/491)Counting objects:  48% (236/491)Counting objects:  49% (241/491)Counting objects:  50% (246/491)Counting objects:  51% (251/491)Counting objects:  52% (256/491)Counting objects:  53% (261/491)Counting objects:  54% (266/491)Counting objects:  55% (271/491)Counting objects:  56% (275/491)Counting objects:  57% (280/491)Counting objects:  58% (285/491)Counting objects:  59% (290/491)Counting objects:  60% (295/491)Counting objects:  61% (300/491)Counting objects:  62% (305/491)Counting objects:  63% (310/491)Counting objects:  64% (315/491)Counting objects:  65% (320/491)Counting objects:  66% (325/491)Counting objects:  67% (329/491)Counting objects:  68% (334/491)Counting objects:  69% (339/491)Counting objects:  70% (344/491)Counting objects:  71% (349/491)Counting objects:  72% (354/491)Counting objects:  73% (359/491)Counting objects:  74% (364/491)Counting objects:  75% (369/491)Counting objects:  76% (374/491)Counting objects:  77% (379/491)Counting objects:  78% (383/491)Counting objects:  79% (388/491)Counting objects:  80% (393/491)Counting objects:  81% (398/491)Counting objects:  82% (403/491)Counting objects:  83% (408/491)Counting objects:  84% (413/491)Counting objects:  85% (418/491)Counting objects:  86% (423/491)Counting objects:  87% (428/491)Counting objects:  88% (433/491)Counting objects:  89% (437/491)Counting objects:  90% (442/491)Counting objects:  91% (447/491)Counting objects:  92% (452/491)Counting objects:  93% (457/491)Counting objects:  94% (462/491)Counting objects:  95% (467/491)Counting objects:  96% (472/491)Counting objects:  97% (477/491)Counting objects:  98% (482/491)Counting objects:  99% (487/491)Counting objects: 100% (491/491)Counting objects: 100% (491/491), done.
Compressing objects:   0% (1/278)Compressing objects:   1% (3/278)Compressing objects:   2% (6/278)Compressing objects:   3% (9/278)Compressing objects:   4% (12/278)Compressing objects:   5% (14/278)Compressing objects:   6% (17/278)Compressing objects:   7% (20/278)Compressing objects:   8% (23/278)Compressing objects:   9% (26/278)Compressing objects:  10% (28/278)Compressing objects:  11% (31/278)Compressing objects:  12% (34/278)Compressing objects:  13% (37/278)Compressing objects:  14% (39/278)Compressing objects:  15% (42/278)Compressing objects:  16% (45/278)Compressing objects:  17% (48/278)Compressing objects:  18% (51/278)Compressing objects:  19% (53/278)Compressing objects:  20% (56/278)Compressing objects:  21% (59/278)Compressing objects:  22% (62/278)Compressing objects:  23% (64/278)Compressing objects:  24% (67/278)Compressing objects:  25% (70/278)Compressing objects:  26% (73/278)Compressing objects:  27% (76/278)Compressing objects:  28% (78/278)Compressing objects:  29% (81/278)Compressing objects:  30% (84/278)Compressing objects:  31% (87/278)Compressing objects:  32% (89/278)Compressing objects:  33% (92/278)Compressing objects:  34% (95/278)Compressing objects:  35% (98/278)Compressing objects:  36% (101/278)Compressing objects:  37% (103/278)Compressing objects:  38% (106/278)Compressing objects:  39% (109/278)Compressing objects:  40% (112/278)Compressing objects:  41% (114/278)Compressing objects:  42% (117/278)Compressing objects:  43% (120/278)Compressing objects:  44% (123/278)Compressing objects:  45% (126/278)Compressing objects:  46% (128/278)Compressing objects:  47% (131/278)Compressing objects:  48% (134/278)Compressing objects:  49% (137/278)Compressing objects:  50% (139/278)Compressing objects:  51% (142/278)Compressing objects:  52% (145/278)Compressing objects:  53% (148/278)Compressing objects:  54% (151/278)Compressing objects:  55% (153/278)Compressing objects:  56% (156/278)Compressing objects:  57% (159/278)Compressing objects:  58% (162/278)Compressing objects:  59% (165/278)Compressing objects:  60% (167/278)Compressing objects:  61% (170/278)Compressing objects:  62% (173/278)Compressing objects:  63% (176/278)Compressing objects:  64% (178/278)Compressing objects:  65% (181/278)Compressing objects:  66% (184/278)Compressing objects:  67% (187/278)Compressing objects:  68% (190/278)Compressing objects:  69% (192/278)Compressing objects:  70% (195/278)Compressing objects:  71% (198/278)Compressing objects:  72% (201/278)Compressing objects:  73% (203/278)Compressing objects:  74% (206/278)Compressing objects:  75% (209/278)Compressing objects:  76% (212/278)Compressing objects:  77% (215/278)Compressing objects:  78% (217/278)Compressing objects:  79% (220/278)Compressing objects:  80% (223/278)Compressing objects:  81% (226/278)Compressing objects:  82% (228/278)Compressing objects:  83% (231/278)Compressing objects:  84% (234/278)Compressing objects:  85% (237/278)Compressing objects:  86% (240/278)Compressing objects:  87% (242/278)Compressing objects:  88% (245/278)Compressing objects:  89% (248/278)Compressing objects:  90% (251/278)Compressing objects:  91% (253/278)Compressing objects:  92% (256/278)Compressing objects:  93% (259/278)Compressing objects:  94% (262/278)Compressing objects:  95% (265/278)Compressing objects:  96% (267/278)Compressing objects:  97% (270/278)Compressing objects:  98% (273/278)Compressing objects:  99% (276/278)Compressing objects: 100% (278/278)Compressing objects: 100% (278/278), done.
Total 18421 (delta 337), reused 313 (delta 213), pack-reused 17930
Checking out 8c55734eb19a2f7555eb3d695ae11401fa1f9847
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:15:51+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'ad6534a7-60f9-491a-8499-6663d1fd1429', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git
INFO:EventListener:OK 124.386
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-dqb34jv9/enzyme/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-dqb34jv9/enzyme/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-dqb34jv9/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847
ERROR:EventListener:FAIL 104.812
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/enzymejs/enzyme.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '081554e6295164ac88023823e352d06be9fa4e23', '--to', '8c55734eb19a2f7555eb3d695ae11401fa1f9847', '--git-dir', '/tmp/top-repos-quality-repos-dqb34jv9/enzyme.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mathiasbynens/esrever.git                                 =
= 18 / 27                                                                      =
= Now:  2021-08-29 11:19:40.947741                                             =
= Left: 0:29:15.846375                                                         =
= Ends: 2021-08-29 11:48:56.794116                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mathiasbynens/esrever.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mathiasbynens/esrever.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 173, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Total 173 (delta 1), reused 4 (delta 1), pack-reused 168
Checking out 14b34013dad49106ca08c0e65919f1fc8fea5331
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:19:41+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2721a298-3422-4d79-972c-be88257ec910', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git
INFO:EventListener:OK 125.031
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-vjw4rxeb/esrever/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-vjw4rxeb/esrever/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vjw4rxeb/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331
ERROR:EventListener:FAIL 96.006
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mathiasbynens/esrever.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '5d0299c38b66d2be536e4fd0999e5532ac5066c3', '--to', '14b34013dad49106ca08c0e65919f1fc8fea5331', '--git-dir', '/tmp/top-repos-quality-repos-vjw4rxeb/esrever.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/handlebars-lang/handlebars.js.git                         =
= 19 / 27                                                                      =
= Now:  2021-08-29 11:23:22.801668                                             =
= Left: 0:26:43.396382                                                         =
= Ends: 2021-08-29 11:50:06.198050                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /handlebars-lang/handlebars.js.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /handlebars-lang/handlebars.js.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15396, done.
Counting objects:   0% (1/145)Counting objects:   1% (2/145)Counting objects:   2% (3/145)Counting objects:   3% (5/145)Counting objects:   4% (6/145)Counting objects:   5% (8/145)Counting objects:   6% (9/145)Counting objects:   7% (11/145)Counting objects:   8% (12/145)Counting objects:   9% (14/145)Counting objects:  10% (15/145)Counting objects:  11% (16/145)Counting objects:  12% (18/145)Counting objects:  13% (19/145)Counting objects:  14% (21/145)Counting objects:  15% (22/145)Counting objects:  16% (24/145)Counting objects:  17% (25/145)Counting objects:  18% (27/145)Counting objects:  19% (28/145)Counting objects:  20% (29/145)Counting objects:  21% (31/145)Counting objects:  22% (32/145)Counting objects:  23% (34/145)Counting objects:  24% (35/145)Counting objects:  25% (37/145)Counting objects:  26% (38/145)Counting objects:  27% (40/145)Counting objects:  28% (41/145)Counting objects:  29% (43/145)Counting objects:  30% (44/145)Counting objects:  31% (45/145)Counting objects:  32% (47/145)Counting objects:  33% (48/145)Counting objects:  34% (50/145)Counting objects:  35% (51/145)Counting objects:  36% (53/145)Counting objects:  37% (54/145)Counting objects:  38% (56/145)Counting objects:  39% (57/145)Counting objects:  40% (58/145)Counting objects:  41% (60/145)Counting objects:  42% (61/145)Counting objects:  43% (63/145)Counting objects:  44% (64/145)Counting objects:  45% (66/145)Counting objects:  46% (67/145)Counting objects:  47% (69/145)Counting objects:  48% (70/145)Counting objects:  49% (72/145)Counting objects:  50% (73/145)Counting objects:  51% (74/145)Counting objects:  52% (76/145)Counting objects:  53% (77/145)Counting objects:  54% (79/145)Counting objects:  55% (80/145)Counting objects:  56% (82/145)Counting objects:  57% (83/145)Counting objects:  58% (85/145)Counting objects:  59% (86/145)Counting objects:  60% (87/145)Counting objects:  61% (89/145)Counting objects:  62% (90/145)Counting objects:  63% (92/145)Counting objects:  64% (93/145)Counting objects:  65% (95/145)Counting objects:  66% (96/145)Counting objects:  67% (98/145)Counting objects:  68% (99/145)Counting objects:  69% (101/145)Counting objects:  70% (102/145)Counting objects:  71% (103/145)Counting objects:  72% (105/145)Counting objects:  73% (106/145)Counting objects:  74% (108/145)Counting objects:  75% (109/145)Counting objects:  76% (111/145)Counting objects:  77% (112/145)Counting objects:  78% (114/145)Counting objects:  79% (115/145)Counting objects:  80% (116/145)Counting objects:  81% (118/145)Counting objects:  82% (119/145)Counting objects:  83% (121/145)Counting objects:  84% (122/145)Counting objects:  85% (124/145)Counting objects:  86% (125/145)Counting objects:  87% (127/145)Counting objects:  88% (128/145)Counting objects:  89% (130/145)Counting objects:  90% (131/145)Counting objects:  91% (132/145)Counting objects:  92% (134/145)Counting objects:  93% (135/145)Counting objects:  94% (137/145)Counting objects:  95% (138/145)Counting objects:  96% (140/145)Counting objects:  97% (141/145)Counting objects:  98% (143/145)Counting objects:  99% (144/145)Counting objects: 100% (145/145)Counting objects: 100% (145/145), done.
Compressing objects:   1% (1/89)Compressing objects:   2% (2/89)Compressing objects:   3% (3/89)Compressing objects:   4% (4/89)Compressing objects:   5% (5/89)Compressing objects:   6% (6/89)Compressing objects:   7% (7/89)Compressing objects:   8% (8/89)Compressing objects:  10% (9/89)Compressing objects:  11% (10/89)Compressing objects:  12% (11/89)Compressing objects:  13% (12/89)Compressing objects:  14% (13/89)Compressing objects:  15% (14/89)Compressing objects:  16% (15/89)Compressing objects:  17% (16/89)Compressing objects:  19% (17/89)Compressing objects:  20% (18/89)Compressing objects:  21% (19/89)Compressing objects:  22% (20/89)Compressing objects:  23% (21/89)Compressing objects:  24% (22/89)Compressing objects:  25% (23/89)Compressing objects:  26% (24/89)Compressing objects:  28% (25/89)Compressing objects:  29% (26/89)Compressing objects:  30% (27/89)Compressing objects:  31% (28/89)Compressing objects:  32% (29/89)Compressing objects:  33% (30/89)Compressing objects:  34% (31/89)Compressing objects:  35% (32/89)Compressing objects:  37% (33/89)Compressing objects:  38% (34/89)Compressing objects:  39% (35/89)Compressing objects:  40% (36/89)Compressing objects:  41% (37/89)Compressing objects:  42% (38/89)Compressing objects:  43% (39/89)Compressing objects:  44% (40/89)Compressing objects:  46% (41/89)Compressing objects:  47% (42/89)Compressing objects:  48% (43/89)Compressing objects:  49% (44/89)Compressing objects:  50% (45/89)Compressing objects:  51% (46/89)Compressing objects:  52% (47/89)Compressing objects:  53% (48/89)Compressing objects:  55% (49/89)Compressing objects:  56% (50/89)Compressing objects:  57% (51/89)Compressing objects:  58% (52/89)Compressing objects:  59% (53/89)Compressing objects:  60% (54/89)Compressing objects:  61% (55/89)Compressing objects:  62% (56/89)Compressing objects:  64% (57/89)Compressing objects:  65% (58/89)Compressing objects:  66% (59/89)Compressing objects:  67% (60/89)Compressing objects:  68% (61/89)Compressing objects:  69% (62/89)Compressing objects:  70% (63/89)Compressing objects:  71% (64/89)Compressing objects:  73% (65/89)Compressing objects:  74% (66/89)Compressing objects:  75% (67/89)Compressing objects:  76% (68/89)Compressing objects:  77% (69/89)Compressing objects:  78% (70/89)Compressing objects:  79% (71/89)Compressing objects:  80% (72/89)Compressing objects:  82% (73/89)Compressing objects:  83% (74/89)Compressing objects:  84% (75/89)Compressing objects:  85% (76/89)Compressing objects:  86% (77/89)Compressing objects:  87% (78/89)Compressing objects:  88% (79/89)Compressing objects:  89% (80/89)Compressing objects:  91% (81/89)Compressing objects:  92% (82/89)Compressing objects:  93% (83/89)Compressing objects:  94% (84/89)Compressing objects:  95% (85/89)Compressing objects:  96% (86/89)Compressing objects:  97% (87/89)Compressing objects:  98% (88/89)Compressing objects: 100% (89/89)Compressing objects: 100% (89/89), done.
Total 15396 (delta 72), reused 102 (delta 55), pack-reused 15251
Checking out 6790c080c641ef2b44e663800e1794fae180977a
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:23:26+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '781a5931-93c9-4620-81d0-8e86cb112c8b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git
INFO:EventListener:OK 105.200
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a
ERROR:EventListener:FAIL 110.700
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/handlebars-lang/handlebars.js.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '133b96a2ff463dda71febbdae434057271e025ed', '--to', '6790c080c641ef2b44e663800e1794fae180977a', '--git-dir', '/tmp/top-repos-quality-repos-mpt4k2lj/handlebars.js.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/verlok/vanilla-lazyload.git                               =
= 20 / 27                                                                      =
= Now:  2021-08-29 11:27:02.692784                                             =
= Left: 0:24:02.814265                                                         =
= Ends: 2021-08-29 11:51:05.507049                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /verlok/vanilla-lazyload.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /verlok/vanilla-lazyload.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 8162, done.
Counting objects:   0% (1/152)Counting objects:   1% (2/152)Counting objects:   2% (4/152)Counting objects:   3% (5/152)Counting objects:   4% (7/152)Counting objects:   5% (8/152)Counting objects:   6% (10/152)Counting objects:   7% (11/152)Counting objects:   8% (13/152)Counting objects:   9% (14/152)Counting objects:  10% (16/152)Counting objects:  11% (17/152)Counting objects:  12% (19/152)Counting objects:  13% (20/152)Counting objects:  14% (22/152)Counting objects:  15% (23/152)Counting objects:  16% (25/152)Counting objects:  17% (26/152)Counting objects:  18% (28/152)Counting objects:  19% (29/152)Counting objects:  20% (31/152)Counting objects:  21% (32/152)Counting objects:  22% (34/152)Counting objects:  23% (35/152)Counting objects:  24% (37/152)Counting objects:  25% (38/152)Counting objects:  26% (40/152)Counting objects:  27% (42/152)Counting objects:  28% (43/152)Counting objects:  29% (45/152)Counting objects:  30% (46/152)Counting objects:  31% (48/152)Counting objects:  32% (49/152)Counting objects:  33% (51/152)Counting objects:  34% (52/152)Counting objects:  35% (54/152)Counting objects:  36% (55/152)Counting objects:  37% (57/152)Counting objects:  38% (58/152)Counting objects:  39% (60/152)Counting objects:  40% (61/152)Counting objects:  41% (63/152)Counting objects:  42% (64/152)Counting objects:  43% (66/152)Counting objects:  44% (67/152)Counting objects:  45% (69/152)Counting objects:  46% (70/152)Counting objects:  47% (72/152)Counting objects:  48% (73/152)Counting objects:  49% (75/152)Counting objects:  50% (76/152)Counting objects:  51% (78/152)Counting objects:  52% (80/152)Counting objects:  53% (81/152)Counting objects:  54% (83/152)Counting objects:  55% (84/152)Counting objects:  56% (86/152)Counting objects:  57% (87/152)Counting objects:  58% (89/152)Counting objects:  59% (90/152)Counting objects:  60% (92/152)Counting objects:  61% (93/152)Counting objects:  62% (95/152)Counting objects:  63% (96/152)Counting objects:  64% (98/152)Counting objects:  65% (99/152)Counting objects:  66% (101/152)Counting objects:  67% (102/152)Counting objects:  68% (104/152)Counting objects:  69% (105/152)Counting objects:  70% (107/152)Counting objects:  71% (108/152)Counting objects:  72% (110/152)Counting objects:  73% (111/152)Counting objects:  74% (113/152)Counting objects:  75% (114/152)Counting objects:  76% (116/152)Counting objects:  77% (118/152)Counting objects:  78% (119/152)Counting objects:  79% (121/152)Counting objects:  80% (122/152)Counting objects:  81% (124/152)Counting objects:  82% (125/152)Counting objects:  83% (127/152)Counting objects:  84% (128/152)Counting objects:  85% (130/152)Counting objects:  86% (131/152)Counting objects:  87% (133/152)Counting objects:  88% (134/152)Counting objects:  89% (136/152)Counting objects:  90% (137/152)Counting objects:  91% (139/152)Counting objects:  92% (140/152)Counting objects:  93% (142/152)Counting objects:  94% (143/152)Counting objects:  95% (145/152)Counting objects:  96% (146/152)Counting objects:  97% (148/152)Counting objects:  98% (149/152)Counting objects:  99% (151/152)Counting objects: 100% (152/152)Counting objects: 100% (152/152), done.
Compressing objects:   0% (1/102)Compressing objects:   1% (2/102)Compressing objects:   2% (3/102)Compressing objects:   3% (4/102)Compressing objects:   4% (5/102)Compressing objects:   5% (6/102)Compressing objects:   6% (7/102)Compressing objects:   7% (8/102)Compressing objects:   8% (9/102)Compressing objects:   9% (10/102)Compressing objects:  10% (11/102)Compressing objects:  11% (12/102)Compressing objects:  12% (13/102)Compressing objects:  13% (14/102)Compressing objects:  14% (15/102)Compressing objects:  15% (16/102)Compressing objects:  16% (17/102)Compressing objects:  17% (18/102)Compressing objects:  18% (19/102)Compressing objects:  19% (20/102)Compressing objects:  20% (21/102)Compressing objects:  21% (22/102)Compressing objects:  22% (23/102)Compressing objects:  23% (24/102)Compressing objects:  24% (25/102)Compressing objects:  25% (26/102)Compressing objects:  26% (27/102)Compressing objects:  27% (28/102)Compressing objects:  28% (29/102)Compressing objects:  29% (30/102)Compressing objects:  30% (31/102)Compressing objects:  31% (32/102)Compressing objects:  32% (33/102)Compressing objects:  33% (34/102)Compressing objects:  34% (35/102)Compressing objects:  35% (36/102)Compressing objects:  36% (37/102)Compressing objects:  37% (38/102)Compressing objects:  38% (39/102)Compressing objects:  39% (40/102)Compressing objects:  40% (41/102)Compressing objects:  41% (42/102)Compressing objects:  42% (43/102)Compressing objects:  43% (44/102)Compressing objects:  44% (45/102)Compressing objects:  45% (46/102)Compressing objects:  46% (47/102)Compressing objects:  47% (48/102)Compressing objects:  48% (49/102)Compressing objects:  49% (50/102)Compressing objects:  50% (51/102)Compressing objects:  51% (53/102)Compressing objects:  52% (54/102)Compressing objects:  53% (55/102)Compressing objects:  54% (56/102)Compressing objects:  55% (57/102)Compressing objects:  56% (58/102)Compressing objects:  57% (59/102)Compressing objects:  58% (60/102)Compressing objects:  59% (61/102)Compressing objects:  60% (62/102)Compressing objects:  61% (63/102)Compressing objects:  62% (64/102)Compressing objects:  63% (65/102)Compressing objects:  64% (66/102)Compressing objects:  65% (67/102)Compressing objects:  66% (68/102)Compressing objects:  67% (69/102)Compressing objects:  68% (70/102)Compressing objects:  69% (71/102)Compressing objects:  70% (72/102)Compressing objects:  71% (73/102)Compressing objects:  72% (74/102)Compressing objects:  73% (75/102)Compressing objects:  74% (76/102)Compressing objects:  75% (77/102)Compressing objects:  76% (78/102)Compressing objects:  77% (79/102)Compressing objects:  78% (80/102)Compressing objects:  79% (81/102)Compressing objects:  80% (82/102)Compressing objects:  81% (83/102)Compressing objects:  82% (84/102)Compressing objects:  83% (85/102)Compressing objects:  84% (86/102)Compressing objects:  85% (87/102)Compressing objects:  86% (88/102)Compressing objects:  87% (89/102)Compressing objects:  88% (90/102)Compressing objects:  89% (91/102)Compressing objects:  90% (92/102)Compressing objects:  91% (93/102)Compressing objects:  92% (94/102)Compressing objects:  93% (95/102)Compressing objects:  94% (96/102)Compressing objects:  95% (97/102)Compressing objects:  96% (98/102)Compressing objects:  97% (99/102)Compressing objects:  98% (100/102)Compressing objects:  99% (101/102)Compressing objects: 100% (102/102)Compressing objects: 100% (102/102), done.
Total 8162 (delta 94), reused 90 (delta 49), pack-reused 8010
Checking out 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:27:04+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '5abb9829-5705-4e14-9fef-9e9d3b5ef009', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git
INFO:EventListener:OK 97.060
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
ERROR:EventListener:FAIL 141.705
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/verlok/vanilla-lazyload.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'd675f324445991064490c9a728c70176accac500', '--to', '7b2d8b26bde0a6e03ed411b83f80c62b491fc81d', '--git-dir', '/tmp/top-repos-quality-repos-ngz7drmi/vanilla-lazyload.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/tygs/0bin.git                                             =
= 21 / 27                                                                      =
= Now:  2021-08-29 11:31:03.700345                                             =
= Left: 0:21:23.692004                                                         =
= Ends: 2021-08-29 11:52:27.392349                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /tygs/0bin.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /tygs/0bin.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3556, done.
Counting objects:   0% (1/156)Counting objects:   1% (2/156)Counting objects:   2% (4/156)Counting objects:   3% (5/156)Counting objects:   4% (7/156)Counting objects:   5% (8/156)Counting objects:   6% (10/156)Counting objects:   7% (11/156)Counting objects:   8% (13/156)Counting objects:   9% (15/156)Counting objects:  10% (16/156)Counting objects:  11% (18/156)Counting objects:  12% (19/156)Counting objects:  13% (21/156)Counting objects:  14% (22/156)Counting objects:  15% (24/156)Counting objects:  16% (25/156)Counting objects:  17% (27/156)Counting objects:  18% (29/156)Counting objects:  19% (30/156)Counting objects:  20% (32/156)Counting objects:  21% (33/156)Counting objects:  22% (35/156)Counting objects:  23% (36/156)Counting objects:  24% (38/156)Counting objects:  25% (39/156)Counting objects:  26% (41/156)Counting objects:  27% (43/156)Counting objects:  28% (44/156)Counting objects:  29% (46/156)Counting objects:  30% (47/156)Counting objects:  31% (49/156)Counting objects:  32% (50/156)Counting objects:  33% (52/156)Counting objects:  34% (54/156)Counting objects:  35% (55/156)Counting objects:  36% (57/156)Counting objects:  37% (58/156)Counting objects:  38% (60/156)Counting objects:  39% (61/156)Counting objects:  40% (63/156)Counting objects:  41% (64/156)Counting objects:  42% (66/156)Counting objects:  43% (68/156)Counting objects:  44% (69/156)Counting objects:  45% (71/156)Counting objects:  46% (72/156)Counting objects:  47% (74/156)Counting objects:  48% (75/156)Counting objects:  49% (77/156)Counting objects:  50% (78/156)Counting objects:  51% (80/156)Counting objects:  52% (82/156)Counting objects:  53% (83/156)Counting objects:  54% (85/156)Counting objects:  55% (86/156)Counting objects:  56% (88/156)Counting objects:  57% (89/156)Counting objects:  58% (91/156)Counting objects:  59% (93/156)Counting objects:  60% (94/156)Counting objects:  61% (96/156)Counting objects:  62% (97/156)Counting objects:  63% (99/156)Counting objects:  64% (100/156)Counting objects:  65% (102/156)Counting objects:  66% (103/156)Counting objects:  67% (105/156)Counting objects:  68% (107/156)Counting objects:  69% (108/156)Counting objects:  70% (110/156)Counting objects:  71% (111/156)Counting objects:  72% (113/156)Counting objects:  73% (114/156)Counting objects:  74% (116/156)Counting objects:  75% (117/156)Counting objects:  76% (119/156)Counting objects:  77% (121/156)Counting objects:  78% (122/156)Counting objects:  79% (124/156)Counting objects:  80% (125/156)Counting objects:  81% (127/156)Counting objects:  82% (128/156)Counting objects:  83% (130/156)Counting objects:  84% (132/156)Counting objects:  85% (133/156)Counting objects:  86% (135/156)Counting objects:  87% (136/156)Counting objects:  88% (138/156)Counting objects:  89% (139/156)Counting objects:  90% (141/156)Counting objects:  91% (142/156)Counting objects:  92% (144/156)Counting objects:  93% (146/156)Counting objects:  94% (147/156)Counting objects:  95% (149/156)Counting objects:  96% (150/156)Counting objects:  97% (152/156)Counting objects:  98% (153/156)Counting objects:  99% (155/156)Counting objects: 100% (156/156)Counting objects: 100% (156/156), done.
Compressing objects:   0% (1/104)Compressing objects:   1% (2/104)Compressing objects:   2% (3/104)Compressing objects:   3% (4/104)Compressing objects:   4% (5/104)Compressing objects:   5% (6/104)Compressing objects:   6% (7/104)Compressing objects:   7% (8/104)Compressing objects:   8% (9/104)Compressing objects:   9% (10/104)Compressing objects:  10% (11/104)Compressing objects:  11% (12/104)Compressing objects:  12% (13/104)Compressing objects:  13% (14/104)Compressing objects:  14% (15/104)Compressing objects:  15% (16/104)Compressing objects:  16% (17/104)Compressing objects:  17% (18/104)Compressing objects:  18% (19/104)Compressing objects:  19% (20/104)Compressing objects:  20% (21/104)Compressing objects:  21% (22/104)Compressing objects:  22% (23/104)Compressing objects:  23% (24/104)Compressing objects:  24% (25/104)Compressing objects:  25% (26/104)Compressing objects:  26% (28/104)Compressing objects:  27% (29/104)Compressing objects:  28% (30/104)Compressing objects:  29% (31/104)Compressing objects:  30% (32/104)Compressing objects:  31% (33/104)Compressing objects:  32% (34/104)Compressing objects:  33% (35/104)Compressing objects:  34% (36/104)Compressing objects:  35% (37/104)Compressing objects:  36% (38/104)Compressing objects:  37% (39/104)Compressing objects:  38% (40/104)Compressing objects:  39% (41/104)Compressing objects:  40% (42/104)Compressing objects:  41% (43/104)Compressing objects:  42% (44/104)Compressing objects:  43% (45/104)Compressing objects:  44% (46/104)Compressing objects:  45% (47/104)Compressing objects:  46% (48/104)Compressing objects:  47% (49/104)Compressing objects:  48% (50/104)Compressing objects:  49% (51/104)Compressing objects:  50% (52/104)Compressing objects:  51% (54/104)Compressing objects:  52% (55/104)Compressing objects:  53% (56/104)Compressing objects:  54% (57/104)Compressing objects:  55% (58/104)Compressing objects:  56% (59/104)Compressing objects:  57% (60/104)Compressing objects:  58% (61/104)Compressing objects:  59% (62/104)Compressing objects:  60% (63/104)Compressing objects:  61% (64/104)Compressing objects:  62% (65/104)Compressing objects:  63% (66/104)Compressing objects:  64% (67/104)Compressing objects:  65% (68/104)Compressing objects:  66% (69/104)Compressing objects:  67% (70/104)Compressing objects:  68% (71/104)Compressing objects:  69% (72/104)Compressing objects:  70% (73/104)Compressing objects:  71% (74/104)Compressing objects:  72% (75/104)Compressing objects:  73% (76/104)Compressing objects:  74% (77/104)Compressing objects:  75% (78/104)Compressing objects:  76% (80/104)Compressing objects:  77% (81/104)Compressing objects:  78% (82/104)Compressing objects:  79% (83/104)Compressing objects:  80% (84/104)Compressing objects:  81% (85/104)Compressing objects:  82% (86/104)Compressing objects:  83% (87/104)Compressing objects:  84% (88/104)Compressing objects:  85% (89/104)Compressing objects:  86% (90/104)Compressing objects:  87% (91/104)Compressing objects:  88% (92/104)Compressing objects:  89% (93/104)Compressing objects:  90% (94/104)Compressing objects:  91% (95/104)Compressing objects:  92% (96/104)Compressing objects:  93% (97/104)Compressing objects:  94% (98/104)Compressing objects:  95% (99/104)Compressing objects:  96% (100/104)Compressing objects:  97% (101/104)Compressing objects:  98% (102/104)Compressing objects:  99% (103/104)Compressing objects: 100% (104/104)Compressing objects: 100% (104/104), done.
Total 3556 (delta 79), reused 107 (delta 45), pack-reused 3400
Checking out c65d5c4d090d385eb5c40df8e0001af9267f3b4b
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:31:05+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '3dc2eb95-21f6-4591-93d5-0268a07ab564', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git
INFO:EventListener:OK 115.786
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mzkyuxxz/0bin/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mzkyuxxz/0bin/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mzkyuxxz/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b
ERROR:EventListener:FAIL 104.768
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/tygs/0bin.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'd753f92207c4cb7b2e3b8f73350b3323f1b34700', '--to', 'c65d5c4d090d385eb5c40df8e0001af9267f3b4b', '--git-dir', '/tmp/top-repos-quality-repos-mzkyuxxz/0bin.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/adrianhajdin/project_corona_tracker.git                   =
= 22 / 27                                                                      =
= Now:  2021-08-29 11:34:45.958585                                             =
= Left: 0:18:31.414195                                                         =
= Ends: 2021-08-29 11:53:17.372780                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /adrianhajdin/project_corona_tracker.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /adrianhajdin/project_corona_tracker.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 395, done.
Counting objects:   0% (1/185)Counting objects:   1% (2/185)Counting objects:   2% (4/185)Counting objects:   3% (6/185)Counting objects:   4% (8/185)Counting objects:   5% (10/185)Counting objects:   6% (12/185)Counting objects:   7% (13/185)Counting objects:   8% (15/185)Counting objects:   9% (17/185)Counting objects:  10% (19/185)Counting objects:  11% (21/185)Counting objects:  12% (23/185)Counting objects:  13% (25/185)Counting objects:  14% (26/185)Counting objects:  15% (28/185)Counting objects:  16% (30/185)Counting objects:  17% (32/185)Counting objects:  18% (34/185)Counting objects:  19% (36/185)Counting objects:  20% (37/185)Counting objects:  21% (39/185)Counting objects:  22% (41/185)Counting objects:  23% (43/185)Counting objects:  24% (45/185)Counting objects:  25% (47/185)Counting objects:  26% (49/185)Counting objects:  27% (50/185)Counting objects:  28% (52/185)Counting objects:  29% (54/185)Counting objects:  30% (56/185)Counting objects:  31% (58/185)Counting objects:  32% (60/185)Counting objects:  33% (62/185)Counting objects:  34% (63/185)Counting objects:  35% (65/185)Counting objects:  36% (67/185)Counting objects:  37% (69/185)Counting objects:  38% (71/185)Counting objects:  39% (73/185)Counting objects:  40% (74/185)Counting objects:  41% (76/185)Counting objects:  42% (78/185)Counting objects:  43% (80/185)Counting objects:  44% (82/185)Counting objects:  45% (84/185)Counting objects:  46% (86/185)Counting objects:  47% (87/185)Counting objects:  48% (89/185)Counting objects:  49% (91/185)Counting objects:  50% (93/185)Counting objects:  51% (95/185)Counting objects:  52% (97/185)Counting objects:  53% (99/185)Counting objects:  54% (100/185)Counting objects:  55% (102/185)Counting objects:  56% (104/185)Counting objects:  57% (106/185)Counting objects:  58% (108/185)Counting objects:  59% (110/185)Counting objects:  60% (111/185)Counting objects:  61% (113/185)Counting objects:  62% (115/185)Counting objects:  63% (117/185)Counting objects:  64% (119/185)Counting objects:  65% (121/185)Counting objects:  66% (123/185)Counting objects:  67% (124/185)Counting objects:  68% (126/185)Counting objects:  69% (128/185)Counting objects:  70% (130/185)Counting objects:  71% (132/185)Counting objects:  72% (134/185)Counting objects:  73% (136/185)Counting objects:  74% (137/185)Counting objects:  75% (139/185)Counting objects:  76% (141/185)Counting objects:  77% (143/185)Counting objects:  78% (145/185)Counting objects:  79% (147/185)Counting objects:  80% (148/185)Counting objects:  81% (150/185)Counting objects:  82% (152/185)Counting objects:  83% (154/185)Counting objects:  84% (156/185)Counting objects:  85% (158/185)Counting objects:  86% (160/185)Counting objects:  87% (161/185)Counting objects:  88% (163/185)Counting objects:  89% (165/185)Counting objects:  90% (167/185)Counting objects:  91% (169/185)Counting objects:  92% (171/185)Counting objects:  93% (173/185)Counting objects:  94% (174/185)Counting objects:  95% (176/185)Counting objects:  96% (178/185)Counting objects:  97% (180/185)Counting objects:  98% (182/185)Counting objects:  99% (184/185)Counting objects: 100% (185/185)Counting objects: 100% (185/185), done.
Compressing objects:   0% (1/154)Compressing objects:   1% (2/154)Compressing objects:   2% (4/154)Compressing objects:   3% (5/154)Compressing objects:   4% (7/154)Compressing objects:   5% (8/154)Compressing objects:   6% (10/154)Compressing objects:   7% (11/154)Compressing objects:   8% (13/154)Compressing objects:   9% (14/154)Compressing objects:  10% (16/154)Compressing objects:  11% (17/154)Compressing objects:  12% (19/154)Compressing objects:  13% (21/154)Compressing objects:  14% (22/154)Compressing objects:  15% (24/154)Compressing objects:  16% (25/154)Compressing objects:  17% (27/154)Compressing objects:  18% (28/154)Compressing objects:  19% (30/154)Compressing objects:  20% (31/154)Compressing objects:  21% (33/154)Compressing objects:  22% (34/154)Compressing objects:  23% (36/154)Compressing objects:  24% (37/154)Compressing objects:  25% (39/154)Compressing objects:  26% (41/154)Compressing objects:  27% (42/154)Compressing objects:  28% (44/154)Compressing objects:  29% (45/154)Compressing objects:  30% (47/154)Compressing objects:  31% (48/154)Compressing objects:  32% (50/154)Compressing objects:  33% (51/154)Compressing objects:  34% (53/154)Compressing objects:  35% (54/154)Compressing objects:  36% (56/154)Compressing objects:  37% (57/154)Compressing objects:  38% (59/154)Compressing objects:  39% (61/154)Compressing objects:  40% (62/154)Compressing objects:  41% (64/154)Compressing objects:  42% (65/154)Compressing objects:  43% (67/154)Compressing objects:  44% (68/154)Compressing objects:  45% (70/154)Compressing objects:  46% (71/154)Compressing objects:  47% (73/154)Compressing objects:  48% (74/154)Compressing objects:  49% (76/154)Compressing objects:  50% (77/154)Compressing objects:  51% (79/154)Compressing objects:  52% (81/154)Compressing objects:  53% (82/154)Compressing objects:  54% (84/154)Compressing objects:  55% (85/154)Compressing objects:  56% (87/154)Compressing objects:  57% (88/154)Compressing objects:  58% (90/154)Compressing objects:  59% (91/154)Compressing objects:  60% (93/154)Compressing objects:  61% (94/154)Compressing objects:  62% (96/154)Compressing objects:  63% (98/154)Compressing objects:  64% (99/154)Compressing objects:  65% (101/154)Compressing objects:  66% (102/154)Compressing objects:  67% (104/154)Compressing objects:  68% (105/154)Compressing objects:  69% (107/154)Compressing objects:  70% (108/154)Compressing objects:  71% (110/154)Compressing objects:  72% (111/154)Compressing objects:  73% (113/154)Compressing objects:  74% (114/154)Compressing objects:  75% (116/154)Compressing objects:  76% (118/154)Compressing objects:  77% (119/154)Compressing objects:  78% (121/154)Compressing objects:  79% (122/154)Compressing objects:  80% (124/154)Compressing objects:  81% (125/154)Compressing objects:  82% (127/154)Compressing objects:  83% (128/154)Compressing objects:  84% (130/154)Compressing objects:  85% (131/154)Compressing objects:  86% (133/154)Compressing objects:  87% (134/154)Compressing objects:  88% (136/154)Compressing objects:  89% (138/154)Compressing objects:  90% (139/154)Compressing objects:  91% (141/154)Compressing objects:  92% (142/154)Compressing objects:  93% (144/154)Compressing objects:  94% (145/154)Compressing objects:  95% (147/154)Compressing objects:  96% (148/154)Compressing objects:  97% (150/154)Compressing objects:  98% (151/154)Compressing objects:  99% (153/154)Compressing objects: 100% (154/154)Compressing objects: 100% (154/154), done.
Total 395 (delta 78), reused 91 (delta 25), pack-reused 210
Checking out 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:34:47+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'ce62ea16-9c8b-4fca-b85c-7f965136f1c3', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git
INFO:EventListener:OK 136.816
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
ERROR:EventListener:FAIL 105.894
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/adrianhajdin/project_corona_tracker.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '262e0f965acd5ed7bc4fc48f2fc5c451f2914287', '--to', '2c8d4ca81f784dea7a92ba1402d9575de8dc3567', '--git-dir', '/tmp/top-repos-quality-repos-mkcc90wq/project_corona_tracker.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/78/ssbc.git                                               =
= 23 / 27                                                                      =
= Now:  2021-08-29 11:38:50.242583                                             =
= Left: 0:15:39.598563                                                         =
= Ends: 2021-08-29 11:54:29.841146                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /78/ssbc.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /78/ssbc.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 728, done.
Counting objects:  25% (1/4)Counting objects:  50% (2/4)Counting objects:  75% (3/4)Counting objects: 100% (4/4)Counting objects: 100% (4/4), done.
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Total 728 (delta 0), reused 0 (delta 0), pack-reused 724
Checking out 09a64ec201bf974add80db5408237d57fffa9135
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:38:56+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '0a21503d-1f02-490c-890e-8af37b0ecc59', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git
INFO:EventListener:OK 119.093
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-wz00pjgf/ssbc/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-wz00pjgf/ssbc/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-wz00pjgf/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135
ERROR:EventListener:FAIL 137.108
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/78/ssbc.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', 'd8ebbe3603e6e6ada50c77d3d0efde003ca0b8ef', '--to', '09a64ec201bf974add80db5408237d57fffa9135', '--git-dir', '/tmp/top-repos-quality-repos-wz00pjgf/ssbc.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/karlhadwen/netflix.git                                    =
= 24 / 27                                                                      =
= Now:  2021-08-29 11:43:12.639710                                             =
= Left: 0:12:44.631445                                                         =
= Ends: 2021-08-29 11:55:57.271155                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /karlhadwen/netflix.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /karlhadwen/netflix.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1257, done.
Counting objects:   0% (1/194)Counting objects:   1% (2/194)Counting objects:   2% (4/194)Counting objects:   3% (6/194)Counting objects:   4% (8/194)Counting objects:   5% (10/194)Counting objects:   6% (12/194)Counting objects:   7% (14/194)Counting objects:   8% (16/194)Counting objects:   9% (18/194)Counting objects:  10% (20/194)Counting objects:  11% (22/194)Counting objects:  12% (24/194)Counting objects:  13% (26/194)Counting objects:  14% (28/194)Counting objects:  15% (30/194)Counting objects:  16% (32/194)Counting objects:  17% (33/194)Counting objects:  18% (35/194)Counting objects:  19% (37/194)Counting objects:  20% (39/194)Counting objects:  21% (41/194)Counting objects:  22% (43/194)Counting objects:  23% (45/194)Counting objects:  24% (47/194)Counting objects:  25% (49/194)Counting objects:  26% (51/194)Counting objects:  27% (53/194)Counting objects:  28% (55/194)Counting objects:  29% (57/194)Counting objects:  30% (59/194)Counting objects:  31% (61/194)Counting objects:  32% (63/194)Counting objects:  33% (65/194)Counting objects:  34% (66/194)Counting objects:  35% (68/194)Counting objects:  36% (70/194)Counting objects:  37% (72/194)Counting objects:  38% (74/194)Counting objects:  39% (76/194)Counting objects:  40% (78/194)Counting objects:  41% (80/194)Counting objects:  42% (82/194)Counting objects:  43% (84/194)Counting objects:  44% (86/194)Counting objects:  45% (88/194)Counting objects:  46% (90/194)Counting objects:  47% (92/194)Counting objects:  48% (94/194)Counting objects:  49% (96/194)Counting objects:  50% (97/194)Counting objects:  51% (99/194)Counting objects:  52% (101/194)Counting objects:  53% (103/194)Counting objects:  54% (105/194)Counting objects:  55% (107/194)Counting objects:  56% (109/194)Counting objects:  57% (111/194)Counting objects:  58% (113/194)Counting objects:  59% (115/194)Counting objects:  60% (117/194)Counting objects:  61% (119/194)Counting objects:  62% (121/194)Counting objects:  63% (123/194)Counting objects:  64% (125/194)Counting objects:  65% (127/194)Counting objects:  66% (129/194)Counting objects:  67% (130/194)Counting objects:  68% (132/194)Counting objects:  69% (134/194)Counting objects:  70% (136/194)Counting objects:  71% (138/194)Counting objects:  72% (140/194)Counting objects:  73% (142/194)Counting objects:  74% (144/194)Counting objects:  75% (146/194)Counting objects:  76% (148/194)Counting objects:  77% (150/194)Counting objects:  78% (152/194)Counting objects:  79% (154/194)Counting objects:  80% (156/194)Counting objects:  81% (158/194)Counting objects:  82% (160/194)Counting objects:  83% (162/194)Counting objects:  84% (163/194)Counting objects:  85% (165/194)Counting objects:  86% (167/194)Counting objects:  87% (169/194)Counting objects:  88% (171/194)Counting objects:  89% (173/194)Counting objects:  90% (175/194)Counting objects:  91% (177/194)Counting objects:  92% (179/194)Counting objects:  93% (181/194)Counting objects:  94% (183/194)Counting objects:  95% (185/194)Counting objects:  96% (187/194)Counting objects:  97% (189/194)Counting objects:  98% (191/194)Counting objects:  99% (193/194)Counting objects: 100% (194/194)Counting objects: 100% (194/194), done.
Compressing objects:   0% (1/152)Compressing objects:   1% (2/152)Compressing objects:   2% (4/152)Compressing objects:   3% (5/152)Compressing objects:   4% (7/152)Compressing objects:   5% (8/152)Compressing objects:   6% (10/152)Compressing objects:   7% (11/152)Compressing objects:   8% (13/152)Compressing objects:   9% (14/152)Compressing objects:  10% (16/152)Compressing objects:  11% (17/152)Compressing objects:  12% (19/152)Compressing objects:  13% (20/152)Compressing objects:  14% (22/152)Compressing objects:  15% (23/152)Compressing objects:  16% (25/152)Compressing objects:  17% (26/152)Compressing objects:  18% (28/152)Compressing objects:  19% (29/152)Compressing objects:  20% (31/152)Compressing objects:  21% (32/152)Compressing objects:  22% (34/152)Compressing objects:  23% (35/152)Compressing objects:  24% (37/152)Compressing objects:  25% (38/152)Compressing objects:  26% (40/152)Compressing objects:  27% (42/152)Compressing objects:  28% (43/152)Compressing objects:  29% (45/152)Compressing objects:  30% (46/152)Compressing objects:  31% (48/152)Compressing objects:  32% (49/152)Compressing objects:  33% (51/152)Compressing objects:  34% (52/152)Compressing objects:  35% (54/152)Compressing objects:  36% (55/152)Compressing objects:  37% (57/152)Compressing objects:  38% (58/152)Compressing objects:  39% (60/152)Compressing objects:  40% (61/152)Compressing objects:  41% (63/152)Compressing objects:  42% (64/152)Compressing objects:  43% (66/152)Compressing objects:  44% (67/152)Compressing objects:  45% (69/152)Compressing objects:  46% (70/152)Compressing objects:  47% (72/152)Compressing objects:  48% (73/152)Compressing objects:  49% (75/152)Compressing objects:  50% (76/152)Compressing objects:  51% (78/152)Compressing objects:  52% (80/152)Compressing objects:  53% (81/152)Compressing objects:  54% (83/152)Compressing objects:  55% (84/152)Compressing objects:  56% (86/152)Compressing objects:  57% (87/152)Compressing objects:  58% (89/152)Compressing objects:  59% (90/152)Compressing objects:  60% (92/152)Compressing objects:  61% (93/152)Compressing objects:  62% (95/152)Compressing objects:  63% (96/152)Compressing objects:  64% (98/152)Compressing objects:  65% (99/152)Compressing objects:  66% (101/152)Compressing objects:  67% (102/152)Compressing objects:  68% (104/152)Compressing objects:  69% (105/152)Compressing objects:  70% (107/152)Compressing objects:  71% (108/152)Compressing objects:  72% (110/152)Compressing objects:  73% (111/152)Compressing objects:  74% (113/152)Compressing objects:  75% (114/152)Compressing objects:  76% (116/152)Compressing objects:  77% (118/152)Compressing objects:  78% (119/152)Compressing objects:  79% (121/152)Compressing objects:  80% (122/152)Compressing objects:  81% (124/152)Compressing objects:  82% (125/152)Compressing objects:  83% (127/152)Compressing objects:  84% (128/152)Compressing objects:  85% (130/152)Compressing objects:  86% (131/152)Compressing objects:  87% (133/152)Compressing objects:  88% (134/152)Compressing objects:  89% (136/152)Compressing objects:  90% (137/152)Compressing objects:  91% (139/152)Compressing objects:  92% (140/152)Compressing objects:  93% (142/152)Compressing objects:  94% (143/152)Compressing objects:  95% (145/152)Compressing objects:  96% (146/152)Compressing objects:  97% (148/152)Compressing objects:  98% (149/152)Compressing objects:  99% (151/152)Compressing objects: 100% (152/152)Compressing objects: 100% (152/152), done.
Total 1257 (delta 70), reused 98 (delta 28), pack-reused 1063
Checking out 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-spje2jey/netflix.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-spje2jey/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:43:20+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'bccab1b3-36b9-4732-8d82-0994ee90f1e3', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-spje2jey/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-spje2jey/netflix.git
INFO:EventListener:OK 121.862
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-spje2jey/netflix/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-spje2jey/netflix.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-spje2jey/netflix/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-spje2jey/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
ERROR:EventListener:FAIL 114.177
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/karlhadwen/netflix.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '35d6677f2e7cd7489e61799b3258bf348924e3ce', '--to', '54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206', '--git-dir', '/tmp/top-repos-quality-repos-spje2jey/netflix.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/codeceptjs/codeceptjs.git                                 =
= 25 / 27                                                                      =
= Now:  2021-08-29 11:47:16.206592                                             =
= Left: 0:09:40.024711                                                         =
= Ends: 2021-08-29 11:56:56.231303                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /codeceptjs/codeceptjs.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /codeceptjs/codeceptjs.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 43506, done.
Counting objects:   0% (1/1227)Counting objects:   1% (13/1227)Counting objects:   2% (25/1227)Counting objects:   3% (37/1227)Counting objects:   4% (50/1227)Counting objects:   5% (62/1227)Counting objects:   6% (74/1227)Counting objects:   7% (86/1227)Counting objects:   8% (99/1227)Counting objects:   9% (111/1227)Counting objects:  10% (123/1227)Counting objects:  11% (135/1227)Counting objects:  12% (148/1227)Counting objects:  13% (160/1227)Counting objects:  14% (172/1227)Counting objects:  15% (185/1227)Counting objects:  16% (197/1227)Counting objects:  17% (209/1227)Counting objects:  18% (221/1227)Counting objects:  19% (234/1227)Counting objects:  20% (246/1227)Counting objects:  21% (258/1227)Counting objects:  22% (270/1227)Counting objects:  23% (283/1227)Counting objects:  24% (295/1227)Counting objects:  25% (307/1227)Counting objects:  26% (320/1227)Counting objects:  27% (332/1227)Counting objects:  28% (344/1227)Counting objects:  29% (356/1227)Counting objects:  30% (369/1227)Counting objects:  31% (381/1227)Counting objects:  32% (393/1227)Counting objects:  33% (405/1227)Counting objects:  34% (418/1227)Counting objects:  35% (430/1227)Counting objects:  36% (442/1227)Counting objects:  37% (454/1227)Counting objects:  38% (467/1227)Counting objects:  39% (479/1227)Counting objects:  40% (491/1227)Counting objects:  41% (504/1227)Counting objects:  42% (516/1227)Counting objects:  43% (528/1227)Counting objects:  44% (540/1227)Counting objects:  45% (553/1227)Counting objects:  46% (565/1227)Counting objects:  47% (577/1227)Counting objects:  48% (589/1227)Counting objects:  49% (602/1227)Counting objects:  50% (614/1227)Counting objects:  51% (626/1227)Counting objects:  52% (639/1227)Counting objects:  53% (651/1227)Counting objects:  54% (663/1227)Counting objects:  55% (675/1227)Counting objects:  56% (688/1227)Counting objects:  57% (700/1227)Counting objects:  58% (712/1227)Counting objects:  59% (724/1227)Counting objects:  60% (737/1227)Counting objects:  61% (749/1227)Counting objects:  62% (761/1227)Counting objects:  63% (774/1227)Counting objects:  64% (786/1227)Counting objects:  65% (798/1227)Counting objects:  66% (810/1227)Counting objects:  67% (823/1227)Counting objects:  68% (835/1227)Counting objects:  69% (847/1227)Counting objects:  70% (859/1227)Counting objects:  71% (872/1227)Counting objects:  72% (884/1227)Counting objects:  73% (896/1227)Counting objects:  74% (908/1227)Counting objects:  75% (921/1227)Counting objects:  76% (933/1227)Counting objects:  77% (945/1227)Counting objects:  78% (958/1227)Counting objects:  79% (970/1227)Counting objects:  80% (982/1227)Counting objects:  81% (994/1227)Counting objects:  82% (1007/1227)Counting objects:  83% (1019/1227)Counting objects:  84% (1031/1227)Counting objects:  85% (1043/1227)Counting objects:  86% (1056/1227)Counting objects:  87% (1068/1227)Counting objects:  88% (1080/1227)Counting objects:  89% (1093/1227)Counting objects:  90% (1105/1227)Counting objects:  91% (1117/1227)Counting objects:  92% (1129/1227)Counting objects:  93% (1142/1227)Counting objects:  94% (1154/1227)Counting objects:  95% (1166/1227)Counting objects:  96% (1178/1227)Counting objects:  97% (1191/1227)Counting objects:  98% (1203/1227)Counting objects:  99% (1215/1227)Counting objects: 100% (1227/1227)Counting objects: 100% (1227/1227), done.
Compressing objects:   0% (1/624)Compressing objects:   1% (7/624)Compressing objects:   2% (13/624)Compressing objects:   3% (19/624)Compressing objects:   4% (25/624)Compressing objects:   5% (32/624)Compressing objects:   6% (38/624)Compressing objects:   7% (44/624)Compressing objects:   8% (50/624)Compressing objects:   9% (57/624)Compressing objects:  10% (63/624)Compressing objects:  11% (69/624)Compressing objects:  12% (75/624)Compressing objects:  13% (82/624)Compressing objects:  14% (88/624)Compressing objects:  15% (94/624)Compressing objects:  16% (100/624)Compressing objects:  17% (107/624)Compressing objects:  18% (113/624)Compressing objects:  19% (119/624)Compressing objects:  20% (125/624)Compressing objects:  21% (132/624)Compressing objects:  22% (138/624)Compressing objects:  23% (144/624)Compressing objects:  24% (150/624)Compressing objects:  25% (156/624)Compressing objects:  26% (163/624)Compressing objects:  27% (169/624)Compressing objects:  28% (175/624)Compressing objects:  29% (181/624)Compressing objects:  30% (188/624)Compressing objects:  31% (194/624)Compressing objects:  32% (200/624)Compressing objects:  33% (206/624)Compressing objects:  34% (213/624)Compressing objects:  35% (219/624)Compressing objects:  36% (225/624)Compressing objects:  37% (231/624)Compressing objects:  38% (238/624)Compressing objects:  39% (244/624)Compressing objects:  40% (250/624)Compressing objects:  41% (256/624)Compressing objects:  42% (263/624)Compressing objects:  43% (269/624)Compressing objects:  44% (275/624)Compressing objects:  45% (281/624)Compressing objects:  46% (288/624)Compressing objects:  47% (294/624)Compressing objects:  48% (300/624)Compressing objects:  49% (306/624)Compressing objects:  50% (312/624)Compressing objects:  51% (319/624)Compressing objects:  52% (325/624)Compressing objects:  53% (331/624)Compressing objects:  54% (337/624)Compressing objects:  55% (344/624)Compressing objects:  56% (350/624)Compressing objects:  57% (356/624)Compressing objects:  58% (362/624)Compressing objects:  59% (369/624)Compressing objects:  60% (375/624)Compressing objects:  61% (381/624)Compressing objects:  62% (387/624)Compressing objects:  63% (394/624)Compressing objects:  64% (400/624)Compressing objects:  65% (406/624)Compressing objects:  66% (412/624)Compressing objects:  67% (419/624)Compressing objects:  68% (425/624)Compressing objects:  69% (431/624)Compressing objects:  70% (437/624)Compressing objects:  71% (444/624)Compressing objects:  72% (450/624)Compressing objects:  73% (456/624)Compressing objects:  74% (462/624)Compressing objects:  75% (468/624)Compressing objects:  76% (475/624)Compressing objects:  77% (481/624)Compressing objects:  78% (487/624)Compressing objects:  79% (493/624)Compressing objects:  80% (500/624)Compressing objects:  81% (506/624)Compressing objects:  82% (512/624)Compressing objects:  83% (518/624)Compressing objects:  84% (525/624)Compressing objects:  85% (531/624)Compressing objects:  86% (537/624)Compressing objects:  87% (543/624)Compressing objects:  88% (550/624)Compressing objects:  89% (556/624)Compressing objects:  90% (562/624)Compressing objects:  91% (568/624)Compressing objects:  92% (575/624)Compressing objects:  93% (581/624)Compressing objects:  94% (587/624)Compressing objects:  95% (593/624)Compressing objects:  96% (600/624)Compressing objects:  97% (606/624)Compressing objects:  98% (612/624)Compressing objects:  99% (618/624)Compressing objects: 100% (624/624)Compressing objects: 100% (624/624), done.
Total 43506 (delta 831), reused 919 (delta 597), pack-reused 42279
Checking out 42717c09173fdf8276166c7918b0bbd5c9f1055a
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:47:36+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '4dda098c-36c0-4b06-8fcc-c7de406548f1', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git
INFO:EventListener:OK 108.167
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a
ERROR:EventListener:FAIL 126.726
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/codeceptjs/codeceptjs.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '5164f0090748d2eca00c152d82a55338ac1e21ec', '--to', '42717c09173fdf8276166c7918b0bbd5c9f1055a', '--git-dir', '/tmp/top-repos-quality-repos-ocgv6dbf/codeceptjs.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/lanistor/react-keeper.git                                 =
= 26 / 27                                                                      =
= Now:  2021-08-29 11:51:31.277315                                             =
= Left: 0:06:31.621473                                                         =
= Ends: 2021-08-29 11:58:02.898788                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /lanistor/react-keeper.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /lanistor/react-keeper.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1573, done.
Counting objects:   0% (1/118)Counting objects:   1% (2/118)Counting objects:   2% (3/118)Counting objects:   3% (4/118)Counting objects:   4% (5/118)Counting objects:   5% (6/118)Counting objects:   6% (8/118)Counting objects:   7% (9/118)Counting objects:   8% (10/118)Counting objects:   9% (11/118)Counting objects:  10% (12/118)Counting objects:  11% (13/118)Counting objects:  12% (15/118)Counting objects:  13% (16/118)Counting objects:  14% (17/118)Counting objects:  15% (18/118)Counting objects:  16% (19/118)Counting objects:  17% (21/118)Counting objects:  18% (22/118)Counting objects:  19% (23/118)Counting objects:  20% (24/118)Counting objects:  21% (25/118)Counting objects:  22% (26/118)Counting objects:  23% (28/118)Counting objects:  24% (29/118)Counting objects:  25% (30/118)Counting objects:  26% (31/118)Counting objects:  27% (32/118)Counting objects:  28% (34/118)Counting objects:  29% (35/118)Counting objects:  30% (36/118)Counting objects:  31% (37/118)Counting objects:  32% (38/118)Counting objects:  33% (39/118)Counting objects:  34% (41/118)Counting objects:  35% (42/118)Counting objects:  36% (43/118)Counting objects:  37% (44/118)Counting objects:  38% (45/118)Counting objects:  39% (47/118)Counting objects:  40% (48/118)Counting objects:  41% (49/118)Counting objects:  42% (50/118)Counting objects:  43% (51/118)Counting objects:  44% (52/118)Counting objects:  45% (54/118)Counting objects:  46% (55/118)Counting objects:  47% (56/118)Counting objects:  48% (57/118)Counting objects:  49% (58/118)Counting objects:  50% (59/118)Counting objects:  51% (61/118)Counting objects:  52% (62/118)Counting objects:  53% (63/118)Counting objects:  54% (64/118)Counting objects:  55% (65/118)Counting objects:  56% (67/118)Counting objects:  57% (68/118)Counting objects:  58% (69/118)Counting objects:  59% (70/118)Counting objects:  60% (71/118)Counting objects:  61% (72/118)Counting objects:  62% (74/118)Counting objects:  63% (75/118)Counting objects:  64% (76/118)Counting objects:  65% (77/118)Counting objects:  66% (78/118)Counting objects:  67% (80/118)Counting objects:  68% (81/118)Counting objects:  69% (82/118)Counting objects:  70% (83/118)Counting objects:  71% (84/118)Counting objects:  72% (85/118)Counting objects:  73% (87/118)Counting objects:  74% (88/118)Counting objects:  75% (89/118)Counting objects:  76% (90/118)Counting objects:  77% (91/118)Counting objects:  78% (93/118)Counting objects:  79% (94/118)Counting objects:  80% (95/118)Counting objects:  81% (96/118)Counting objects:  82% (97/118)Counting objects:  83% (98/118)Counting objects:  84% (100/118)Counting objects:  85% (101/118)Counting objects:  86% (102/118)Counting objects:  87% (103/118)Counting objects:  88% (104/118)Counting objects:  89% (106/118)Counting objects:  90% (107/118)Counting objects:  91% (108/118)Counting objects:  92% (109/118)Counting objects:  93% (110/118)Counting objects:  94% (111/118)Counting objects:  95% (113/118)Counting objects:  96% (114/118)Counting objects:  97% (115/118)Counting objects:  98% (116/118)Counting objects:  99% (117/118)Counting objects: 100% (118/118)Counting objects: 100% (118/118), done.
Compressing objects:   1% (1/66)Compressing objects:   3% (2/66)Compressing objects:   4% (3/66)Compressing objects:   6% (4/66)Compressing objects:   7% (5/66)Compressing objects:   9% (6/66)Compressing objects:  10% (7/66)Compressing objects:  12% (8/66)Compressing objects:  13% (9/66)Compressing objects:  15% (10/66)Compressing objects:  16% (11/66)Compressing objects:  18% (12/66)Compressing objects:  19% (13/66)Compressing objects:  21% (14/66)Compressing objects:  22% (15/66)Compressing objects:  24% (16/66)Compressing objects:  25% (17/66)Compressing objects:  27% (18/66)Compressing objects:  28% (19/66)Compressing objects:  30% (20/66)Compressing objects:  31% (21/66)Compressing objects:  33% (22/66)Compressing objects:  34% (23/66)Compressing objects:  36% (24/66)Compressing objects:  37% (25/66)Compressing objects:  39% (26/66)Compressing objects:  40% (27/66)Compressing objects:  42% (28/66)Compressing objects:  43% (29/66)Compressing objects:  45% (30/66)Compressing objects:  46% (31/66)Compressing objects:  48% (32/66)Compressing objects:  50% (33/66)Compressing objects:  51% (34/66)Compressing objects:  53% (35/66)Compressing objects:  54% (36/66)Compressing objects:  56% (37/66)Compressing objects:  57% (38/66)Compressing objects:  59% (39/66)Compressing objects:  60% (40/66)Compressing objects:  62% (41/66)Compressing objects:  63% (42/66)Compressing objects:  65% (43/66)Compressing objects:  66% (44/66)Compressing objects:  68% (45/66)Compressing objects:  69% (46/66)Compressing objects:  71% (47/66)Compressing objects:  72% (48/66)Compressing objects:  74% (49/66)Compressing objects:  75% (50/66)Compressing objects:  77% (51/66)Compressing objects:  78% (52/66)Compressing objects:  80% (53/66)Compressing objects:  81% (54/66)Compressing objects:  83% (55/66)Compressing objects:  84% (56/66)Compressing objects:  86% (57/66)Compressing objects:  87% (58/66)Compressing objects:  89% (59/66)Compressing objects:  90% (60/66)Compressing objects:  92% (61/66)Compressing objects:  93% (62/66)Compressing objects:  95% (63/66)Compressing objects:  96% (64/66)Compressing objects:  98% (65/66)Compressing objects: 100% (66/66)Compressing objects: 100% (66/66), done.
Total 1573 (delta 53), reused 108 (delta 45), pack-reused 1455
Checking out e2d9a62e06d79744b48f11875be862921aec0819
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:51:32+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'dc51d52e-02db-414d-bd74-9b0350c49a51', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git
INFO:EventListener:OK 131.685
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-y1_x_gw9/react-keeper/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-y1_x_gw9/react-keeper/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819
ERROR:EventListener:FAIL 141.722
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/lanistor/react-keeper.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '3fd1eeecdcd7a97077f50dffaf8674e72819daac', '--to', 'e2d9a62e06d79744b48f11875be862921aec0819', '--git-dir', '/tmp/top-repos-quality-repos-y1_x_gw9/react-keeper.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/atom/markdown-preview.git                                 =
= 27 / 27                                                                      =
= Now:  2021-08-29 11:56:05.981054                                             =
= Left: 0:03:18.845083                                                         =
= Ends: 2021-08-29 11:59:24.826137                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /atom/markdown-preview.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /atom/markdown-preview.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4383, done.
Counting objects:   1% (1/82)Counting objects:   2% (2/82)Counting objects:   3% (3/82)Counting objects:   4% (4/82)Counting objects:   6% (5/82)Counting objects:   7% (6/82)Counting objects:   8% (7/82)Counting objects:   9% (8/82)Counting objects:  10% (9/82)Counting objects:  12% (10/82)Counting objects:  13% (11/82)Counting objects:  14% (12/82)Counting objects:  15% (13/82)Counting objects:  17% (14/82)Counting objects:  18% (15/82)Counting objects:  19% (16/82)Counting objects:  20% (17/82)Counting objects:  21% (18/82)Counting objects:  23% (19/82)Counting objects:  24% (20/82)Counting objects:  25% (21/82)Counting objects:  26% (22/82)Counting objects:  28% (23/82)Counting objects:  29% (24/82)Counting objects:  30% (25/82)Counting objects:  31% (26/82)Counting objects:  32% (27/82)Counting objects:  34% (28/82)Counting objects:  35% (29/82)Counting objects:  36% (30/82)Counting objects:  37% (31/82)Counting objects:  39% (32/82)Counting objects:  40% (33/82)Counting objects:  41% (34/82)Counting objects:  42% (35/82)Counting objects:  43% (36/82)Counting objects:  45% (37/82)Counting objects:  46% (38/82)Counting objects:  47% (39/82)Counting objects:  48% (40/82)Counting objects:  50% (41/82)Counting objects:  51% (42/82)Counting objects:  52% (43/82)Counting objects:  53% (44/82)Counting objects:  54% (45/82)Counting objects:  56% (46/82)Counting objects:  57% (47/82)Counting objects:  58% (48/82)Counting objects:  59% (49/82)Counting objects:  60% (50/82)Counting objects:  62% (51/82)Counting objects:  63% (52/82)Counting objects:  64% (53/82)Counting objects:  65% (54/82)Counting objects:  67% (55/82)Counting objects:  68% (56/82)Counting objects:  69% (57/82)Counting objects:  70% (58/82)Counting objects:  71% (59/82)Counting objects:  73% (60/82)Counting objects:  74% (61/82)Counting objects:  75% (62/82)Counting objects:  76% (63/82)Counting objects:  78% (64/82)Counting objects:  79% (65/82)Counting objects:  80% (66/82)Counting objects:  81% (67/82)Counting objects:  82% (68/82)Counting objects:  84% (69/82)Counting objects:  85% (70/82)Counting objects:  86% (71/82)Counting objects:  87% (72/82)Counting objects:  89% (73/82)Counting objects:  90% (74/82)Counting objects:  91% (75/82)Counting objects:  92% (76/82)Counting objects:  93% (77/82)Counting objects:  95% (78/82)Counting objects:  96% (79/82)Counting objects:  97% (80/82)Counting objects:  98% (81/82)Counting objects: 100% (82/82)Counting objects: 100% (82/82), done.
Compressing objects:   1% (1/71)Compressing objects:   2% (2/71)Compressing objects:   4% (3/71)Compressing objects:   5% (4/71)Compressing objects:   7% (5/71)Compressing objects:   8% (6/71)Compressing objects:   9% (7/71)Compressing objects:  11% (8/71)Compressing objects:  12% (9/71)Compressing objects:  14% (10/71)Compressing objects:  15% (11/71)Compressing objects:  16% (12/71)Compressing objects:  18% (13/71)Compressing objects:  19% (14/71)Compressing objects:  21% (15/71)Compressing objects:  22% (16/71)Compressing objects:  23% (17/71)Compressing objects:  25% (18/71)Compressing objects:  26% (19/71)Compressing objects:  28% (20/71)Compressing objects:  29% (21/71)Compressing objects:  30% (22/71)Compressing objects:  32% (23/71)Compressing objects:  33% (24/71)Compressing objects:  35% (25/71)Compressing objects:  36% (26/71)Compressing objects:  38% (27/71)Compressing objects:  39% (28/71)Compressing objects:  40% (29/71)Compressing objects:  42% (30/71)Compressing objects:  43% (31/71)Compressing objects:  45% (32/71)Compressing objects:  46% (33/71)Compressing objects:  47% (34/71)Compressing objects:  49% (35/71)Compressing objects:  50% (36/71)Compressing objects:  52% (37/71)Compressing objects:  53% (38/71)Compressing objects:  54% (39/71)Compressing objects:  56% (40/71)Compressing objects:  57% (41/71)Compressing objects:  59% (42/71)Compressing objects:  60% (43/71)Compressing objects:  61% (44/71)Compressing objects:  63% (45/71)Compressing objects:  64% (46/71)Compressing objects:  66% (47/71)Compressing objects:  67% (48/71)Compressing objects:  69% (49/71)Compressing objects:  70% (50/71)Compressing objects:  71% (51/71)Compressing objects:  73% (52/71)Compressing objects:  74% (53/71)Compressing objects:  76% (54/71)Compressing objects:  77% (55/71)Compressing objects:  78% (56/71)Compressing objects:  80% (57/71)Compressing objects:  81% (58/71)Compressing objects:  83% (59/71)Compressing objects:  84% (60/71)Compressing objects:  85% (61/71)Compressing objects:  87% (62/71)Compressing objects:  88% (63/71)Compressing objects:  90% (64/71)Compressing objects:  91% (65/71)Compressing objects:  92% (66/71)Compressing objects:  94% (67/71)Compressing objects:  95% (68/71)Compressing objects:  97% (69/71)Compressing objects:  98% (70/71)Compressing objects: 100% (71/71)Compressing objects: 100% (71/71), done.
Total 4383 (delta 41), reused 24 (delta 9), pack-reused 4301
Checking out 236bdb9d3232a9819ba5d0407f354264ad3223fa
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 11:56:08+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'b979b15d-8f70-4943-8034-c93ba0c52692', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git
INFO:EventListener:OK 127.123
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-2rct20gz/markdown-preview/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git from /tmp/tmph8_55a0s/models/tmp/top-repos-quality-repos-2rct20gz/markdown-preview/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa
ERROR:EventListener:FAIL 139.379
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/atom/markdown-preview.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:19508', '--from', '9c0a9f54f274c990c06bb40c37c7dd2a36f524b2', '--to', '236bdb9d3232a9819ba5d0407f354264ad3223fa', '--git-dir', '/tmp/top-repos-quality-repos-2rct20gz/markdown-preview.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= Done                                                                         =
= 27 / 27                                                                      =
= Now:  2021-08-29 12:00:35.314881                                             =
= Left: 0                                                                      =
= Ends: 2021-08-29 12:00:35.314881                                             =
================================================================================
DEBUG:SQLAlchemyModelRepository:shutting down
INFO:DataService:Shutting down
Traceback (most recent call last):
  File "/usr/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/style-analyzer/lookout/style/format/__main__.py", line 7, in <module>
    sys.exit(main())
  File "/style-analyzer/lookout/style/format/cmdline_tools.py", line 256, in main
    return handler(**vars(args))
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 335, in generate_quality_report
    summary = _generate_report_summary(reports, report_name)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in _generate_report_summary
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in <genexpr>
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
KeyError: 'precision'
paramiko missing, opening SSH/SCP/SFTP paths will be disabled.  `pip install paramiko` to suppress
WARNING:smart_open.smart_open_lib:this function is deprecated, use smart_open.open instead
DEBUG:smart_open.smart_open_lib:{'transport_params': {}, 'ignore_ext': False, 'opener': None, 'closefd': True, 'newline': None, 'errors': None, 'encoding': None, 'buffering': -1, 'mode': 'r', 'uri': '/style-analyzer/selections/specs/top_starred_projects_5.csv'}
DEBUG:SQLAlchemyModelRepository:sqlite:////tmp/tmp7lpdsyxb/db.sqlite3 does not exist, creating
WARNING:SQLAlchemyModelRepository:created a new database at sqlite:////tmp/tmp7lpdsyxb/db.sqlite3
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mechio/takana.git                                         =
=  1 / 27                                                                      =
= Now:  2021-08-29 14:11:37.817596                                             =
= Left: None                                                                   =
= Ends: None                                                                   =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mechio/takana.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mechio/takana.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1836, done.
Total 1836 (delta 0), reused 0 (delta 0), pack-reused 1836
Checking out 3e274d5990392590ce44b00f1c0acd680f98cf7b
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:DataService:Opened <grpc._channel.Channel object at 0x7f8c919e40f0>
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:11:39+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '7ff9310a-04b8-4809-9dfe-83a97cff582c', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git
INFO:EventListener:OK 0.421
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-vqif6dm1/takana/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-vqif6dm1/takana/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vqif6dm1/takana.git 3e274d5990392590ce44b00f1c0acd680f98cf7b
ERROR:EventListener:FAIL 0.705
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mechio/takana.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'a0cce72b5702842229358f6af7934e31875a659c', '--to', '3e274d5990392590ce44b00f1c0acd680f98cf7b', '--git-dir', '/tmp/top-repos-quality-repos-vqif6dm1/takana.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/kickscondor/fraidycat.git                                 =
=  2 / 27                                                                      =
= Now:  2021-08-29 14:11:40.985302                                             =
= Left: 0:01:22.360434                                                         =
= Ends: 2021-08-29 14:13:03.345736                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /kickscondor/fraidycat.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /kickscondor/fraidycat.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1897, done.
Counting objects:   0% (1/440)Counting objects:   1% (5/440)Counting objects:   2% (9/440)Counting objects:   3% (14/440)Counting objects:   4% (18/440)Counting objects:   5% (22/440)Counting objects:   6% (27/440)Counting objects:   7% (31/440)Counting objects:   8% (36/440)Counting objects:   9% (40/440)Counting objects:  10% (44/440)Counting objects:  11% (49/440)Counting objects:  12% (53/440)Counting objects:  13% (58/440)Counting objects:  14% (62/440)Counting objects:  15% (66/440)Counting objects:  16% (71/440)Counting objects:  17% (75/440)Counting objects:  18% (80/440)Counting objects:  19% (84/440)Counting objects:  20% (88/440)Counting objects:  21% (93/440)Counting objects:  22% (97/440)Counting objects:  23% (102/440)Counting objects:  24% (106/440)Counting objects:  25% (110/440)Counting objects:  26% (115/440)Counting objects:  27% (119/440)Counting objects:  28% (124/440)Counting objects:  29% (128/440)Counting objects:  30% (132/440)Counting objects:  31% (137/440)Counting objects:  32% (141/440)Counting objects:  33% (146/440)Counting objects:  34% (150/440)Counting objects:  35% (154/440)Counting objects:  36% (159/440)Counting objects:  37% (163/440)Counting objects:  38% (168/440)Counting objects:  39% (172/440)Counting objects:  40% (176/440)Counting objects:  41% (181/440)Counting objects:  42% (185/440)Counting objects:  43% (190/440)Counting objects:  44% (194/440)Counting objects:  45% (198/440)Counting objects:  46% (203/440)Counting objects:  47% (207/440)Counting objects:  48% (212/440)Counting objects:  49% (216/440)Counting objects:  50% (220/440)Counting objects:  51% (225/440)Counting objects:  52% (229/440)Counting objects:  53% (234/440)Counting objects:  54% (238/440)Counting objects:  55% (242/440)Counting objects:  56% (247/440)Counting objects:  57% (251/440)Counting objects:  58% (256/440)Counting objects:  59% (260/440)Counting objects:  60% (264/440)Counting objects:  61% (269/440)Counting objects:  62% (273/440)Counting objects:  63% (278/440)Counting objects:  64% (282/440)Counting objects:  65% (286/440)Counting objects:  66% (291/440)Counting objects:  67% (295/440)Counting objects:  68% (300/440)Counting objects:  69% (304/440)Counting objects:  70% (308/440)Counting objects:  71% (313/440)Counting objects:  72% (317/440)Counting objects:  73% (322/440)Counting objects:  74% (326/440)Counting objects:  75% (330/440)Counting objects:  76% (335/440)Counting objects:  77% (339/440)Counting objects:  78% (344/440)Counting objects:  79% (348/440)Counting objects:  80% (352/440)Counting objects:  81% (357/440)Counting objects:  82% (361/440)Counting objects:  83% (366/440)Counting objects:  84% (370/440)Counting objects:  85% (374/440)Counting objects:  86% (379/440)Counting objects:  87% (383/440)Counting objects:  88% (388/440)Counting objects:  89% (392/440)Counting objects:  90% (396/440)Counting objects:  91% (401/440)Counting objects:  92% (405/440)Counting objects:  93% (410/440)Counting objects:  94% (414/440)Counting objects:  95% (418/440)Counting objects:  96% (423/440)Counting objects:  97% (427/440)Counting objects:  98% (432/440)Counting objects:  99% (436/440)Counting objects: 100% (440/440)Counting objects: 100% (440/440), done.
Compressing objects:   0% (1/252)Compressing objects:   1% (3/252)Compressing objects:   2% (6/252)Compressing objects:   3% (8/252)Compressing objects:   4% (11/252)Compressing objects:   5% (13/252)Compressing objects:   6% (16/252)Compressing objects:   7% (18/252)Compressing objects:   8% (21/252)Compressing objects:   9% (23/252)Compressing objects:  10% (26/252)Compressing objects:  11% (28/252)Compressing objects:  12% (31/252)Compressing objects:  13% (33/252)Compressing objects:  14% (36/252)Compressing objects:  15% (38/252)Compressing objects:  16% (41/252)Compressing objects:  17% (43/252)Compressing objects:  18% (46/252)Compressing objects:  19% (48/252)Compressing objects:  20% (51/252)Compressing objects:  21% (53/252)Compressing objects:  22% (56/252)Compressing objects:  23% (58/252)Compressing objects:  24% (61/252)Compressing objects:  25% (63/252)Compressing objects:  26% (66/252)Compressing objects:  27% (69/252)Compressing objects:  28% (71/252)Compressing objects:  29% (74/252)Compressing objects:  30% (76/252)Compressing objects:  31% (79/252)Compressing objects:  32% (81/252)Compressing objects:  33% (84/252)Compressing objects:  34% (86/252)Compressing objects:  35% (89/252)Compressing objects:  36% (91/252)Compressing objects:  37% (94/252)Compressing objects:  38% (96/252)Compressing objects:  39% (99/252)Compressing objects:  40% (101/252)Compressing objects:  41% (104/252)Compressing objects:  42% (106/252)Compressing objects:  43% (109/252)Compressing objects:  44% (111/252)Compressing objects:  45% (114/252)Compressing objects:  46% (116/252)Compressing objects:  47% (119/252)Compressing objects:  48% (121/252)Compressing objects:  49% (124/252)Compressing objects:  50% (126/252)Compressing objects:  51% (129/252)Compressing objects:  52% (132/252)Compressing objects:  53% (134/252)Compressing objects:  54% (137/252)Compressing objects:  55% (139/252)Compressing objects:  56% (142/252)Compressing objects:  57% (144/252)Compressing objects:  58% (147/252)Compressing objects:  59% (149/252)Compressing objects:  60% (152/252)Compressing objects:  61% (154/252)Compressing objects:  62% (157/252)Compressing objects:  63% (159/252)Compressing objects:  64% (162/252)Compressing objects:  65% (164/252)Compressing objects:  66% (167/252)Compressing objects:  67% (169/252)Compressing objects:  68% (172/252)Compressing objects:  69% (174/252)Compressing objects:  70% (177/252)Compressing objects:  71% (179/252)Compressing objects:  72% (182/252)Compressing objects:  73% (184/252)Compressing objects:  74% (187/252)Compressing objects:  75% (189/252)Compressing objects:  76% (192/252)Compressing objects:  77% (195/252)Compressing objects:  78% (197/252)Compressing objects:  79% (200/252)Compressing objects:  80% (202/252)Compressing objects:  81% (205/252)Compressing objects:  82% (207/252)Compressing objects:  83% (210/252)Compressing objects:  84% (212/252)Compressing objects:  85% (215/252)Compressing objects:  86% (217/252)Compressing objects:  87% (220/252)Compressing objects:  88% (222/252)Compressing objects:  89% (225/252)Compressing objects:  90% (227/252)Compressing objects:  91% (230/252)Compressing objects:  92% (232/252)Compressing objects:  93% (235/252)Compressing objects:  94% (237/252)Compressing objects:  95% (240/252)Compressing objects:  96% (242/252)Compressing objects:  97% (245/252)Compressing objects:  98% (247/252)Compressing objects:  99% (250/252)Compressing objects: 100% (252/252)Compressing objects: 100% (252/252), done.
Total 1897 (delta 271), reused 299 (delta 152), pack-reused 1457
Checking out a5480cfaf37953463598892f977ce53069a40a69
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:11:56+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '7ec31718-06b6-413d-88c6-585c41b81a1c', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git
INFO:EventListener:OK 0.180
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-lkrgpnb1/fraidycat/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-lkrgpnb1/fraidycat/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git a5480cfaf37953463598892f977ce53069a40a69
ERROR:EventListener:FAIL 2.565
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/kickscondor/fraidycat.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '664ab8cee487b03d9915f3308715958703d40bcd', '--to', 'a5480cfaf37953463598892f977ce53069a40a69', '--git-dir', '/tmp/top-repos-quality-repos-lkrgpnb1/fraidycat.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/apachecn/apachecn-algo-zh.git                             =
=  3 / 27                                                                      =
= Now:  2021-08-29 14:11:59.544161                                             =
= Left: 0:04:31.582100                                                         =
= Ends: 2021-08-29 14:16:31.126261                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /apachecn/apachecn-algo-zh.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /apachecn/apachecn-algo-zh.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15168, done.
Counting objects:   0% (1/558)Counting objects:   1% (6/558)Counting objects:   2% (12/558)Counting objects:   3% (17/558)Counting objects:   4% (23/558)Counting objects:   5% (28/558)Counting objects:   6% (34/558)Counting objects:   7% (40/558)Counting objects:   8% (45/558)Counting objects:   9% (51/558)Counting objects:  10% (56/558)Counting objects:  11% (62/558)Counting objects:  12% (67/558)Counting objects:  13% (73/558)Counting objects:  14% (79/558)Counting objects:  15% (84/558)Counting objects:  16% (90/558)Counting objects:  17% (95/558)Counting objects:  18% (101/558)Counting objects:  19% (107/558)Counting objects:  20% (112/558)Counting objects:  21% (118/558)Counting objects:  22% (123/558)Counting objects:  23% (129/558)Counting objects:  24% (134/558)Counting objects:  25% (140/558)Counting objects:  26% (146/558)Counting objects:  27% (151/558)Counting objects:  28% (157/558)Counting objects:  29% (162/558)Counting objects:  30% (168/558)Counting objects:  31% (173/558)Counting objects:  32% (179/558)Counting objects:  33% (185/558)Counting objects:  34% (190/558)Counting objects:  35% (196/558)Counting objects:  36% (201/558)Counting objects:  37% (207/558)Counting objects:  38% (213/558)Counting objects:  39% (218/558)Counting objects:  40% (224/558)Counting objects:  41% (229/558)Counting objects:  42% (235/558)Counting objects:  43% (240/558)Counting objects:  44% (246/558)Counting objects:  45% (252/558)Counting objects:  46% (257/558)Counting objects:  47% (263/558)Counting objects:  48% (268/558)Counting objects:  49% (274/558)Counting objects:  50% (279/558)Counting objects:  51% (285/558)Counting objects:  52% (291/558)Counting objects:  53% (296/558)Counting objects:  54% (302/558)Counting objects:  55% (307/558)Counting objects:  56% (313/558)Counting objects:  57% (319/558)Counting objects:  58% (324/558)Counting objects:  59% (330/558)Counting objects:  60% (335/558)Counting objects:  61% (341/558)Counting objects:  62% (346/558)Counting objects:  63% (352/558)Counting objects:  64% (358/558)Counting objects:  65% (363/558)Counting objects:  66% (369/558)Counting objects:  67% (374/558)Counting objects:  68% (380/558)Counting objects:  69% (386/558)Counting objects:  70% (391/558)Counting objects:  71% (397/558)Counting objects:  72% (402/558)Counting objects:  73% (408/558)Counting objects:  74% (413/558)Counting objects:  75% (419/558)Counting objects:  76% (425/558)Counting objects:  77% (430/558)Counting objects:  78% (436/558)Counting objects:  79% (441/558)Counting objects:  80% (447/558)Counting objects:  81% (452/558)Counting objects:  82% (458/558)Counting objects:  83% (464/558)Counting objects:  84% (469/558)Counting objects:  85% (475/558)Counting objects:  86% (480/558)Counting objects:  87% (486/558)Counting objects:  88% (492/558)Counting objects:  89% (497/558)Counting objects:  90% (503/558)Counting objects:  91% (508/558)Counting objects:  92% (514/558)Counting objects:  93% (519/558)Counting objects:  94% (525/558)Counting objects:  95% (531/558)Counting objects:  96% (536/558)Counting objects:  97% (542/558)Counting objects:  98% (547/558)Counting objects:  99% (553/558)Counting objects: 100% (558/558)Counting objects: 100% (558/558), done.
Compressing objects:   0% (1/495)Compressing objects:   1% (5/495)Compressing objects:   2% (10/495)Compressing objects:   3% (15/495)Compressing objects:   4% (20/495)Compressing objects:   5% (25/495)Compressing objects:   6% (30/495)Compressing objects:   7% (35/495)Compressing objects:   8% (40/495)Compressing objects:   9% (45/495)Compressing objects:  10% (50/495)Compressing objects:  11% (55/495)Compressing objects:  12% (60/495)Compressing objects:  13% (65/495)Compressing objects:  14% (70/495)Compressing objects:  15% (75/495)Compressing objects:  16% (80/495)Compressing objects:  17% (85/495)Compressing objects:  18% (90/495)Compressing objects:  19% (95/495)Compressing objects:  20% (99/495)Compressing objects:  21% (104/495)Compressing objects:  22% (109/495)Compressing objects:  23% (114/495)Compressing objects:  24% (119/495)Compressing objects:  25% (124/495)Compressing objects:  26% (129/495)Compressing objects:  27% (134/495)Compressing objects:  28% (139/495)Compressing objects:  29% (144/495)Compressing objects:  30% (149/495)Compressing objects:  31% (154/495)Compressing objects:  32% (159/495)Compressing objects:  33% (164/495)Compressing objects:  34% (169/495)Compressing objects:  35% (174/495)Compressing objects:  36% (179/495)Compressing objects:  37% (184/495)Compressing objects:  38% (189/495)Compressing objects:  39% (194/495)Compressing objects:  40% (198/495)Compressing objects:  41% (203/495)Compressing objects:  42% (208/495)Compressing objects:  43% (213/495)Compressing objects:  44% (218/495)Compressing objects:  45% (223/495)Compressing objects:  46% (228/495)Compressing objects:  47% (233/495)Compressing objects:  48% (238/495)Compressing objects:  49% (243/495)Compressing objects:  50% (248/495)Compressing objects:  51% (253/495)Compressing objects:  52% (258/495)Compressing objects:  53% (263/495)Compressing objects:  54% (268/495)Compressing objects:  55% (273/495)Compressing objects:  56% (278/495)Compressing objects:  57% (283/495)Compressing objects:  58% (288/495)Compressing objects:  59% (293/495)Compressing objects:  60% (297/495)Compressing objects:  61% (302/495)Compressing objects:  62% (307/495)Compressing objects:  63% (312/495)Compressing objects:  64% (317/495)Compressing objects:  65% (322/495)Compressing objects:  66% (327/495)Compressing objects:  67% (332/495)Compressing objects:  68% (337/495)Compressing objects:  69% (342/495)Compressing objects:  70% (347/495)Compressing objects:  71% (352/495)Compressing objects:  72% (357/495)Compressing objects:  73% (362/495)Compressing objects:  74% (367/495)Compressing objects:  75% (372/495)Compressing objects:  76% (377/495)Compressing objects:  77% (382/495)Compressing objects:  78% (387/495)Compressing objects:  79% (392/495)Compressing objects:  80% (396/495)Compressing objects:  81% (401/495)Compressing objects:  82% (406/495)Compressing objects:  83% (411/495)Compressing objects:  84% (416/495)Compressing objects:  85% (421/495)Compressing objects:  86% (426/495)Compressing objects:  87% (431/495)Compressing objects:  88% (436/495)Compressing objects:  89% (441/495)Compressing objects:  90% (446/495)Compressing objects:  91% (451/495)Compressing objects:  92% (456/495)Compressing objects:  93% (461/495)Compressing objects:  94% (466/495)Compressing objects:  95% (471/495)Compressing objects:  96% (476/495)Compressing objects:  97% (481/495)Compressing objects:  98% (486/495)Compressing objects:  99% (491/495)Compressing objects: 100% (495/495)Compressing objects: 100% (495/495), done.
Total 15168 (delta 123), reused 478 (delta 58), pack-reused 14610
Checking out 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:12:06+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'e7ddadf9-43a7-41e6-8bb0-c033f17170c8', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git
INFO:EventListener:OK 0.801
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git 71862d95dd7e1e34c8e193b3ebf1063172a2cbf0
ERROR:EventListener:FAIL 7.099
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/apachecn/apachecn-algo-zh.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '8c0bee04fc7ca4e22e50023b76620c1458e6b8ae', '--to', '71862d95dd7e1e34c8e193b3ebf1063172a2cbf0', '--git-dir', '/tmp/top-repos-quality-repos-o3lgq7sl/apachecn-algo-zh.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/shaunlebron/parinfer.git                                  =
=  4 / 27                                                                      =
= Now:  2021-08-29 14:12:14.858566                                             =
= Left: 0:04:56.327784                                                         =
= Ends: 2021-08-29 14:17:11.186350                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /shaunlebron/parinfer.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /shaunlebron/parinfer.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 8122, done.
Total 8122 (delta 0), reused 0 (delta 0), pack-reused 8122
Checking out 41c74d03534a5adbdcb7430fb666899e8dbf746d
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:12:19+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '3ef8bb83-fb86-45c3-b723-7e9766a49b92', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git
INFO:EventListener:OK 7.645
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7rl4h7wj/parinfer/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7rl4h7wj/parinfer/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git 41c74d03534a5adbdcb7430fb666899e8dbf746d
ERROR:EventListener:FAIL 18.208
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/shaunlebron/parinfer.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'f2e3320bcde6a95f4fb653386ef9c9c22ed3420f', '--to', '41c74d03534a5adbdcb7430fb666899e8dbf746d', '--git-dir', '/tmp/top-repos-quality-repos-7rl4h7wj/parinfer.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/lukeed/uvu.git                                            =
=  5 / 27                                                                      =
= Now:  2021-08-29 14:12:44.969056                                             =
= Left: 0:06:26.120912                                                         =
= Ends: 2021-08-29 14:19:11.089968                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /lukeed/uvu.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /lukeed/uvu.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1692, done.
Counting objects:   0% (1/295)Counting objects:   1% (3/295)Counting objects:   2% (6/295)Counting objects:   3% (9/295)Counting objects:   4% (12/295)Counting objects:   5% (15/295)Counting objects:   6% (18/295)Counting objects:   7% (21/295)Counting objects:   8% (24/295)Counting objects:   9% (27/295)Counting objects:  10% (30/295)Counting objects:  11% (33/295)Counting objects:  12% (36/295)Counting objects:  13% (39/295)Counting objects:  14% (42/295)Counting objects:  15% (45/295)Counting objects:  16% (48/295)Counting objects:  17% (51/295)Counting objects:  18% (54/295)Counting objects:  19% (57/295)Counting objects:  20% (59/295)Counting objects:  21% (62/295)Counting objects:  22% (65/295)Counting objects:  23% (68/295)Counting objects:  24% (71/295)Counting objects:  25% (74/295)Counting objects:  26% (77/295)Counting objects:  27% (80/295)Counting objects:  28% (83/295)Counting objects:  29% (86/295)Counting objects:  30% (89/295)Counting objects:  31% (92/295)Counting objects:  32% (95/295)Counting objects:  33% (98/295)Counting objects:  34% (101/295)Counting objects:  35% (104/295)Counting objects:  36% (107/295)Counting objects:  37% (110/295)Counting objects:  38% (113/295)Counting objects:  39% (116/295)Counting objects:  40% (118/295)Counting objects:  41% (121/295)Counting objects:  42% (124/295)Counting objects:  43% (127/295)Counting objects:  44% (130/295)Counting objects:  45% (133/295)Counting objects:  46% (136/295)Counting objects:  47% (139/295)Counting objects:  48% (142/295)Counting objects:  49% (145/295)Counting objects:  50% (148/295)Counting objects:  51% (151/295)Counting objects:  52% (154/295)Counting objects:  53% (157/295)Counting objects:  54% (160/295)Counting objects:  55% (163/295)Counting objects:  56% (166/295)Counting objects:  57% (169/295)Counting objects:  58% (172/295)Counting objects:  59% (175/295)Counting objects:  60% (177/295)Counting objects:  61% (180/295)Counting objects:  62% (183/295)Counting objects:  63% (186/295)Counting objects:  64% (189/295)Counting objects:  65% (192/295)Counting objects:  66% (195/295)Counting objects:  67% (198/295)Counting objects:  68% (201/295)Counting objects:  69% (204/295)Counting objects:  70% (207/295)Counting objects:  71% (210/295)Counting objects:  72% (213/295)Counting objects:  73% (216/295)Counting objects:  74% (219/295)Counting objects:  75% (222/295)Counting objects:  76% (225/295)Counting objects:  77% (228/295)Counting objects:  78% (231/295)Counting objects:  79% (234/295)Counting objects:  80% (236/295)Counting objects:  81% (239/295)Counting objects:  82% (242/295)Counting objects:  83% (245/295)Counting objects:  84% (248/295)Counting objects:  85% (251/295)Counting objects:  86% (254/295)Counting objects:  87% (257/295)Counting objects:  88% (260/295)Counting objects:  89% (263/295)Counting objects:  90% (266/295)Counting objects:  91% (269/295)Counting objects:  92% (272/295)Counting objects:  93% (275/295)Counting objects:  94% (278/295)Counting objects:  95% (281/295)Counting objects:  96% (284/295)Counting objects:  97% (287/295)Counting objects:  98% (290/295)Counting objects:  99% (293/295)Counting objects: 100% (295/295)Counting objects: 100% (295/295), done.
Compressing objects:   0% (1/203)Compressing objects:   1% (3/203)Compressing objects:   2% (5/203)Compressing objects:   3% (7/203)Compressing objects:   4% (9/203)Compressing objects:   5% (11/203)Compressing objects:   6% (13/203)Compressing objects:   7% (15/203)Compressing objects:   8% (17/203)Compressing objects:   9% (19/203)Compressing objects:  10% (21/203)Compressing objects:  11% (23/203)Compressing objects:  12% (25/203)Compressing objects:  13% (27/203)Compressing objects:  14% (29/203)Compressing objects:  15% (31/203)Compressing objects:  16% (33/203)Compressing objects:  17% (35/203)Compressing objects:  18% (37/203)Compressing objects:  19% (39/203)Compressing objects:  20% (41/203)Compressing objects:  21% (43/203)Compressing objects:  22% (45/203)Compressing objects:  23% (47/203)Compressing objects:  24% (49/203)Compressing objects:  25% (51/203)Compressing objects:  26% (53/203)Compressing objects:  27% (55/203)Compressing objects:  28% (57/203)Compressing objects:  29% (59/203)Compressing objects:  30% (61/203)Compressing objects:  31% (63/203)Compressing objects:  32% (65/203)Compressing objects:  33% (67/203)Compressing objects:  34% (70/203)Compressing objects:  35% (72/203)Compressing objects:  36% (74/203)Compressing objects:  37% (76/203)Compressing objects:  38% (78/203)Compressing objects:  39% (80/203)Compressing objects:  40% (82/203)Compressing objects:  41% (84/203)Compressing objects:  42% (86/203)Compressing objects:  43% (88/203)Compressing objects:  44% (90/203)Compressing objects:  45% (92/203)Compressing objects:  46% (94/203)Compressing objects:  47% (96/203)Compressing objects:  48% (98/203)Compressing objects:  49% (100/203)Compressing objects:  50% (102/203)Compressing objects:  51% (104/203)Compressing objects:  52% (106/203)Compressing objects:  53% (108/203)Compressing objects:  54% (110/203)Compressing objects:  55% (112/203)Compressing objects:  56% (114/203)Compressing objects:  57% (116/203)Compressing objects:  58% (118/203)Compressing objects:  59% (120/203)Compressing objects:  60% (122/203)Compressing objects:  61% (124/203)Compressing objects:  62% (126/203)Compressing objects:  63% (128/203)Compressing objects:  64% (130/203)Compressing objects:  65% (132/203)Compressing objects:  66% (134/203)Compressing objects:  67% (137/203)Compressing objects:  68% (139/203)Compressing objects:  69% (141/203)Compressing objects:  70% (143/203)Compressing objects:  71% (145/203)Compressing objects:  72% (147/203)Compressing objects:  73% (149/203)Compressing objects:  74% (151/203)Compressing objects:  75% (153/203)Compressing objects:  76% (155/203)Compressing objects:  77% (157/203)Compressing objects:  78% (159/203)Compressing objects:  79% (161/203)Compressing objects:  80% (163/203)Compressing objects:  81% (165/203)Compressing objects:  82% (167/203)Compressing objects:  83% (169/203)Compressing objects:  84% (171/203)Compressing objects:  85% (173/203)Compressing objects:  86% (175/203)Compressing objects:  87% (177/203)Compressing objects:  88% (179/203)Compressing objects:  89% (181/203)Compressing objects:  90% (183/203)Compressing objects:  91% (185/203)Compressing objects:  92% (187/203)Compressing objects:  93% (189/203)Compressing objects:  94% (191/203)Compressing objects:  95% (193/203)Compressing objects:  96% (195/203)Compressing objects:  97% (197/203)Compressing objects:  98% (199/203)Compressing objects:  99% (201/203)Compressing objects: 100% (203/203)Compressing objects: 100% (203/203), done.
Total 1692 (delta 150), reused 181 (delta 85), pack-reused 1397
Checking out d56753ec20928da1c22ff093cb07ce3c67613706
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:12:45+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'f687694b-4246-4dcb-bc37-58c95a988814', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git
INFO:EventListener:OK 21.939
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-9qv00jr3/uvu/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-9qv00jr3/uvu/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-9qv00jr3/uvu.git d56753ec20928da1c22ff093cb07ce3c67613706
ERROR:EventListener:FAIL 49.082
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/lukeed/uvu.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '988d9290adef593aaf3ee169868b9fcef0d9d0f3', '--to', 'd56753ec20928da1c22ff093cb07ce3c67613706', '--git-dir', '/tmp/top-repos-quality-repos-9qv00jr3/uvu.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/affinelayer/pix2pix-tensorflow.git                        =
=  6 / 27                                                                      =
= Now:  2021-08-29 14:13:56.982384                                             =
= Left: 0:10:12.325080                                                         =
= Ends: 2021-08-29 14:24:09.307464                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /affinelayer/pix2pix-tensorflow.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /affinelayer/pix2pix-tensorflow.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 431, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Compressing objects:  14% (1/7)Compressing objects:  28% (2/7)Compressing objects:  42% (3/7)Compressing objects:  57% (4/7)Compressing objects:  71% (5/7)Compressing objects:  85% (6/7)Compressing objects: 100% (7/7)Compressing objects: 100% (7/7), done.
Total 431 (delta 0), reused 1 (delta 0), pack-reused 424
Checking out 0f2174424356162920fc25067e63db2bcf19f4e7
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:14:01+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '5d4f19be-e585-4308-834f-1f2406142bab', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git
INFO:EventListener:OK 62.790
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git 0f2174424356162920fc25067e63db2bcf19f4e7
ERROR:EventListener:FAIL 118.108
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/affinelayer/pix2pix-tensorflow.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '5c761a294e0ddd5a43fa2bb3de110f46e7a8f30a', '--to', '0f2174424356162920fc25067e63db2bcf19f4e7', '--git-dir', '/tmp/top-repos-quality-repos-5zv0f2ea/pix2pix-tensorflow.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/prettier/prettier-eslint.git                              =
=  7 / 27                                                                      =
= Now:  2021-08-29 14:17:02.117548                                             =
= Left: 0:18:55.049842                                                         =
= Ends: 2021-08-29 14:35:57.167390                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /prettier/prettier-eslint.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /prettier/prettier-eslint.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 2793, done.
Counting objects:   0% (1/294)Counting objects:   1% (3/294)Counting objects:   2% (6/294)Counting objects:   3% (9/294)Counting objects:   4% (12/294)Counting objects:   5% (15/294)Counting objects:   6% (18/294)Counting objects:   7% (21/294)Counting objects:   8% (24/294)Counting objects:   9% (27/294)Counting objects:  10% (30/294)Counting objects:  11% (33/294)Counting objects:  12% (36/294)Counting objects:  13% (39/294)Counting objects:  14% (42/294)Counting objects:  15% (45/294)Counting objects:  16% (48/294)Counting objects:  17% (50/294)Counting objects:  18% (53/294)Counting objects:  19% (56/294)Counting objects:  20% (59/294)Counting objects:  21% (62/294)Counting objects:  22% (65/294)Counting objects:  23% (68/294)Counting objects:  24% (71/294)Counting objects:  25% (74/294)Counting objects:  26% (77/294)Counting objects:  27% (80/294)Counting objects:  28% (83/294)Counting objects:  29% (86/294)Counting objects:  30% (89/294)Counting objects:  31% (92/294)Counting objects:  32% (95/294)Counting objects:  33% (98/294)Counting objects:  34% (100/294)Counting objects:  35% (103/294)Counting objects:  36% (106/294)Counting objects:  37% (109/294)Counting objects:  38% (112/294)Counting objects:  39% (115/294)Counting objects:  40% (118/294)Counting objects:  41% (121/294)Counting objects:  42% (124/294)Counting objects:  43% (127/294)Counting objects:  44% (130/294)Counting objects:  45% (133/294)Counting objects:  46% (136/294)Counting objects:  47% (139/294)Counting objects:  48% (142/294)Counting objects:  49% (145/294)Counting objects:  50% (147/294)Counting objects:  51% (150/294)Counting objects:  52% (153/294)Counting objects:  53% (156/294)Counting objects:  54% (159/294)Counting objects:  55% (162/294)Counting objects:  56% (165/294)Counting objects:  57% (168/294)Counting objects:  58% (171/294)Counting objects:  59% (174/294)Counting objects:  60% (177/294)Counting objects:  61% (180/294)Counting objects:  62% (183/294)Counting objects:  63% (186/294)Counting objects:  64% (189/294)Counting objects:  65% (192/294)Counting objects:  66% (195/294)Counting objects:  67% (197/294)Counting objects:  68% (200/294)Counting objects:  69% (203/294)Counting objects:  70% (206/294)Counting objects:  71% (209/294)Counting objects:  72% (212/294)Counting objects:  73% (215/294)Counting objects:  74% (218/294)Counting objects:  75% (221/294)Counting objects:  76% (224/294)Counting objects:  77% (227/294)Counting objects:  78% (230/294)Counting objects:  79% (233/294)Counting objects:  80% (236/294)Counting objects:  81% (239/294)Counting objects:  82% (242/294)Counting objects:  83% (245/294)Counting objects:  84% (247/294)Counting objects:  85% (250/294)Counting objects:  86% (253/294)Counting objects:  87% (256/294)Counting objects:  88% (259/294)Counting objects:  89% (262/294)Counting objects:  90% (265/294)Counting objects:  91% (268/294)Counting objects:  92% (271/294)Counting objects:  93% (274/294)Counting objects:  94% (277/294)Counting objects:  95% (280/294)Counting objects:  96% (283/294)Counting objects:  97% (286/294)Counting objects:  98% (289/294)Counting objects:  99% (292/294)Counting objects: 100% (294/294)Counting objects: 100% (294/294), done.
Compressing objects:   0% (1/292)Compressing objects:   1% (3/292)Compressing objects:   2% (6/292)Compressing objects:   3% (9/292)Compressing objects:   4% (12/292)Compressing objects:   5% (15/292)Compressing objects:   6% (18/292)Compressing objects:   7% (21/292)Compressing objects:   8% (24/292)Compressing objects:   9% (27/292)Compressing objects:  10% (30/292)Compressing objects:  11% (33/292)Compressing objects:  12% (36/292)Compressing objects:  13% (38/292)Compressing objects:  14% (41/292)Compressing objects:  15% (44/292)Compressing objects:  16% (47/292)Compressing objects:  17% (50/292)Compressing objects:  18% (53/292)Compressing objects:  19% (56/292)Compressing objects:  20% (59/292)Compressing objects:  21% (62/292)Compressing objects:  22% (65/292)Compressing objects:  23% (68/292)Compressing objects:  24% (71/292)Compressing objects:  25% (73/292)Compressing objects:  26% (76/292)Compressing objects:  27% (79/292)Compressing objects:  28% (82/292)Compressing objects:  29% (85/292)Compressing objects:  30% (88/292)Compressing objects:  31% (91/292)Compressing objects:  32% (94/292)Compressing objects:  33% (97/292)Compressing objects:  34% (100/292)Compressing objects:  35% (103/292)Compressing objects:  36% (106/292)Compressing objects:  37% (109/292)Compressing objects:  38% (111/292)Compressing objects:  39% (114/292)Compressing objects:  40% (117/292)Compressing objects:  41% (120/292)Compressing objects:  42% (123/292)Compressing objects:  43% (126/292)Compressing objects:  44% (129/292)Compressing objects:  45% (132/292)Compressing objects:  46% (135/292)Compressing objects:  47% (138/292)Compressing objects:  48% (141/292)Compressing objects:  49% (144/292)Compressing objects:  50% (146/292)Compressing objects:  51% (149/292)Compressing objects:  52% (152/292)Compressing objects:  53% (155/292)Compressing objects:  54% (158/292)Compressing objects:  55% (161/292)Compressing objects:  56% (164/292)Compressing objects:  57% (167/292)Compressing objects:  58% (170/292)Compressing objects:  59% (173/292)Compressing objects:  60% (176/292)Compressing objects:  61% (179/292)Compressing objects:  62% (182/292)Compressing objects:  63% (184/292)Compressing objects:  64% (187/292)Compressing objects:  65% (190/292)Compressing objects:  66% (193/292)Compressing objects:  67% (196/292)Compressing objects:  68% (199/292)Compressing objects:  69% (202/292)Compressing objects:  70% (205/292)Compressing objects:  71% (208/292)Compressing objects:  72% (211/292)Compressing objects:  73% (214/292)Compressing objects:  74% (217/292)Compressing objects:  75% (219/292)Compressing objects:  76% (222/292)Compressing objects:  77% (225/292)Compressing objects:  78% (228/292)Compressing objects:  79% (231/292)Compressing objects:  80% (234/292)Compressing objects:  81% (237/292)Compressing objects:  82% (240/292)Compressing objects:  83% (243/292)Compressing objects:  84% (246/292)Compressing objects:  85% (249/292)Compressing objects:  86% (252/292)Compressing objects:  87% (255/292)Compressing objects:  88% (257/292)Compressing objects:  89% (260/292)Compressing objects:  90% (263/292)Compressing objects:  91% (266/292)Compressing objects:  92% (269/292)Compressing objects:  93% (272/292)Compressing objects:  94% (275/292)Compressing objects:  95% (278/292)Compressing objects:  96% (281/292)Compressing objects:  97% (284/292)Compressing objects:  98% (287/292)Compressing objects:  99% (290/292)Compressing objects: 100% (292/292)Compressing objects: 100% (292/292), done.
Total 2793 (delta 224), reused 6 (delta 2), pack-reused 2499
Checking out c62769ef430749fb9650c7e1d05f5cf7442a48a2
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:17:03+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '6bb14ff3-36d9-4950-9bb7-63f3675e9426', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git
INFO:EventListener:OK 106.016
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git c62769ef430749fb9650c7e1d05f5cf7442a48a2
ERROR:EventListener:FAIL 121.513
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/prettier/prettier-eslint.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'db6f7cb0abadf1bef27ab4bdd058bfa37b7af361', '--to', 'c62769ef430749fb9650c7e1d05f5cf7442a48a2', '--git-dir', '/tmp/top-repos-quality-repos-_e8zro1q/prettier-eslint.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mandatoryprogrammer/cursedchrome.git                      =
=  8 / 27                                                                      =
= Now:  2021-08-29 14:20:51.321173                                             =
= Left: 0:26:21.438800                                                         =
= Ends: 2021-08-29 14:47:12.759973                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mandatoryprogrammer/cursedchrome.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mandatoryprogrammer/cursedchrome.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 300, done.
Counting objects:   2% (1/44)Counting objects:   4% (2/44)Counting objects:   6% (3/44)Counting objects:   9% (4/44)Counting objects:  11% (5/44)Counting objects:  13% (6/44)Counting objects:  15% (7/44)Counting objects:  18% (8/44)Counting objects:  20% (9/44)Counting objects:  22% (10/44)Counting objects:  25% (11/44)Counting objects:  27% (12/44)Counting objects:  29% (13/44)Counting objects:  31% (14/44)Counting objects:  34% (15/44)Counting objects:  36% (16/44)Counting objects:  38% (17/44)Counting objects:  40% (18/44)Counting objects:  43% (19/44)Counting objects:  45% (20/44)Counting objects:  47% (21/44)Counting objects:  50% (22/44)Counting objects:  52% (23/44)Counting objects:  54% (24/44)Counting objects:  56% (25/44)Counting objects:  59% (26/44)Counting objects:  61% (27/44)Counting objects:  63% (28/44)Counting objects:  65% (29/44)Counting objects:  68% (30/44)Counting objects:  70% (31/44)Counting objects:  72% (32/44)Counting objects:  75% (33/44)Counting objects:  77% (34/44)Counting objects:  79% (35/44)Counting objects:  81% (36/44)Counting objects:  84% (37/44)Counting objects:  86% (38/44)Counting objects:  88% (39/44)Counting objects:  90% (40/44)Counting objects:  93% (41/44)Counting objects:  95% (42/44)Counting objects:  97% (43/44)Counting objects: 100% (44/44)Counting objects: 100% (44/44), done.
Compressing objects:   2% (1/42)Compressing objects:   4% (2/42)Compressing objects:   7% (3/42)Compressing objects:   9% (4/42)Compressing objects:  11% (5/42)Compressing objects:  14% (6/42)Compressing objects:  16% (7/42)Compressing objects:  19% (8/42)Compressing objects:  21% (9/42)Compressing objects:  23% (10/42)Compressing objects:  26% (11/42)Compressing objects:  28% (12/42)Compressing objects:  30% (13/42)Compressing objects:  33% (14/42)Compressing objects:  35% (15/42)Compressing objects:  38% (16/42)Compressing objects:  40% (17/42)Compressing objects:  42% (18/42)Compressing objects:  45% (19/42)Compressing objects:  47% (20/42)Compressing objects:  50% (21/42)Compressing objects:  52% (22/42)Compressing objects:  54% (23/42)Compressing objects:  57% (24/42)Compressing objects:  59% (25/42)Compressing objects:  61% (26/42)Compressing objects:  64% (27/42)Compressing objects:  66% (28/42)Compressing objects:  69% (29/42)Compressing objects:  71% (30/42)Compressing objects:  73% (31/42)Compressing objects:  76% (32/42)Compressing objects:  78% (33/42)Compressing objects:  80% (34/42)Compressing objects:  83% (35/42)Compressing objects:  85% (36/42)Compressing objects:  88% (37/42)Compressing objects:  90% (38/42)Compressing objects:  92% (39/42)Compressing objects:  95% (40/42)Compressing objects:  97% (41/42)Compressing objects: 100% (42/42)Compressing objects: 100% (42/42), done.
Total 300 (delta 19), reused 4 (delta 2), pack-reused 256
Checking out f18eaee6e3aee866b801235e836d9576aff008de
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:20:52+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'ed60a074-e664-4ec9-b77a-9bd045575181', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git
INFO:EventListener:OK 130.799
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-snrimhg8/cursedchrome/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-snrimhg8/cursedchrome/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git f18eaee6e3aee866b801235e836d9576aff008de
ERROR:EventListener:FAIL 125.955
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mandatoryprogrammer/cursedchrome.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'f7c0dd87d73238f2ef3d631d6db90e5f490cebe0', '--to', 'f18eaee6e3aee866b801235e836d9576aff008de', '--git-dir', '/tmp/top-repos-quality-repos-snrimhg8/cursedchrome.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/disease-sh/api.git                                        =
=  9 / 27                                                                      =
= Now:  2021-08-29 14:25:09.664310                                             =
= Left: 0:32:08.135953                                                         =
= Ends: 2021-08-29 14:57:17.800263                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /disease-sh/api.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /disease-sh/api.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 12114, done.
Counting objects:   0% (1/485)Counting objects:   1% (5/485)Counting objects:   2% (10/485)Counting objects:   3% (15/485)Counting objects:   4% (20/485)Counting objects:   5% (25/485)Counting objects:   6% (30/485)Counting objects:   7% (34/485)Counting objects:   8% (39/485)Counting objects:   9% (44/485)Counting objects:  10% (49/485)Counting objects:  11% (54/485)Counting objects:  12% (59/485)Counting objects:  13% (64/485)Counting objects:  14% (68/485)Counting objects:  15% (73/485)Counting objects:  16% (78/485)Counting objects:  17% (83/485)Counting objects:  18% (88/485)Counting objects:  19% (93/485)Counting objects:  20% (97/485)Counting objects:  21% (102/485)Counting objects:  22% (107/485)Counting objects:  23% (112/485)Counting objects:  24% (117/485)Counting objects:  25% (122/485)Counting objects:  26% (127/485)Counting objects:  27% (131/485)Counting objects:  28% (136/485)Counting objects:  29% (141/485)Counting objects:  30% (146/485)Counting objects:  31% (151/485)Counting objects:  32% (156/485)Counting objects:  33% (161/485)Counting objects:  34% (165/485)Counting objects:  35% (170/485)Counting objects:  36% (175/485)Counting objects:  37% (180/485)Counting objects:  38% (185/485)Counting objects:  39% (190/485)Counting objects:  40% (194/485)Counting objects:  41% (199/485)Counting objects:  42% (204/485)Counting objects:  43% (209/485)Counting objects:  44% (214/485)Counting objects:  45% (219/485)Counting objects:  46% (224/485)Counting objects:  47% (228/485)Counting objects:  48% (233/485)Counting objects:  49% (238/485)Counting objects:  50% (243/485)Counting objects:  51% (248/485)Counting objects:  52% (253/485)Counting objects:  53% (258/485)Counting objects:  54% (262/485)Counting objects:  55% (267/485)Counting objects:  56% (272/485)Counting objects:  57% (277/485)Counting objects:  58% (282/485)Counting objects:  59% (287/485)Counting objects:  60% (291/485)Counting objects:  61% (296/485)Counting objects:  62% (301/485)Counting objects:  63% (306/485)Counting objects:  64% (311/485)Counting objects:  65% (316/485)Counting objects:  66% (321/485)Counting objects:  67% (325/485)Counting objects:  68% (330/485)Counting objects:  69% (335/485)Counting objects:  70% (340/485)Counting objects:  71% (345/485)Counting objects:  72% (350/485)Counting objects:  73% (355/485)Counting objects:  74% (359/485)Counting objects:  75% (364/485)Counting objects:  76% (369/485)Counting objects:  77% (374/485)Counting objects:  78% (379/485)Counting objects:  79% (384/485)Counting objects:  80% (388/485)Counting objects:  81% (393/485)Counting objects:  82% (398/485)Counting objects:  83% (403/485)Counting objects:  84% (408/485)Counting objects:  85% (413/485)Counting objects:  86% (418/485)Counting objects:  87% (422/485)Counting objects:  88% (427/485)Counting objects:  89% (432/485)Counting objects:  90% (437/485)Counting objects:  91% (442/485)Counting objects:  92% (447/485)Counting objects:  93% (452/485)Counting objects:  94% (456/485)Counting objects:  95% (461/485)Counting objects:  96% (466/485)Counting objects:  97% (471/485)Counting objects:  98% (476/485)Counting objects:  99% (481/485)Counting objects: 100% (485/485)Counting objects: 100% (485/485), done.
Compressing objects:   0% (1/266)Compressing objects:   1% (3/266)Compressing objects:   2% (6/266)Compressing objects:   3% (8/266)Compressing objects:   4% (11/266)Compressing objects:   5% (14/266)Compressing objects:   6% (16/266)Compressing objects:   7% (19/266)Compressing objects:   8% (22/266)Compressing objects:   9% (24/266)Compressing objects:  10% (27/266)Compressing objects:  11% (30/266)Compressing objects:  12% (32/266)Compressing objects:  13% (35/266)Compressing objects:  14% (38/266)Compressing objects:  15% (40/266)Compressing objects:  16% (43/266)Compressing objects:  17% (46/266)Compressing objects:  18% (48/266)Compressing objects:  19% (51/266)Compressing objects:  20% (54/266)Compressing objects:  21% (56/266)Compressing objects:  22% (59/266)Compressing objects:  23% (62/266)Compressing objects:  24% (64/266)Compressing objects:  25% (67/266)Compressing objects:  26% (70/266)Compressing objects:  27% (72/266)Compressing objects:  28% (75/266)Compressing objects:  29% (78/266)Compressing objects:  30% (80/266)Compressing objects:  31% (83/266)Compressing objects:  32% (86/266)Compressing objects:  33% (88/266)Compressing objects:  34% (91/266)Compressing objects:  35% (94/266)Compressing objects:  36% (96/266)Compressing objects:  37% (99/266)Compressing objects:  38% (102/266)Compressing objects:  39% (104/266)Compressing objects:  40% (107/266)Compressing objects:  41% (110/266)Compressing objects:  42% (112/266)Compressing objects:  43% (115/266)Compressing objects:  44% (118/266)Compressing objects:  45% (120/266)Compressing objects:  46% (123/266)Compressing objects:  47% (126/266)Compressing objects:  48% (128/266)Compressing objects:  49% (131/266)Compressing objects:  50% (133/266)Compressing objects:  51% (136/266)Compressing objects:  52% (139/266)Compressing objects:  53% (141/266)Compressing objects:  54% (144/266)Compressing objects:  55% (147/266)Compressing objects:  56% (149/266)Compressing objects:  57% (152/266)Compressing objects:  58% (155/266)Compressing objects:  59% (157/266)Compressing objects:  60% (160/266)Compressing objects:  61% (163/266)Compressing objects:  62% (165/266)Compressing objects:  63% (168/266)Compressing objects:  64% (171/266)Compressing objects:  65% (173/266)Compressing objects:  66% (176/266)Compressing objects:  67% (179/266)Compressing objects:  68% (181/266)Compressing objects:  69% (184/266)Compressing objects:  70% (187/266)Compressing objects:  71% (189/266)Compressing objects:  72% (192/266)Compressing objects:  73% (195/266)Compressing objects:  74% (197/266)Compressing objects:  75% (200/266)Compressing objects:  76% (203/266)Compressing objects:  77% (205/266)Compressing objects:  78% (208/266)Compressing objects:  79% (211/266)Compressing objects:  80% (213/266)Compressing objects:  81% (216/266)Compressing objects:  82% (219/266)Compressing objects:  83% (221/266)Compressing objects:  84% (224/266)Compressing objects:  85% (227/266)Compressing objects:  86% (229/266)Compressing objects:  87% (232/266)Compressing objects:  88% (235/266)Compressing objects:  89% (237/266)Compressing objects:  90% (240/266)Compressing objects:  91% (243/266)Compressing objects:  92% (245/266)Compressing objects:  93% (248/266)Compressing objects:  94% (251/266)Compressing objects:  95% (253/266)Compressing objects:  96% (256/266)Compressing objects:  97% (259/266)Compressing objects:  98% (261/266)Compressing objects:  99% (264/266)Compressing objects: 100% (266/266)Compressing objects: 100% (266/266), done.
Total 12114 (delta 233), reused 430 (delta 210), pack-reused 11629
Checking out 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-6mwmxsae/api.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-6mwmxsae/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:25:13+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '79aee948-dc41-4e46-a90f-9db81f8be150', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-6mwmxsae/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-6mwmxsae/api.git
INFO:EventListener:OK 137.831
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-6mwmxsae/api/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-6mwmxsae/api.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-6mwmxsae/api/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-6mwmxsae/api.git 3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e
ERROR:EventListener:FAIL 126.227
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/disease-sh/api.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'da39023402eaea84409f7a495eca9fd21935b8c3', '--to', '3ba2eac0e7c9093852bdd3400c7f2581cd74ac9e', '--git-dir', '/tmp/top-repos-quality-repos-6mwmxsae/api.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/coffe1891/frontend-hard-mode-interview.git                =
= 10 / 27                                                                      =
= Now:  2021-08-29 14:29:38.055693                                             =
= Left: 0:36:00.476200                                                         =
= Ends: 2021-08-29 15:05:38.531893                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /coffe1891/frontend-hard-mode-interview.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /coffe1891/frontend-hard-mode-interview.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3895, done.
Counting objects:   0% (1/153)Counting objects:   1% (2/153)Counting objects:   2% (4/153)Counting objects:   3% (5/153)Counting objects:   4% (7/153)Counting objects:   5% (8/153)Counting objects:   6% (10/153)Counting objects:   7% (11/153)Counting objects:   8% (13/153)Counting objects:   9% (14/153)Counting objects:  10% (16/153)Counting objects:  11% (17/153)Counting objects:  12% (19/153)Counting objects:  13% (20/153)Counting objects:  14% (22/153)Counting objects:  15% (23/153)Counting objects:  16% (25/153)Counting objects:  17% (27/153)Counting objects:  18% (28/153)Counting objects:  19% (30/153)Counting objects:  20% (31/153)Counting objects:  21% (33/153)Counting objects:  22% (34/153)Counting objects:  23% (36/153)Counting objects:  24% (37/153)Counting objects:  25% (39/153)Counting objects:  26% (40/153)Counting objects:  27% (42/153)Counting objects:  28% (43/153)Counting objects:  29% (45/153)Counting objects:  30% (46/153)Counting objects:  31% (48/153)Counting objects:  32% (49/153)Counting objects:  33% (51/153)Counting objects:  34% (53/153)Counting objects:  35% (54/153)Counting objects:  36% (56/153)Counting objects:  37% (57/153)Counting objects:  38% (59/153)Counting objects:  39% (60/153)Counting objects:  40% (62/153)Counting objects:  41% (63/153)Counting objects:  42% (65/153)Counting objects:  43% (66/153)Counting objects:  44% (68/153)Counting objects:  45% (69/153)Counting objects:  46% (71/153)Counting objects:  47% (72/153)Counting objects:  48% (74/153)Counting objects:  49% (75/153)Counting objects:  50% (77/153)Counting objects:  51% (79/153)Counting objects:  52% (80/153)Counting objects:  53% (82/153)Counting objects:  54% (83/153)Counting objects:  55% (85/153)Counting objects:  56% (86/153)Counting objects:  57% (88/153)Counting objects:  58% (89/153)Counting objects:  59% (91/153)Counting objects:  60% (92/153)Counting objects:  61% (94/153)Counting objects:  62% (95/153)Counting objects:  63% (97/153)Counting objects:  64% (98/153)Counting objects:  65% (100/153)Counting objects:  66% (101/153)Counting objects:  67% (103/153)Counting objects:  68% (105/153)Counting objects:  69% (106/153)Counting objects:  70% (108/153)Counting objects:  71% (109/153)Counting objects:  72% (111/153)Counting objects:  73% (112/153)Counting objects:  74% (114/153)Counting objects:  75% (115/153)Counting objects:  76% (117/153)Counting objects:  77% (118/153)Counting objects:  78% (120/153)Counting objects:  79% (121/153)Counting objects:  80% (123/153)Counting objects:  81% (124/153)Counting objects:  82% (126/153)Counting objects:  83% (127/153)Counting objects:  84% (129/153)Counting objects:  85% (131/153)Counting objects:  86% (132/153)Counting objects:  87% (134/153)Counting objects:  88% (135/153)Counting objects:  89% (137/153)Counting objects:  90% (138/153)Counting objects:  91% (140/153)Counting objects:  92% (141/153)Counting objects:  93% (143/153)Counting objects:  94% (144/153)Counting objects:  95% (146/153)Counting objects:  96% (147/153)Counting objects:  97% (149/153)Counting objects:  98% (150/153)Counting objects:  99% (152/153)Counting objects: 100% (153/153)Counting objects: 100% (153/153), done.
Compressing objects:   0% (1/147)Compressing objects:   1% (2/147)Compressing objects:   2% (3/147)Compressing objects:   3% (5/147)Compressing objects:   4% (6/147)Compressing objects:   5% (8/147)Compressing objects:   6% (9/147)Compressing objects:   7% (11/147)Compressing objects:   8% (12/147)Compressing objects:   9% (14/147)Compressing objects:  10% (15/147)Compressing objects:  11% (17/147)Compressing objects:  12% (18/147)Compressing objects:  13% (20/147)Compressing objects:  14% (21/147)Compressing objects:  15% (23/147)Compressing objects:  16% (24/147)Compressing objects:  17% (25/147)Compressing objects:  18% (27/147)Compressing objects:  19% (28/147)Compressing objects:  20% (30/147)Compressing objects:  21% (31/147)Compressing objects:  22% (33/147)Compressing objects:  23% (34/147)Compressing objects:  24% (36/147)Compressing objects:  25% (37/147)Compressing objects:  26% (39/147)Compressing objects:  27% (40/147)Compressing objects:  28% (42/147)Compressing objects:  29% (43/147)Compressing objects:  30% (45/147)Compressing objects:  31% (46/147)Compressing objects:  32% (48/147)Compressing objects:  33% (49/147)Compressing objects:  34% (50/147)Compressing objects:  35% (52/147)Compressing objects:  36% (53/147)Compressing objects:  37% (55/147)Compressing objects:  38% (56/147)Compressing objects:  39% (58/147)Compressing objects:  40% (59/147)Compressing objects:  41% (61/147)Compressing objects:  42% (62/147)Compressing objects:  43% (64/147)Compressing objects:  44% (65/147)Compressing objects:  45% (67/147)Compressing objects:  46% (68/147)Compressing objects:  47% (70/147)Compressing objects:  48% (71/147)Compressing objects:  49% (73/147)Compressing objects:  50% (74/147)Compressing objects:  51% (75/147)Compressing objects:  52% (77/147)Compressing objects:  53% (78/147)Compressing objects:  54% (80/147)Compressing objects:  55% (81/147)Compressing objects:  56% (83/147)Compressing objects:  57% (84/147)Compressing objects:  58% (86/147)Compressing objects:  59% (87/147)Compressing objects:  60% (89/147)Compressing objects:  61% (90/147)Compressing objects:  62% (92/147)Compressing objects:  63% (93/147)Compressing objects:  64% (95/147)Compressing objects:  65% (96/147)Compressing objects:  66% (98/147)Compressing objects:  67% (99/147)Compressing objects:  68% (100/147)Compressing objects:  69% (102/147)Compressing objects:  70% (103/147)Compressing objects:  71% (105/147)Compressing objects:  72% (106/147)Compressing objects:  73% (108/147)Compressing objects:  74% (109/147)Compressing objects:  75% (111/147)Compressing objects:  76% (112/147)Compressing objects:  77% (114/147)Compressing objects:  78% (115/147)Compressing objects:  79% (117/147)Compressing objects:  80% (118/147)Compressing objects:  81% (120/147)Compressing objects:  82% (121/147)Compressing objects:  83% (123/147)Compressing objects:  84% (124/147)Compressing objects:  85% (125/147)Compressing objects:  86% (127/147)Compressing objects:  87% (128/147)Compressing objects:  88% (130/147)Compressing objects:  89% (131/147)Compressing objects:  90% (133/147)Compressing objects:  91% (134/147)Compressing objects:  92% (136/147)Compressing objects:  93% (137/147)Compressing objects:  94% (139/147)Compressing objects:  95% (140/147)Compressing objects:  96% (142/147)Compressing objects:  97% (143/147)Compressing objects:  98% (145/147)Compressing objects:  99% (146/147)Compressing objects: 100% (147/147)Compressing objects: 100% (147/147), done.
Total 3895 (delta 81), reused 3 (delta 2), pack-reused 3742
Checking out ffb7ff24d792522f8294fc81abe3ac6381053c1e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:29:40+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'beed7b43-0096-4423-894d-1e479351d8d6', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git
INFO:EventListener:OK 136.504
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git ffb7ff24d792522f8294fc81abe3ac6381053c1e
ERROR:EventListener:FAIL 127.200
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/coffe1891/frontend-hard-mode-interview.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '6d11051ec005ed2fc897b8028e1ddb5473618c81', '--to', 'ffb7ff24d792522f8294fc81abe3ac6381053c1e', '--git-dir', '/tmp/top-repos-quality-repos-7ignphlb/frontend-hard-mode-interview.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/electerious/ackee.git                                     =
= 11 / 27                                                                      =
= Now:  2021-08-29 14:34:04.403025                                             =
= Left: 0:38:09.195234                                                         =
= Ends: 2021-08-29 15:12:13.598259                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /electerious/ackee.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /electerious/ackee.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15571, done.
Counting objects:   0% (1/2486)Counting objects:   1% (25/2486)Counting objects:   2% (50/2486)Counting objects:   3% (75/2486)Counting objects:   4% (100/2486)Counting objects:   5% (125/2486)Counting objects:   6% (150/2486)Counting objects:   7% (175/2486)Counting objects:   8% (199/2486)Counting objects:   9% (224/2486)Counting objects:  10% (249/2486)Counting objects:  11% (274/2486)Counting objects:  12% (299/2486)Counting objects:  13% (324/2486)Counting objects:  14% (349/2486)Counting objects:  15% (373/2486)Counting objects:  16% (398/2486)Counting objects:  17% (423/2486)Counting objects:  18% (448/2486)Counting objects:  19% (473/2486)Counting objects:  20% (498/2486)Counting objects:  21% (523/2486)Counting objects:  22% (547/2486)Counting objects:  23% (572/2486)Counting objects:  24% (597/2486)Counting objects:  25% (622/2486)Counting objects:  26% (647/2486)Counting objects:  27% (672/2486)Counting objects:  28% (697/2486)Counting objects:  29% (721/2486)Counting objects:  30% (746/2486)Counting objects:  31% (771/2486)Counting objects:  32% (796/2486)Counting objects:  33% (821/2486)Counting objects:  34% (846/2486)Counting objects:  35% (871/2486)Counting objects:  36% (895/2486)Counting objects:  37% (920/2486)Counting objects:  38% (945/2486)Counting objects:  39% (970/2486)Counting objects:  40% (995/2486)Counting objects:  41% (1020/2486)Counting objects:  42% (1045/2486)Counting objects:  43% (1069/2486)Counting objects:  44% (1094/2486)Counting objects:  45% (1119/2486)Counting objects:  46% (1144/2486)Counting objects:  47% (1169/2486)Counting objects:  48% (1194/2486)Counting objects:  49% (1219/2486)Counting objects:  50% (1243/2486)Counting objects:  51% (1268/2486)Counting objects:  52% (1293/2486)Counting objects:  53% (1318/2486)Counting objects:  54% (1343/2486)Counting objects:  55% (1368/2486)Counting objects:  56% (1393/2486)Counting objects:  57% (1418/2486)Counting objects:  58% (1442/2486)Counting objects:  59% (1467/2486)Counting objects:  60% (1492/2486)Counting objects:  61% (1517/2486)Counting objects:  62% (1542/2486)Counting objects:  63% (1567/2486)Counting objects:  64% (1592/2486)Counting objects:  65% (1616/2486)Counting objects:  66% (1641/2486)Counting objects:  67% (1666/2486)Counting objects:  68% (1691/2486)Counting objects:  69% (1716/2486)Counting objects:  70% (1741/2486)Counting objects:  71% (1766/2486)Counting objects:  72% (1790/2486)Counting objects:  73% (1815/2486)Counting objects:  74% (1840/2486)Counting objects:  75% (1865/2486)Counting objects:  76% (1890/2486)Counting objects:  77% (1915/2486)Counting objects:  78% (1940/2486)Counting objects:  79% (1964/2486)Counting objects:  80% (1989/2486)Counting objects:  81% (2014/2486)Counting objects:  82% (2039/2486)Counting objects:  83% (2064/2486)Counting objects:  84% (2089/2486)Counting objects:  85% (2114/2486)Counting objects:  86% (2138/2486)Counting objects:  87% (2163/2486)Counting objects:  88% (2188/2486)Counting objects:  89% (2213/2486)Counting objects:  90% (2238/2486)Counting objects:  91% (2263/2486)Counting objects:  92% (2288/2486)Counting objects:  93% (2312/2486)Counting objects:  94% (2337/2486)Counting objects:  95% (2362/2486)Counting objects:  96% (2387/2486)Counting objects:  97% (2412/2486)Counting objects:  98% (2437/2486)Counting objects:  99% (2462/2486)Counting objects: 100% (2486/2486)Counting objects: 100% (2486/2486), done.
Compressing objects:   0% (1/902)Compressing objects:   1% (10/902)Compressing objects:   2% (19/902)Compressing objects:   3% (28/902)Compressing objects:   4% (37/902)Compressing objects:   5% (46/902)Compressing objects:   6% (55/902)Compressing objects:   7% (64/902)Compressing objects:   8% (73/902)Compressing objects:   9% (82/902)Compressing objects:  10% (91/902)Compressing objects:  11% (100/902)Compressing objects:  12% (109/902)Compressing objects:  13% (118/902)Compressing objects:  14% (127/902)Compressing objects:  15% (136/902)Compressing objects:  16% (145/902)Compressing objects:  17% (154/902)Compressing objects:  18% (163/902)Compressing objects:  19% (172/902)Compressing objects:  20% (181/902)Compressing objects:  21% (190/902)Compressing objects:  22% (199/902)Compressing objects:  23% (208/902)Compressing objects:  24% (217/902)Compressing objects:  25% (226/902)Compressing objects:  26% (235/902)Compressing objects:  27% (244/902)Compressing objects:  28% (253/902)Compressing objects:  29% (262/902)Compressing objects:  30% (271/902)Compressing objects:  31% (280/902)Compressing objects:  32% (289/902)Compressing objects:  33% (298/902)Compressing objects:  34% (307/902)Compressing objects:  35% (316/902)Compressing objects:  36% (325/902)Compressing objects:  37% (334/902)Compressing objects:  38% (343/902)Compressing objects:  39% (352/902)Compressing objects:  40% (361/902)Compressing objects:  41% (370/902)Compressing objects:  42% (379/902)Compressing objects:  43% (388/902)Compressing objects:  44% (397/902)Compressing objects:  45% (406/902)Compressing objects:  46% (415/902)Compressing objects:  47% (424/902)Compressing objects:  48% (433/902)Compressing objects:  49% (442/902)Compressing objects:  50% (451/902)Compressing objects:  51% (461/902)Compressing objects:  52% (470/902)Compressing objects:  53% (479/902)Compressing objects:  54% (488/902)Compressing objects:  55% (497/902)Compressing objects:  56% (506/902)Compressing objects:  57% (515/902)Compressing objects:  58% (524/902)Compressing objects:  59% (533/902)Compressing objects:  60% (542/902)Compressing objects:  61% (551/902)Compressing objects:  62% (560/902)Compressing objects:  63% (569/902)Compressing objects:  64% (578/902)Compressing objects:  65% (587/902)Compressing objects:  66% (596/902)Compressing objects:  67% (605/902)Compressing objects:  68% (614/902)Compressing objects:  69% (623/902)Compressing objects:  70% (632/902)Compressing objects:  71% (641/902)Compressing objects:  72% (650/902)Compressing objects:  73% (659/902)Compressing objects:  74% (668/902)Compressing objects:  75% (677/902)Compressing objects:  76% (686/902)Compressing objects:  77% (695/902)Compressing objects:  78% (704/902)Compressing objects:  79% (713/902)Compressing objects:  80% (722/902)Compressing objects:  81% (731/902)Compressing objects:  82% (740/902)Compressing objects:  83% (749/902)Compressing objects:  84% (758/902)Compressing objects:  85% (767/902)Compressing objects:  86% (776/902)Compressing objects:  87% (785/902)Compressing objects:  88% (794/902)Compressing objects:  89% (803/902)Compressing objects:  90% (812/902)Compressing objects:  91% (821/902)Compressing objects:  92% (830/902)Compressing objects:  93% (839/902)Compressing objects:  94% (848/902)Compressing objects:  95% (857/902)Compressing objects:  96% (866/902)Compressing objects:  97% (875/902)Compressing objects:  98% (884/902)Compressing objects:  99% (893/902)Compressing objects: 100% (902/902)Compressing objects: 100% (902/902), done.
Total 15571 (delta 1639), reused 2381 (delta 1581), pack-reused 13085
Checking out 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vg220wed/ackee.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-vg220wed/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:34:08+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '727d91df-47d5-4512-bfde-f6c465c7d772', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vg220wed/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vg220wed/ackee.git
INFO:EventListener:OK 90.507
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-vg220wed/ackee/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vg220wed/ackee.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-vg220wed/ackee/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vg220wed/ackee.git 9a6e51d337ab7c9affdc6752e1acbe9405d0f633
ERROR:EventListener:FAIL 129.059
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/electerious/ackee.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '1710fcd013482a13faeb449fabd2728edf50adfb', '--to', '9a6e51d337ab7c9affdc6752e1acbe9405d0f633', '--git-dir', '/tmp/top-repos-quality-repos-vg220wed/ackee.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/ines/termynal.git                                         =
= 12 / 27                                                                      =
= Now:  2021-08-29 14:37:47.676237                                             =
= Left: 0:38:03.430755                                                         =
= Ends: 2021-08-29 15:15:51.106992                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /ines/termynal.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /ines/termynal.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 112, done.
Counting objects:   4% (1/24)Counting objects:   8% (2/24)Counting objects:  12% (3/24)Counting objects:  16% (4/24)Counting objects:  20% (5/24)Counting objects:  25% (6/24)Counting objects:  29% (7/24)Counting objects:  33% (8/24)Counting objects:  37% (9/24)Counting objects:  41% (10/24)Counting objects:  45% (11/24)Counting objects:  50% (12/24)Counting objects:  54% (13/24)Counting objects:  58% (14/24)Counting objects:  62% (15/24)Counting objects:  66% (16/24)Counting objects:  70% (17/24)Counting objects:  75% (18/24)Counting objects:  79% (19/24)Counting objects:  83% (20/24)Counting objects:  87% (21/24)Counting objects:  91% (22/24)Counting objects:  95% (23/24)Counting objects: 100% (24/24)Counting objects: 100% (24/24), done.
Compressing objects:   5% (1/18)Compressing objects:  11% (2/18)Compressing objects:  16% (3/18)Compressing objects:  22% (4/18)Compressing objects:  27% (5/18)Compressing objects:  33% (6/18)Compressing objects:  38% (7/18)Compressing objects:  44% (8/18)Compressing objects:  50% (9/18)Compressing objects:  55% (10/18)Compressing objects:  61% (11/18)Compressing objects:  66% (12/18)Compressing objects:  72% (13/18)Compressing objects:  77% (14/18)Compressing objects:  83% (15/18)Compressing objects:  88% (16/18)Compressing objects:  94% (17/18)Compressing objects: 100% (18/18)Compressing objects: 100% (18/18), done.
Total 112 (delta 5), reused 20 (delta 4), pack-reused 88
Checking out 9b301892db6f8d403abfce7adf65888dffed72ea
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:37:48+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'dc2826ec-0bce-4eb2-a8c7-67d92645ff05', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git
INFO:EventListener:OK 105.815
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-t32phqx4/termynal/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-t32phqx4/termynal/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-t32phqx4/termynal.git 9b301892db6f8d403abfce7adf65888dffed72ea
ERROR:EventListener:FAIL 108.068
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/ines/termynal.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '39389bf5a3cf7ad5cceda733ea6a1c7ed6e9d532', '--to', '9b301892db6f8d403abfce7adf65888dffed72ea', '--git-dir', '/tmp/top-repos-quality-repos-t32phqx4/termynal.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/wordpress-mobile/wordpress-editor-ios.git                 =
= 13 / 27                                                                      =
= Now:  2021-08-29 14:41:22.309933                                             =
= Left: 0:37:10.615425                                                         =
= Ends: 2021-08-29 15:18:32.925358                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /wordpress-mobile/wordpress-editor-ios.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /wordpress-mobile/wordpress-editor-ios.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 9153, done.
Total 9153 (delta 0), reused 0 (delta 0), pack-reused 9153
Checking out b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:41:28+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '5cbd2adb-7df5-4644-bb51-7dda09f93c38', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git
INFO:EventListener:OK 96.280
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git b56b59e8f76b6eaf0bb378b487d7ec38db5a407e
ERROR:EventListener:FAIL 122.601
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/wordpress-mobile/wordpress-editor-ios.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '18115b109e90e91fb41fc7c062c84dee23f42ef7', '--to', 'b56b59e8f76b6eaf0bb378b487d7ec38db5a407e', '--git-dir', '/tmp/top-repos-quality-repos-icy58wms/wordpress-editor-ios.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/alexmojaki/birdseye.git                                   =
= 14 / 27                                                                      =
= Now:  2021-08-29 14:45:07.482777                                             =
= Left: 0:36:04.254814                                                         =
= Ends: 2021-08-29 15:21:11.737591                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /alexmojaki/birdseye.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /alexmojaki/birdseye.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 2365, done.
Counting objects:   0% (1/284)Counting objects:   1% (3/284)Counting objects:   2% (6/284)Counting objects:   3% (9/284)Counting objects:   4% (12/284)Counting objects:   5% (15/284)Counting objects:   6% (18/284)Counting objects:   7% (20/284)Counting objects:   8% (23/284)Counting objects:   9% (26/284)Counting objects:  10% (29/284)Counting objects:  11% (32/284)Counting objects:  12% (35/284)Counting objects:  13% (37/284)Counting objects:  14% (40/284)Counting objects:  15% (43/284)Counting objects:  16% (46/284)Counting objects:  17% (49/284)Counting objects:  18% (52/284)Counting objects:  19% (54/284)Counting objects:  20% (57/284)Counting objects:  21% (60/284)Counting objects:  22% (63/284)Counting objects:  23% (66/284)Counting objects:  24% (69/284)Counting objects:  25% (71/284)Counting objects:  26% (74/284)Counting objects:  27% (77/284)Counting objects:  28% (80/284)Counting objects:  29% (83/284)Counting objects:  30% (86/284)Counting objects:  31% (89/284)Counting objects:  32% (91/284)Counting objects:  33% (94/284)Counting objects:  34% (97/284)Counting objects:  35% (100/284)Counting objects:  36% (103/284)Counting objects:  37% (106/284)Counting objects:  38% (108/284)Counting objects:  39% (111/284)Counting objects:  40% (114/284)Counting objects:  41% (117/284)Counting objects:  42% (120/284)Counting objects:  43% (123/284)Counting objects:  44% (125/284)Counting objects:  45% (128/284)Counting objects:  46% (131/284)Counting objects:  47% (134/284)Counting objects:  48% (137/284)Counting objects:  49% (140/284)Counting objects:  50% (142/284)Counting objects:  51% (145/284)Counting objects:  52% (148/284)Counting objects:  53% (151/284)Counting objects:  54% (154/284)Counting objects:  55% (157/284)Counting objects:  56% (160/284)Counting objects:  57% (162/284)Counting objects:  58% (165/284)Counting objects:  59% (168/284)Counting objects:  60% (171/284)Counting objects:  61% (174/284)Counting objects:  62% (177/284)Counting objects:  63% (179/284)Counting objects:  64% (182/284)Counting objects:  65% (185/284)Counting objects:  66% (188/284)Counting objects:  67% (191/284)Counting objects:  68% (194/284)Counting objects:  69% (196/284)Counting objects:  70% (199/284)Counting objects:  71% (202/284)Counting objects:  72% (205/284)Counting objects:  73% (208/284)Counting objects:  74% (211/284)Counting objects:  75% (213/284)Counting objects:  76% (216/284)Counting objects:  77% (219/284)Counting objects:  78% (222/284)Counting objects:  79% (225/284)Counting objects:  80% (228/284)Counting objects:  81% (231/284)Counting objects:  82% (233/284)Counting objects:  83% (236/284)Counting objects:  84% (239/284)Counting objects:  85% (242/284)Counting objects:  86% (245/284)Counting objects:  87% (248/284)Counting objects:  88% (250/284)Counting objects:  89% (253/284)Counting objects:  90% (256/284)Counting objects:  91% (259/284)Counting objects:  92% (262/284)Counting objects:  93% (265/284)Counting objects:  94% (267/284)Counting objects:  95% (270/284)Counting objects:  96% (273/284)Counting objects:  97% (276/284)Counting objects:  98% (279/284)Counting objects:  99% (282/284)Counting objects: 100% (284/284)Counting objects: 100% (284/284), done.
Compressing objects:   0% (1/190)Compressing objects:   1% (2/190)Compressing objects:   2% (4/190)Compressing objects:   3% (6/190)Compressing objects:   4% (8/190)Compressing objects:   5% (10/190)Compressing objects:   6% (12/190)Compressing objects:   7% (14/190)Compressing objects:   8% (16/190)Compressing objects:   9% (18/190)Compressing objects:  10% (19/190)Compressing objects:  11% (21/190)Compressing objects:  12% (23/190)Compressing objects:  13% (25/190)Compressing objects:  14% (27/190)Compressing objects:  15% (29/190)Compressing objects:  16% (31/190)Compressing objects:  17% (33/190)Compressing objects:  18% (35/190)Compressing objects:  19% (37/190)Compressing objects:  20% (38/190)Compressing objects:  21% (40/190)Compressing objects:  22% (42/190)Compressing objects:  23% (44/190)Compressing objects:  24% (46/190)Compressing objects:  25% (48/190)Compressing objects:  26% (50/190)Compressing objects:  27% (52/190)Compressing objects:  28% (54/190)Compressing objects:  29% (56/190)Compressing objects:  30% (57/190)Compressing objects:  31% (59/190)Compressing objects:  32% (61/190)Compressing objects:  33% (63/190)Compressing objects:  34% (65/190)Compressing objects:  35% (67/190)Compressing objects:  36% (69/190)Compressing objects:  37% (71/190)Compressing objects:  38% (73/190)Compressing objects:  39% (75/190)Compressing objects:  40% (76/190)Compressing objects:  41% (78/190)Compressing objects:  42% (80/190)Compressing objects:  43% (82/190)Compressing objects:  44% (84/190)Compressing objects:  45% (86/190)Compressing objects:  46% (88/190)Compressing objects:  47% (90/190)Compressing objects:  48% (92/190)Compressing objects:  49% (94/190)Compressing objects:  50% (95/190)Compressing objects:  51% (97/190)Compressing objects:  52% (99/190)Compressing objects:  53% (101/190)Compressing objects:  54% (103/190)Compressing objects:  55% (105/190)Compressing objects:  56% (107/190)Compressing objects:  57% (109/190)Compressing objects:  58% (111/190)Compressing objects:  59% (113/190)Compressing objects:  60% (114/190)Compressing objects:  61% (116/190)Compressing objects:  62% (118/190)Compressing objects:  63% (120/190)Compressing objects:  64% (122/190)Compressing objects:  65% (124/190)Compressing objects:  66% (126/190)Compressing objects:  67% (128/190)Compressing objects:  68% (130/190)Compressing objects:  69% (132/190)Compressing objects:  70% (133/190)Compressing objects:  71% (135/190)Compressing objects:  72% (137/190)Compressing objects:  73% (139/190)Compressing objects:  74% (141/190)Compressing objects:  75% (143/190)Compressing objects:  76% (145/190)Compressing objects:  77% (147/190)Compressing objects:  78% (149/190)Compressing objects:  79% (151/190)Compressing objects:  80% (152/190)Compressing objects:  81% (154/190)Compressing objects:  82% (156/190)Compressing objects:  83% (158/190)Compressing objects:  84% (160/190)Compressing objects:  85% (162/190)Compressing objects:  86% (164/190)Compressing objects:  87% (166/190)Compressing objects:  88% (168/190)Compressing objects:  89% (170/190)Compressing objects:  90% (171/190)Compressing objects:  91% (173/190)Compressing objects:  92% (175/190)Compressing objects:  93% (177/190)Compressing objects:  94% (179/190)Compressing objects:  95% (181/190)Compressing objects:  96% (183/190)Compressing objects:  97% (185/190)Compressing objects:  98% (187/190)Compressing objects:  99% (189/190)Compressing objects: 100% (190/190)Compressing objects: 100% (190/190), done.
Total 2365 (delta 164), reused 189 (delta 93), pack-reused 2081
Checking out 0f0e0b40e16584d232587e0cffec41660a158aa0
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:45:09+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '7c908bd9-abb9-4c2c-843b-08b0fb32cc67', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git
INFO:EventListener:OK 120.081
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-4ad999c_/birdseye/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-4ad999c_/birdseye/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-4ad999c_/birdseye.git 0f0e0b40e16584d232587e0cffec41660a158aa0
ERROR:EventListener:FAIL 119.813
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/alexmojaki/birdseye.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '7038bfe7dcd51cc8a079a9be33688d2b450e1c83', '--to', '0f0e0b40e16584d232587e0cffec41660a158aa0', '--git-dir', '/tmp/top-repos-quality-repos-4ad999c_/birdseye.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/yangshun/tech-interview-handbook.git                      =
= 15 / 27                                                                      =
= Now:  2021-08-29 14:49:09.138495                                             =
= Left: 0:34:50.512266                                                         =
= Ends: 2021-08-29 15:23:59.650761                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /yangshun/tech-interview-handbook.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /yangshun/tech-interview-handbook.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 16538, done.
Counting objects:   0% (1/7474)Counting objects:   1% (75/7474)Counting objects:   2% (150/7474)Counting objects:   3% (225/7474)Counting objects:   4% (299/7474)Counting objects:   5% (374/7474)Counting objects:   6% (449/7474)Counting objects:   7% (524/7474)Counting objects:   8% (598/7474)Counting objects:   9% (673/7474)Counting objects:  10% (748/7474)Counting objects:  11% (823/7474)Counting objects:  12% (897/7474)Counting objects:  13% (972/7474)Counting objects:  14% (1047/7474)Counting objects:  15% (1122/7474)Counting objects:  16% (1196/7474)Counting objects:  17% (1271/7474)Counting objects:  18% (1346/7474)Counting objects:  19% (1421/7474)Counting objects:  20% (1495/7474)Counting objects:  21% (1570/7474)Counting objects:  22% (1645/7474)Counting objects:  23% (1720/7474)Counting objects:  24% (1794/7474)Counting objects:  25% (1869/7474)Counting objects:  26% (1944/7474)Counting objects:  27% (2018/7474)Counting objects:  28% (2093/7474)Counting objects:  29% (2168/7474)Counting objects:  30% (2243/7474)Counting objects:  31% (2317/7474)Counting objects:  32% (2392/7474)Counting objects:  33% (2467/7474)Counting objects:  34% (2542/7474)Counting objects:  35% (2616/7474)Counting objects:  36% (2691/7474)Counting objects:  37% (2766/7474)Counting objects:  38% (2841/7474)Counting objects:  39% (2915/7474)Counting objects:  40% (2990/7474)Counting objects:  41% (3065/7474)Counting objects:  42% (3140/7474)Counting objects:  43% (3214/7474)Counting objects:  44% (3289/7474)Counting objects:  45% (3364/7474)Counting objects:  46% (3439/7474)Counting objects:  47% (3513/7474)Counting objects:  48% (3588/7474)Counting objects:  49% (3663/7474)Counting objects:  50% (3737/7474)Counting objects:  51% (3812/7474)Counting objects:  52% (3887/7474)Counting objects:  53% (3962/7474)Counting objects:  54% (4036/7474)Counting objects:  55% (4111/7474)Counting objects:  56% (4186/7474)Counting objects:  57% (4261/7474)Counting objects:  58% (4335/7474)Counting objects:  59% (4410/7474)Counting objects:  60% (4485/7474)Counting objects:  61% (4560/7474)Counting objects:  62% (4634/7474)Counting objects:  63% (4709/7474)Counting objects:  64% (4784/7474)Counting objects:  65% (4859/7474)Counting objects:  66% (4933/7474)Counting objects:  67% (5008/7474)Counting objects:  68% (5083/7474)Counting objects:  69% (5158/7474)Counting objects:  70% (5232/7474)Counting objects:  71% (5307/7474)Counting objects:  72% (5382/7474)Counting objects:  73% (5457/7474)Counting objects:  74% (5531/7474)Counting objects:  75% (5606/7474)Counting objects:  76% (5681/7474)Counting objects:  77% (5755/7474)Counting objects:  78% (5830/7474)Counting objects:  79% (5905/7474)Counting objects:  80% (5980/7474)Counting objects:  81% (6054/7474)Counting objects:  82% (6129/7474)Counting objects:  83% (6204/7474)Counting objects:  84% (6279/7474)Counting objects:  85% (6353/7474)Counting objects:  86% (6428/7474)Counting objects:  87% (6503/7474)Counting objects:  88% (6578/7474)Counting objects:  89% (6652/7474)Counting objects:  90% (6727/7474)Counting objects:  91% (6802/7474)Counting objects:  92% (6877/7474)Counting objects:  93% (6951/7474)Counting objects:  94% (7026/7474)Counting objects:  95% (7101/7474)Counting objects:  96% (7176/7474)Counting objects:  97% (7250/7474)Counting objects:  98% (7325/7474)Counting objects:  99% (7400/7474)Counting objects: 100% (7474/7474)Counting objects: 100% (7474/7474), done.
Compressing objects:   0% (1/842)Compressing objects:   1% (9/842)Compressing objects:   2% (17/842)Compressing objects:   3% (26/842)Compressing objects:   4% (34/842)Compressing objects:   5% (43/842)Compressing objects:   6% (51/842)Compressing objects:   7% (59/842)Compressing objects:   8% (68/842)Compressing objects:   9% (76/842)Compressing objects:  10% (85/842)Compressing objects:  11% (93/842)Compressing objects:  12% (102/842)Compressing objects:  13% (110/842)Compressing objects:  14% (118/842)Compressing objects:  15% (127/842)Compressing objects:  16% (135/842)Compressing objects:  17% (144/842)Compressing objects:  18% (152/842)Compressing objects:  19% (160/842)Compressing objects:  20% (169/842)Compressing objects:  21% (177/842)Compressing objects:  22% (186/842)Compressing objects:  23% (194/842)Compressing objects:  24% (203/842)Compressing objects:  25% (211/842)Compressing objects:  26% (219/842)Compressing objects:  27% (228/842)Compressing objects:  28% (236/842)Compressing objects:  29% (245/842)Compressing objects:  30% (253/842)Compressing objects:  31% (262/842)Compressing objects:  32% (270/842)Compressing objects:  33% (278/842)Compressing objects:  34% (287/842)Compressing objects:  35% (295/842)Compressing objects:  36% (304/842)Compressing objects:  37% (312/842)Compressing objects:  38% (320/842)Compressing objects:  39% (329/842)Compressing objects:  40% (337/842)Compressing objects:  41% (346/842)Compressing objects:  42% (354/842)Compressing objects:  43% (363/842)Compressing objects:  44% (371/842)Compressing objects:  45% (379/842)Compressing objects:  46% (388/842)Compressing objects:  47% (396/842)Compressing objects:  48% (405/842)Compressing objects:  49% (413/842)Compressing objects:  50% (421/842)Compressing objects:  51% (430/842)Compressing objects:  52% (438/842)Compressing objects:  53% (447/842)Compressing objects:  54% (455/842)Compressing objects:  55% (464/842)Compressing objects:  56% (472/842)Compressing objects:  57% (480/842)Compressing objects:  58% (489/842)Compressing objects:  59% (497/842)Compressing objects:  60% (506/842)Compressing objects:  61% (514/842)Compressing objects:  62% (523/842)Compressing objects:  63% (531/842)Compressing objects:  64% (539/842)Compressing objects:  65% (548/842)Compressing objects:  66% (556/842)Compressing objects:  67% (565/842)Compressing objects:  68% (573/842)Compressing objects:  69% (581/842)Compressing objects:  70% (590/842)Compressing objects:  71% (598/842)Compressing objects:  72% (607/842)Compressing objects:  73% (615/842)Compressing objects:  74% (624/842)Compressing objects:  75% (632/842)Compressing objects:  76% (640/842)Compressing objects:  77% (649/842)Compressing objects:  78% (657/842)Compressing objects:  79% (666/842)Compressing objects:  80% (674/842)Compressing objects:  81% (683/842)Compressing objects:  82% (691/842)Compressing objects:  83% (699/842)Compressing objects:  84% (708/842)Compressing objects:  85% (716/842)Compressing objects:  86% (725/842)Compressing objects:  87% (733/842)Compressing objects:  88% (741/842)Compressing objects:  89% (750/842)Compressing objects:  90% (758/842)Compressing objects:  91% (767/842)Compressing objects:  92% (775/842)Compressing objects:  93% (784/842)Compressing objects:  94% (792/842)Compressing objects:  95% (800/842)Compressing objects:  96% (809/842)Compressing objects:  97% (817/842)Compressing objects:  98% (826/842)Compressing objects:  99% (834/842)Compressing objects: 100% (842/842)Compressing objects: 100% (842/842), done.
Total 16538 (delta 3904), reused 7241 (delta 3709), pack-reused 9064
Checking out 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:49:15+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '31c41d38-6dc2-4a3e-b491-2c241020c893', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git
INFO:EventListener:OK 101.950
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git 89318237ccb161a786cc0b5b50a2d9a85b09a9d6
ERROR:EventListener:FAIL 117.032
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/yangshun/tech-interview-handbook.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'd0458155cf537b6db04da73d0556a0339b3ad26f', '--to', '89318237ccb161a786cc0b5b50a2d9a85b09a9d6', '--git-dir', '/tmp/top-repos-quality-repos-nfcwz2v7/tech-interview-handbook.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/tengbao/vanta.git                                         =
= 16 / 27                                                                      =
= Now:  2021-08-29 14:52:54.942029                                             =
= Left: 0:33:01.699549                                                         =
= Ends: 2021-08-29 15:25:56.641578                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /tengbao/vanta.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /tengbao/vanta.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1790, done.
Counting objects:   0% (1/148)Counting objects:   1% (2/148)Counting objects:   2% (3/148)Counting objects:   3% (5/148)Counting objects:   4% (6/148)Counting objects:   5% (8/148)Counting objects:   6% (9/148)Counting objects:   7% (11/148)Counting objects:   8% (12/148)Counting objects:   9% (14/148)Counting objects:  10% (15/148)Counting objects:  11% (17/148)Counting objects:  12% (18/148)Counting objects:  13% (20/148)Counting objects:  14% (21/148)Counting objects:  15% (23/148)Counting objects:  16% (24/148)Counting objects:  17% (26/148)Counting objects:  18% (27/148)Counting objects:  19% (29/148)Counting objects:  20% (30/148)Counting objects:  21% (32/148)Counting objects:  22% (33/148)Counting objects:  23% (35/148)Counting objects:  24% (36/148)Counting objects:  25% (37/148)Counting objects:  26% (39/148)Counting objects:  27% (40/148)Counting objects:  28% (42/148)Counting objects:  29% (43/148)Counting objects:  30% (45/148)Counting objects:  31% (46/148)Counting objects:  32% (48/148)Counting objects:  33% (49/148)Counting objects:  34% (51/148)Counting objects:  35% (52/148)Counting objects:  36% (54/148)Counting objects:  37% (55/148)Counting objects:  38% (57/148)Counting objects:  39% (58/148)Counting objects:  40% (60/148)Counting objects:  41% (61/148)Counting objects:  42% (63/148)Counting objects:  43% (64/148)Counting objects:  44% (66/148)Counting objects:  45% (67/148)Counting objects:  46% (69/148)Counting objects:  47% (70/148)Counting objects:  48% (72/148)Counting objects:  49% (73/148)Counting objects:  50% (74/148)Counting objects:  51% (76/148)Counting objects:  52% (77/148)Counting objects:  53% (79/148)Counting objects:  54% (80/148)Counting objects:  55% (82/148)Counting objects:  56% (83/148)Counting objects:  57% (85/148)Counting objects:  58% (86/148)Counting objects:  59% (88/148)Counting objects:  60% (89/148)Counting objects:  61% (91/148)Counting objects:  62% (92/148)Counting objects:  63% (94/148)Counting objects:  64% (95/148)Counting objects:  65% (97/148)Counting objects:  66% (98/148)Counting objects:  67% (100/148)Counting objects:  68% (101/148)Counting objects:  69% (103/148)Counting objects:  70% (104/148)Counting objects:  71% (106/148)Counting objects:  72% (107/148)Counting objects:  73% (109/148)Counting objects:  74% (110/148)Counting objects:  75% (111/148)Counting objects:  76% (113/148)Counting objects:  77% (114/148)Counting objects:  78% (116/148)Counting objects:  79% (117/148)Counting objects:  80% (119/148)Counting objects:  81% (120/148)Counting objects:  82% (122/148)Counting objects:  83% (123/148)Counting objects:  84% (125/148)Counting objects:  85% (126/148)Counting objects:  86% (128/148)Counting objects:  87% (129/148)Counting objects:  88% (131/148)Counting objects:  89% (132/148)Counting objects:  90% (134/148)Counting objects:  91% (135/148)Counting objects:  92% (137/148)Counting objects:  93% (138/148)Counting objects:  94% (140/148)Counting objects:  95% (141/148)Counting objects:  96% (143/148)Counting objects:  97% (144/148)Counting objects:  98% (146/148)Counting objects:  99% (147/148)Counting objects: 100% (148/148)Counting objects: 100% (148/148), done.
Compressing objects:   0% (1/125)Compressing objects:   1% (2/125)Compressing objects:   2% (3/125)Compressing objects:   3% (4/125)Compressing objects:   4% (5/125)Compressing objects:   5% (7/125)Compressing objects:   6% (8/125)Compressing objects:   7% (9/125)Compressing objects:   8% (10/125)Compressing objects:   9% (12/125)Compressing objects:  10% (13/125)Compressing objects:  11% (14/125)Compressing objects:  12% (15/125)Compressing objects:  13% (17/125)Compressing objects:  14% (18/125)Compressing objects:  15% (19/125)Compressing objects:  16% (20/125)Compressing objects:  17% (22/125)Compressing objects:  18% (23/125)Compressing objects:  19% (24/125)Compressing objects:  20% (25/125)Compressing objects:  21% (27/125)Compressing objects:  22% (28/125)Compressing objects:  23% (29/125)Compressing objects:  24% (30/125)Compressing objects:  25% (32/125)Compressing objects:  26% (33/125)Compressing objects:  27% (34/125)Compressing objects:  28% (35/125)Compressing objects:  29% (37/125)Compressing objects:  30% (38/125)Compressing objects:  31% (39/125)Compressing objects:  32% (40/125)Compressing objects:  33% (42/125)Compressing objects:  34% (43/125)Compressing objects:  35% (44/125)Compressing objects:  36% (45/125)Compressing objects:  37% (47/125)Compressing objects:  38% (48/125)Compressing objects:  39% (49/125)Compressing objects:  40% (50/125)Compressing objects:  41% (52/125)Compressing objects:  42% (53/125)Compressing objects:  43% (54/125)Compressing objects:  44% (55/125)Compressing objects:  45% (57/125)Compressing objects:  46% (58/125)Compressing objects:  47% (59/125)Compressing objects:  48% (60/125)Compressing objects:  49% (62/125)Compressing objects:  50% (63/125)Compressing objects:  51% (64/125)Compressing objects:  52% (65/125)Compressing objects:  53% (67/125)Compressing objects:  54% (68/125)Compressing objects:  55% (69/125)Compressing objects:  56% (70/125)Compressing objects:  57% (72/125)Compressing objects:  58% (73/125)Compressing objects:  59% (74/125)Compressing objects:  60% (75/125)Compressing objects:  61% (77/125)Compressing objects:  62% (78/125)Compressing objects:  63% (79/125)Compressing objects:  64% (80/125)Compressing objects:  65% (82/125)Compressing objects:  66% (83/125)Compressing objects:  67% (84/125)Compressing objects:  68% (85/125)Compressing objects:  69% (87/125)Compressing objects:  70% (88/125)Compressing objects:  71% (89/125)Compressing objects:  72% (90/125)Compressing objects:  73% (92/125)Compressing objects:  74% (93/125)Compressing objects:  75% (94/125)Compressing objects:  76% (95/125)Compressing objects:  77% (97/125)Compressing objects:  78% (98/125)Compressing objects:  79% (99/125)Compressing objects:  80% (100/125)Compressing objects:  81% (102/125)Compressing objects:  82% (103/125)Compressing objects:  83% (104/125)Compressing objects:  84% (105/125)Compressing objects:  85% (107/125)Compressing objects:  86% (108/125)Compressing objects:  87% (109/125)Compressing objects:  88% (110/125)Compressing objects:  89% (112/125)Compressing objects:  90% (113/125)Compressing objects:  91% (114/125)Compressing objects:  92% (115/125)Compressing objects:  93% (117/125)Compressing objects:  94% (118/125)Compressing objects:  95% (119/125)Compressing objects:  96% (120/125)Compressing objects:  97% (122/125)Compressing objects:  98% (123/125)Compressing objects:  99% (124/125)Compressing objects: 100% (125/125)Compressing objects: 100% (125/125), done.
Total 1790 (delta 84), reused 43 (delta 23), pack-reused 1642
Checking out 2f5cfabfd4388a362b337a9b74783cb96de92b4f
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:52:56+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'a6b832df-81bc-4c53-99d1-600433db92db', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git
INFO:EventListener:OK 127.584
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-g9n4fq89/vanta/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-g9n4fq89/vanta/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g9n4fq89/vanta.git 2f5cfabfd4388a362b337a9b74783cb96de92b4f
ERROR:EventListener:FAIL 133.674
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/tengbao/vanta.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '9a6e92a53cb5531b72a976c126b78e0ead2991f9', '--to', '2f5cfabfd4388a362b337a9b74783cb96de92b4f', '--git-dir', '/tmp/top-repos-quality-repos-g9n4fq89/vanta.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/enzymejs/enzyme.git                                       =
= 17 / 27                                                                      =
= Now:  2021-08-29 14:57:18.006299                                             =
= Left: 0:31:23.879735                                                         =
= Ends: 2021-08-29 15:28:41.886034                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /enzymejs/enzyme.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /enzymejs/enzyme.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 18421, done.
Counting objects:   0% (1/491)Counting objects:   1% (5/491)Counting objects:   2% (10/491)Counting objects:   3% (15/491)Counting objects:   4% (20/491)Counting objects:   5% (25/491)Counting objects:   6% (30/491)Counting objects:   7% (35/491)Counting objects:   8% (40/491)Counting objects:   9% (45/491)Counting objects:  10% (50/491)Counting objects:  11% (55/491)Counting objects:  12% (59/491)Counting objects:  13% (64/491)Counting objects:  14% (69/491)Counting objects:  15% (74/491)Counting objects:  16% (79/491)Counting objects:  17% (84/491)Counting objects:  18% (89/491)Counting objects:  19% (94/491)Counting objects:  20% (99/491)Counting objects:  21% (104/491)Counting objects:  22% (109/491)Counting objects:  23% (113/491)Counting objects:  24% (118/491)Counting objects:  25% (123/491)Counting objects:  26% (128/491)Counting objects:  27% (133/491)Counting objects:  28% (138/491)Counting objects:  29% (143/491)Counting objects:  30% (148/491)Counting objects:  31% (153/491)Counting objects:  32% (158/491)Counting objects:  33% (163/491)Counting objects:  34% (167/491)Counting objects:  35% (172/491)Counting objects:  36% (177/491)Counting objects:  37% (182/491)Counting objects:  38% (187/491)Counting objects:  39% (192/491)Counting objects:  40% (197/491)Counting objects:  41% (202/491)Counting objects:  42% (207/491)Counting objects:  43% (212/491)Counting objects:  44% (217/491)Counting objects:  45% (221/491)Counting objects:  46% (226/491)Counting objects:  47% (231/491)Counting objects:  48% (236/491)Counting objects:  49% (241/491)Counting objects:  50% (246/491)Counting objects:  51% (251/491)Counting objects:  52% (256/491)Counting objects:  53% (261/491)Counting objects:  54% (266/491)Counting objects:  55% (271/491)Counting objects:  56% (275/491)Counting objects:  57% (280/491)Counting objects:  58% (285/491)Counting objects:  59% (290/491)Counting objects:  60% (295/491)Counting objects:  61% (300/491)Counting objects:  62% (305/491)Counting objects:  63% (310/491)Counting objects:  64% (315/491)Counting objects:  65% (320/491)Counting objects:  66% (325/491)Counting objects:  67% (329/491)Counting objects:  68% (334/491)Counting objects:  69% (339/491)Counting objects:  70% (344/491)Counting objects:  71% (349/491)Counting objects:  72% (354/491)Counting objects:  73% (359/491)Counting objects:  74% (364/491)Counting objects:  75% (369/491)Counting objects:  76% (374/491)Counting objects:  77% (379/491)Counting objects:  78% (383/491)Counting objects:  79% (388/491)Counting objects:  80% (393/491)Counting objects:  81% (398/491)Counting objects:  82% (403/491)Counting objects:  83% (408/491)Counting objects:  84% (413/491)Counting objects:  85% (418/491)Counting objects:  86% (423/491)Counting objects:  87% (428/491)Counting objects:  88% (433/491)Counting objects:  89% (437/491)Counting objects:  90% (442/491)Counting objects:  91% (447/491)Counting objects:  92% (452/491)Counting objects:  93% (457/491)Counting objects:  94% (462/491)Counting objects:  95% (467/491)Counting objects:  96% (472/491)Counting objects:  97% (477/491)Counting objects:  98% (482/491)Counting objects:  99% (487/491)Counting objects: 100% (491/491)Counting objects: 100% (491/491), done.
Compressing objects:   0% (1/278)Compressing objects:   1% (3/278)Compressing objects:   2% (6/278)Compressing objects:   3% (9/278)Compressing objects:   4% (12/278)Compressing objects:   5% (14/278)Compressing objects:   6% (17/278)Compressing objects:   7% (20/278)Compressing objects:   8% (23/278)Compressing objects:   9% (26/278)Compressing objects:  10% (28/278)Compressing objects:  11% (31/278)Compressing objects:  12% (34/278)Compressing objects:  13% (37/278)Compressing objects:  14% (39/278)Compressing objects:  15% (42/278)Compressing objects:  16% (45/278)Compressing objects:  17% (48/278)Compressing objects:  18% (51/278)Compressing objects:  19% (53/278)Compressing objects:  20% (56/278)Compressing objects:  21% (59/278)Compressing objects:  22% (62/278)Compressing objects:  23% (64/278)Compressing objects:  24% (67/278)Compressing objects:  25% (70/278)Compressing objects:  26% (73/278)Compressing objects:  27% (76/278)Compressing objects:  28% (78/278)Compressing objects:  29% (81/278)Compressing objects:  30% (84/278)Compressing objects:  31% (87/278)Compressing objects:  32% (89/278)Compressing objects:  33% (92/278)Compressing objects:  34% (95/278)Compressing objects:  35% (98/278)Compressing objects:  36% (101/278)Compressing objects:  37% (103/278)Compressing objects:  38% (106/278)Compressing objects:  39% (109/278)Compressing objects:  40% (112/278)Compressing objects:  41% (114/278)Compressing objects:  42% (117/278)Compressing objects:  43% (120/278)Compressing objects:  44% (123/278)Compressing objects:  45% (126/278)Compressing objects:  46% (128/278)Compressing objects:  47% (131/278)Compressing objects:  48% (134/278)Compressing objects:  49% (137/278)Compressing objects:  50% (139/278)Compressing objects:  51% (142/278)Compressing objects:  52% (145/278)Compressing objects:  53% (148/278)Compressing objects:  54% (151/278)Compressing objects:  55% (153/278)Compressing objects:  56% (156/278)Compressing objects:  57% (159/278)Compressing objects:  58% (162/278)Compressing objects:  59% (165/278)Compressing objects:  60% (167/278)Compressing objects:  61% (170/278)Compressing objects:  62% (173/278)Compressing objects:  63% (176/278)Compressing objects:  64% (178/278)Compressing objects:  65% (181/278)Compressing objects:  66% (184/278)Compressing objects:  67% (187/278)Compressing objects:  68% (190/278)Compressing objects:  69% (192/278)Compressing objects:  70% (195/278)Compressing objects:  71% (198/278)Compressing objects:  72% (201/278)Compressing objects:  73% (203/278)Compressing objects:  74% (206/278)Compressing objects:  75% (209/278)Compressing objects:  76% (212/278)Compressing objects:  77% (215/278)Compressing objects:  78% (217/278)Compressing objects:  79% (220/278)Compressing objects:  80% (223/278)Compressing objects:  81% (226/278)Compressing objects:  82% (228/278)Compressing objects:  83% (231/278)Compressing objects:  84% (234/278)Compressing objects:  85% (237/278)Compressing objects:  86% (240/278)Compressing objects:  87% (242/278)Compressing objects:  88% (245/278)Compressing objects:  89% (248/278)Compressing objects:  90% (251/278)Compressing objects:  91% (253/278)Compressing objects:  92% (256/278)Compressing objects:  93% (259/278)Compressing objects:  94% (262/278)Compressing objects:  95% (265/278)Compressing objects:  96% (267/278)Compressing objects:  97% (270/278)Compressing objects:  98% (273/278)Compressing objects:  99% (276/278)Compressing objects: 100% (278/278)Compressing objects: 100% (278/278), done.
Total 18421 (delta 337), reused 313 (delta 213), pack-reused 17930
Checking out 8c55734eb19a2f7555eb3d695ae11401fa1f9847
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 14:57:22+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '203d2f98-b568-488a-a634-d19141af7bd9', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git
INFO:EventListener:OK 114.779
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-j6ma38r4/enzyme/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-j6ma38r4/enzyme/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-j6ma38r4/enzyme.git 8c55734eb19a2f7555eb3d695ae11401fa1f9847
ERROR:EventListener:FAIL 127.541
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/enzymejs/enzyme.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '081554e6295164ac88023823e352d06be9fa4e23', '--to', '8c55734eb19a2f7555eb3d695ae11401fa1f9847', '--git-dir', '/tmp/top-repos-quality-repos-j6ma38r4/enzyme.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mathiasbynens/esrever.git                                 =
= 18 / 27                                                                      =
= Now:  2021-08-29 15:01:25.325749                                             =
= Left: 0:29:17.357739                                                         =
= Ends: 2021-08-29 15:30:42.683488                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mathiasbynens/esrever.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mathiasbynens/esrever.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 173, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Total 173 (delta 1), reused 4 (delta 1), pack-reused 168
Checking out 14b34013dad49106ca08c0e65919f1fc8fea5331
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:01:26+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '3a2a1362-22b0-4908-b5c3-b019d2043e74', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git
INFO:EventListener:OK 97.944
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-2ro6gc6i/esrever/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-2ro6gc6i/esrever/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2ro6gc6i/esrever.git 14b34013dad49106ca08c0e65919f1fc8fea5331
ERROR:EventListener:FAIL 107.067
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mathiasbynens/esrever.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '5d0299c38b66d2be536e4fd0999e5532ac5066c3', '--to', '14b34013dad49106ca08c0e65919f1fc8fea5331', '--git-dir', '/tmp/top-repos-quality-repos-2ro6gc6i/esrever.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/handlebars-lang/handlebars.js.git                         =
= 19 / 27                                                                      =
= Now:  2021-08-29 15:04:51.164797                                             =
= Left: 0:26:36.673602                                                         =
= Ends: 2021-08-29 15:31:27.838399                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /handlebars-lang/handlebars.js.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /handlebars-lang/handlebars.js.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15396, done.
Counting objects:   0% (1/145)Counting objects:   1% (2/145)Counting objects:   2% (3/145)Counting objects:   3% (5/145)Counting objects:   4% (6/145)Counting objects:   5% (8/145)Counting objects:   6% (9/145)Counting objects:   7% (11/145)Counting objects:   8% (12/145)Counting objects:   9% (14/145)Counting objects:  10% (15/145)Counting objects:  11% (16/145)Counting objects:  12% (18/145)Counting objects:  13% (19/145)Counting objects:  14% (21/145)Counting objects:  15% (22/145)Counting objects:  16% (24/145)Counting objects:  17% (25/145)Counting objects:  18% (27/145)Counting objects:  19% (28/145)Counting objects:  20% (29/145)Counting objects:  21% (31/145)Counting objects:  22% (32/145)Counting objects:  23% (34/145)Counting objects:  24% (35/145)Counting objects:  25% (37/145)Counting objects:  26% (38/145)Counting objects:  27% (40/145)Counting objects:  28% (41/145)Counting objects:  29% (43/145)Counting objects:  30% (44/145)Counting objects:  31% (45/145)Counting objects:  32% (47/145)Counting objects:  33% (48/145)Counting objects:  34% (50/145)Counting objects:  35% (51/145)Counting objects:  36% (53/145)Counting objects:  37% (54/145)Counting objects:  38% (56/145)Counting objects:  39% (57/145)Counting objects:  40% (58/145)Counting objects:  41% (60/145)Counting objects:  42% (61/145)Counting objects:  43% (63/145)Counting objects:  44% (64/145)Counting objects:  45% (66/145)Counting objects:  46% (67/145)Counting objects:  47% (69/145)Counting objects:  48% (70/145)Counting objects:  49% (72/145)Counting objects:  50% (73/145)Counting objects:  51% (74/145)Counting objects:  52% (76/145)Counting objects:  53% (77/145)Counting objects:  54% (79/145)Counting objects:  55% (80/145)Counting objects:  56% (82/145)Counting objects:  57% (83/145)Counting objects:  58% (85/145)Counting objects:  59% (86/145)Counting objects:  60% (87/145)Counting objects:  61% (89/145)Counting objects:  62% (90/145)Counting objects:  63% (92/145)Counting objects:  64% (93/145)Counting objects:  65% (95/145)Counting objects:  66% (96/145)Counting objects:  67% (98/145)Counting objects:  68% (99/145)Counting objects:  69% (101/145)Counting objects:  70% (102/145)Counting objects:  71% (103/145)Counting objects:  72% (105/145)Counting objects:  73% (106/145)Counting objects:  74% (108/145)Counting objects:  75% (109/145)Counting objects:  76% (111/145)Counting objects:  77% (112/145)Counting objects:  78% (114/145)Counting objects:  79% (115/145)Counting objects:  80% (116/145)Counting objects:  81% (118/145)Counting objects:  82% (119/145)Counting objects:  83% (121/145)Counting objects:  84% (122/145)Counting objects:  85% (124/145)Counting objects:  86% (125/145)Counting objects:  87% (127/145)Counting objects:  88% (128/145)Counting objects:  89% (130/145)Counting objects:  90% (131/145)Counting objects:  91% (132/145)Counting objects:  92% (134/145)Counting objects:  93% (135/145)Counting objects:  94% (137/145)Counting objects:  95% (138/145)Counting objects:  96% (140/145)Counting objects:  97% (141/145)Counting objects:  98% (143/145)Counting objects:  99% (144/145)Counting objects: 100% (145/145)Counting objects: 100% (145/145), done.
Compressing objects:   1% (1/89)Compressing objects:   2% (2/89)Compressing objects:   3% (3/89)Compressing objects:   4% (4/89)Compressing objects:   5% (5/89)Compressing objects:   6% (6/89)Compressing objects:   7% (7/89)Compressing objects:   8% (8/89)Compressing objects:  10% (9/89)Compressing objects:  11% (10/89)Compressing objects:  12% (11/89)Compressing objects:  13% (12/89)Compressing objects:  14% (13/89)Compressing objects:  15% (14/89)Compressing objects:  16% (15/89)Compressing objects:  17% (16/89)Compressing objects:  19% (17/89)Compressing objects:  20% (18/89)Compressing objects:  21% (19/89)Compressing objects:  22% (20/89)Compressing objects:  23% (21/89)Compressing objects:  24% (22/89)Compressing objects:  25% (23/89)Compressing objects:  26% (24/89)Compressing objects:  28% (25/89)Compressing objects:  29% (26/89)Compressing objects:  30% (27/89)Compressing objects:  31% (28/89)Compressing objects:  32% (29/89)Compressing objects:  33% (30/89)Compressing objects:  34% (31/89)Compressing objects:  35% (32/89)Compressing objects:  37% (33/89)Compressing objects:  38% (34/89)Compressing objects:  39% (35/89)Compressing objects:  40% (36/89)Compressing objects:  41% (37/89)Compressing objects:  42% (38/89)Compressing objects:  43% (39/89)Compressing objects:  44% (40/89)Compressing objects:  46% (41/89)Compressing objects:  47% (42/89)Compressing objects:  48% (43/89)Compressing objects:  49% (44/89)Compressing objects:  50% (45/89)Compressing objects:  51% (46/89)Compressing objects:  52% (47/89)Compressing objects:  53% (48/89)Compressing objects:  55% (49/89)Compressing objects:  56% (50/89)Compressing objects:  57% (51/89)Compressing objects:  58% (52/89)Compressing objects:  59% (53/89)Compressing objects:  60% (54/89)Compressing objects:  61% (55/89)Compressing objects:  62% (56/89)Compressing objects:  64% (57/89)Compressing objects:  65% (58/89)Compressing objects:  66% (59/89)Compressing objects:  67% (60/89)Compressing objects:  68% (61/89)Compressing objects:  69% (62/89)Compressing objects:  70% (63/89)Compressing objects:  71% (64/89)Compressing objects:  73% (65/89)Compressing objects:  74% (66/89)Compressing objects:  75% (67/89)Compressing objects:  76% (68/89)Compressing objects:  77% (69/89)Compressing objects:  78% (70/89)Compressing objects:  79% (71/89)Compressing objects:  80% (72/89)Compressing objects:  82% (73/89)Compressing objects:  83% (74/89)Compressing objects:  84% (75/89)Compressing objects:  85% (76/89)Compressing objects:  86% (77/89)Compressing objects:  87% (78/89)Compressing objects:  88% (79/89)Compressing objects:  89% (80/89)Compressing objects:  91% (81/89)Compressing objects:  92% (82/89)Compressing objects:  93% (83/89)Compressing objects:  94% (84/89)Compressing objects:  95% (85/89)Compressing objects:  96% (86/89)Compressing objects:  97% (87/89)Compressing objects:  98% (88/89)Compressing objects: 100% (89/89)Compressing objects: 100% (89/89), done.
Total 15396 (delta 72), reused 102 (delta 55), pack-reused 15251
Checking out 6790c080c641ef2b44e663800e1794fae180977a
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:04:55+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '0a96eac9-2de1-4280-91bf-6f46fa5c84a5', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git
INFO:EventListener:OK 103.135
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-zng2nc3u/handlebars.js/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-zng2nc3u/handlebars.js/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git 6790c080c641ef2b44e663800e1794fae180977a
ERROR:EventListener:FAIL 128.743
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/handlebars-lang/handlebars.js.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '133b96a2ff463dda71febbdae434057271e025ed', '--to', '6790c080c641ef2b44e663800e1794fae180977a', '--git-dir', '/tmp/top-repos-quality-repos-zng2nc3u/handlebars.js.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/verlok/vanilla-lazyload.git                               =
= 20 / 27                                                                      =
= Now:  2021-08-29 15:08:47.307259                                             =
= Left: 0:24:03.995649                                                         =
= Ends: 2021-08-29 15:32:51.302908                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /verlok/vanilla-lazyload.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /verlok/vanilla-lazyload.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 8162, done.
Counting objects:   0% (1/152)Counting objects:   1% (2/152)Counting objects:   2% (4/152)Counting objects:   3% (5/152)Counting objects:   4% (7/152)Counting objects:   5% (8/152)Counting objects:   6% (10/152)Counting objects:   7% (11/152)Counting objects:   8% (13/152)Counting objects:   9% (14/152)Counting objects:  10% (16/152)Counting objects:  11% (17/152)Counting objects:  12% (19/152)Counting objects:  13% (20/152)Counting objects:  14% (22/152)Counting objects:  15% (23/152)Counting objects:  16% (25/152)Counting objects:  17% (26/152)Counting objects:  18% (28/152)Counting objects:  19% (29/152)Counting objects:  20% (31/152)Counting objects:  21% (32/152)Counting objects:  22% (34/152)Counting objects:  23% (35/152)Counting objects:  24% (37/152)Counting objects:  25% (38/152)Counting objects:  26% (40/152)Counting objects:  27% (42/152)Counting objects:  28% (43/152)Counting objects:  29% (45/152)Counting objects:  30% (46/152)Counting objects:  31% (48/152)Counting objects:  32% (49/152)Counting objects:  33% (51/152)Counting objects:  34% (52/152)Counting objects:  35% (54/152)Counting objects:  36% (55/152)Counting objects:  37% (57/152)Counting objects:  38% (58/152)Counting objects:  39% (60/152)Counting objects:  40% (61/152)Counting objects:  41% (63/152)Counting objects:  42% (64/152)Counting objects:  43% (66/152)Counting objects:  44% (67/152)Counting objects:  45% (69/152)Counting objects:  46% (70/152)Counting objects:  47% (72/152)Counting objects:  48% (73/152)Counting objects:  49% (75/152)Counting objects:  50% (76/152)Counting objects:  51% (78/152)Counting objects:  52% (80/152)Counting objects:  53% (81/152)Counting objects:  54% (83/152)Counting objects:  55% (84/152)Counting objects:  56% (86/152)Counting objects:  57% (87/152)Counting objects:  58% (89/152)Counting objects:  59% (90/152)Counting objects:  60% (92/152)Counting objects:  61% (93/152)Counting objects:  62% (95/152)Counting objects:  63% (96/152)Counting objects:  64% (98/152)Counting objects:  65% (99/152)Counting objects:  66% (101/152)Counting objects:  67% (102/152)Counting objects:  68% (104/152)Counting objects:  69% (105/152)Counting objects:  70% (107/152)Counting objects:  71% (108/152)Counting objects:  72% (110/152)Counting objects:  73% (111/152)Counting objects:  74% (113/152)Counting objects:  75% (114/152)Counting objects:  76% (116/152)Counting objects:  77% (118/152)Counting objects:  78% (119/152)Counting objects:  79% (121/152)Counting objects:  80% (122/152)Counting objects:  81% (124/152)Counting objects:  82% (125/152)Counting objects:  83% (127/152)Counting objects:  84% (128/152)Counting objects:  85% (130/152)Counting objects:  86% (131/152)Counting objects:  87% (133/152)Counting objects:  88% (134/152)Counting objects:  89% (136/152)Counting objects:  90% (137/152)Counting objects:  91% (139/152)Counting objects:  92% (140/152)Counting objects:  93% (142/152)Counting objects:  94% (143/152)Counting objects:  95% (145/152)Counting objects:  96% (146/152)Counting objects:  97% (148/152)Counting objects:  98% (149/152)Counting objects:  99% (151/152)Counting objects: 100% (152/152)Counting objects: 100% (152/152), done.
Compressing objects:   0% (1/102)Compressing objects:   1% (2/102)Compressing objects:   2% (3/102)Compressing objects:   3% (4/102)Compressing objects:   4% (5/102)Compressing objects:   5% (6/102)Compressing objects:   6% (7/102)Compressing objects:   7% (8/102)Compressing objects:   8% (9/102)Compressing objects:   9% (10/102)Compressing objects:  10% (11/102)Compressing objects:  11% (12/102)Compressing objects:  12% (13/102)Compressing objects:  13% (14/102)Compressing objects:  14% (15/102)Compressing objects:  15% (16/102)Compressing objects:  16% (17/102)Compressing objects:  17% (18/102)Compressing objects:  18% (19/102)Compressing objects:  19% (20/102)Compressing objects:  20% (21/102)Compressing objects:  21% (22/102)Compressing objects:  22% (23/102)Compressing objects:  23% (24/102)Compressing objects:  24% (25/102)Compressing objects:  25% (26/102)Compressing objects:  26% (27/102)Compressing objects:  27% (28/102)Compressing objects:  28% (29/102)Compressing objects:  29% (30/102)Compressing objects:  30% (31/102)Compressing objects:  31% (32/102)Compressing objects:  32% (33/102)Compressing objects:  33% (34/102)Compressing objects:  34% (35/102)Compressing objects:  35% (36/102)Compressing objects:  36% (37/102)Compressing objects:  37% (38/102)Compressing objects:  38% (39/102)Compressing objects:  39% (40/102)Compressing objects:  40% (41/102)Compressing objects:  41% (42/102)Compressing objects:  42% (43/102)Compressing objects:  43% (44/102)Compressing objects:  44% (45/102)Compressing objects:  45% (46/102)Compressing objects:  46% (47/102)Compressing objects:  47% (48/102)Compressing objects:  48% (49/102)Compressing objects:  49% (50/102)Compressing objects:  50% (51/102)Compressing objects:  51% (53/102)Compressing objects:  52% (54/102)Compressing objects:  53% (55/102)Compressing objects:  54% (56/102)Compressing objects:  55% (57/102)Compressing objects:  56% (58/102)Compressing objects:  57% (59/102)Compressing objects:  58% (60/102)Compressing objects:  59% (61/102)Compressing objects:  60% (62/102)Compressing objects:  61% (63/102)Compressing objects:  62% (64/102)Compressing objects:  63% (65/102)Compressing objects:  64% (66/102)Compressing objects:  65% (67/102)Compressing objects:  66% (68/102)Compressing objects:  67% (69/102)Compressing objects:  68% (70/102)Compressing objects:  69% (71/102)Compressing objects:  70% (72/102)Compressing objects:  71% (73/102)Compressing objects:  72% (74/102)Compressing objects:  73% (75/102)Compressing objects:  74% (76/102)Compressing objects:  75% (77/102)Compressing objects:  76% (78/102)Compressing objects:  77% (79/102)Compressing objects:  78% (80/102)Compressing objects:  79% (81/102)Compressing objects:  80% (82/102)Compressing objects:  81% (83/102)Compressing objects:  82% (84/102)Compressing objects:  83% (85/102)Compressing objects:  84% (86/102)Compressing objects:  85% (87/102)Compressing objects:  86% (88/102)Compressing objects:  87% (89/102)Compressing objects:  88% (90/102)Compressing objects:  89% (91/102)Compressing objects:  90% (92/102)Compressing objects:  91% (93/102)Compressing objects:  92% (94/102)Compressing objects:  93% (95/102)Compressing objects:  94% (96/102)Compressing objects:  95% (97/102)Compressing objects:  96% (98/102)Compressing objects:  97% (99/102)Compressing objects:  98% (100/102)Compressing objects:  99% (101/102)Compressing objects: 100% (102/102)Compressing objects: 100% (102/102), done.
Total 8162 (delta 94), reused 90 (delta 49), pack-reused 8010
Checking out 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:08:49+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'f1c057cb-ee57-400f-b3ac-b2adfd7a29ba', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git
INFO:EventListener:OK 133.859
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git 7b2d8b26bde0a6e03ed411b83f80c62b491fc81d
ERROR:EventListener:FAIL 120.897
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/verlok/vanilla-lazyload.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'd675f324445991064490c9a728c70176accac500', '--to', '7b2d8b26bde0a6e03ed411b83f80c62b491fc81d', '--git-dir', '/tmp/top-repos-quality-repos-xsy8p2_c/vanilla-lazyload.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/tygs/0bin.git                                             =
= 21 / 27                                                                      =
= Now:  2021-08-29 15:13:04.693511                                             =
= Left: 0:21:30.406571                                                         =
= Ends: 2021-08-29 15:34:35.100082                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /tygs/0bin.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /tygs/0bin.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3556, done.
Counting objects:   0% (1/156)Counting objects:   1% (2/156)Counting objects:   2% (4/156)Counting objects:   3% (5/156)Counting objects:   4% (7/156)Counting objects:   5% (8/156)Counting objects:   6% (10/156)Counting objects:   7% (11/156)Counting objects:   8% (13/156)Counting objects:   9% (15/156)Counting objects:  10% (16/156)Counting objects:  11% (18/156)Counting objects:  12% (19/156)Counting objects:  13% (21/156)Counting objects:  14% (22/156)Counting objects:  15% (24/156)Counting objects:  16% (25/156)Counting objects:  17% (27/156)Counting objects:  18% (29/156)Counting objects:  19% (30/156)Counting objects:  20% (32/156)Counting objects:  21% (33/156)Counting objects:  22% (35/156)Counting objects:  23% (36/156)Counting objects:  24% (38/156)Counting objects:  25% (39/156)Counting objects:  26% (41/156)Counting objects:  27% (43/156)Counting objects:  28% (44/156)Counting objects:  29% (46/156)Counting objects:  30% (47/156)Counting objects:  31% (49/156)Counting objects:  32% (50/156)Counting objects:  33% (52/156)Counting objects:  34% (54/156)Counting objects:  35% (55/156)Counting objects:  36% (57/156)Counting objects:  37% (58/156)Counting objects:  38% (60/156)Counting objects:  39% (61/156)Counting objects:  40% (63/156)Counting objects:  41% (64/156)Counting objects:  42% (66/156)Counting objects:  43% (68/156)Counting objects:  44% (69/156)Counting objects:  45% (71/156)Counting objects:  46% (72/156)Counting objects:  47% (74/156)Counting objects:  48% (75/156)Counting objects:  49% (77/156)Counting objects:  50% (78/156)Counting objects:  51% (80/156)Counting objects:  52% (82/156)Counting objects:  53% (83/156)Counting objects:  54% (85/156)Counting objects:  55% (86/156)Counting objects:  56% (88/156)Counting objects:  57% (89/156)Counting objects:  58% (91/156)Counting objects:  59% (93/156)Counting objects:  60% (94/156)Counting objects:  61% (96/156)Counting objects:  62% (97/156)Counting objects:  63% (99/156)Counting objects:  64% (100/156)Counting objects:  65% (102/156)Counting objects:  66% (103/156)Counting objects:  67% (105/156)Counting objects:  68% (107/156)Counting objects:  69% (108/156)Counting objects:  70% (110/156)Counting objects:  71% (111/156)Counting objects:  72% (113/156)Counting objects:  73% (114/156)Counting objects:  74% (116/156)Counting objects:  75% (117/156)Counting objects:  76% (119/156)Counting objects:  77% (121/156)Counting objects:  78% (122/156)Counting objects:  79% (124/156)Counting objects:  80% (125/156)Counting objects:  81% (127/156)Counting objects:  82% (128/156)Counting objects:  83% (130/156)Counting objects:  84% (132/156)Counting objects:  85% (133/156)Counting objects:  86% (135/156)Counting objects:  87% (136/156)Counting objects:  88% (138/156)Counting objects:  89% (139/156)Counting objects:  90% (141/156)Counting objects:  91% (142/156)Counting objects:  92% (144/156)Counting objects:  93% (146/156)Counting objects:  94% (147/156)Counting objects:  95% (149/156)Counting objects:  96% (150/156)Counting objects:  97% (152/156)Counting objects:  98% (153/156)Counting objects:  99% (155/156)Counting objects: 100% (156/156)Counting objects: 100% (156/156), done.
Compressing objects:   0% (1/104)Compressing objects:   1% (2/104)Compressing objects:   2% (3/104)Compressing objects:   3% (4/104)Compressing objects:   4% (5/104)Compressing objects:   5% (6/104)Compressing objects:   6% (7/104)Compressing objects:   7% (8/104)Compressing objects:   8% (9/104)Compressing objects:   9% (10/104)Compressing objects:  10% (11/104)Compressing objects:  11% (12/104)Compressing objects:  12% (13/104)Compressing objects:  13% (14/104)Compressing objects:  14% (15/104)Compressing objects:  15% (16/104)Compressing objects:  16% (17/104)Compressing objects:  17% (18/104)Compressing objects:  18% (19/104)Compressing objects:  19% (20/104)Compressing objects:  20% (21/104)Compressing objects:  21% (22/104)Compressing objects:  22% (23/104)Compressing objects:  23% (24/104)Compressing objects:  24% (25/104)Compressing objects:  25% (26/104)Compressing objects:  26% (28/104)Compressing objects:  27% (29/104)Compressing objects:  28% (30/104)Compressing objects:  29% (31/104)Compressing objects:  30% (32/104)Compressing objects:  31% (33/104)Compressing objects:  32% (34/104)Compressing objects:  33% (35/104)Compressing objects:  34% (36/104)Compressing objects:  35% (37/104)Compressing objects:  36% (38/104)Compressing objects:  37% (39/104)Compressing objects:  38% (40/104)Compressing objects:  39% (41/104)Compressing objects:  40% (42/104)Compressing objects:  41% (43/104)Compressing objects:  42% (44/104)Compressing objects:  43% (45/104)Compressing objects:  44% (46/104)Compressing objects:  45% (47/104)Compressing objects:  46% (48/104)Compressing objects:  47% (49/104)Compressing objects:  48% (50/104)Compressing objects:  49% (51/104)Compressing objects:  50% (52/104)Compressing objects:  51% (54/104)Compressing objects:  52% (55/104)Compressing objects:  53% (56/104)Compressing objects:  54% (57/104)Compressing objects:  55% (58/104)Compressing objects:  56% (59/104)Compressing objects:  57% (60/104)Compressing objects:  58% (61/104)Compressing objects:  59% (62/104)Compressing objects:  60% (63/104)Compressing objects:  61% (64/104)Compressing objects:  62% (65/104)Compressing objects:  63% (66/104)Compressing objects:  64% (67/104)Compressing objects:  65% (68/104)Compressing objects:  66% (69/104)Compressing objects:  67% (70/104)Compressing objects:  68% (71/104)Compressing objects:  69% (72/104)Compressing objects:  70% (73/104)Compressing objects:  71% (74/104)Compressing objects:  72% (75/104)Compressing objects:  73% (76/104)Compressing objects:  74% (77/104)Compressing objects:  75% (78/104)Compressing objects:  76% (80/104)Compressing objects:  77% (81/104)Compressing objects:  78% (82/104)Compressing objects:  79% (83/104)Compressing objects:  80% (84/104)Compressing objects:  81% (85/104)Compressing objects:  82% (86/104)Compressing objects:  83% (87/104)Compressing objects:  84% (88/104)Compressing objects:  85% (89/104)Compressing objects:  86% (90/104)Compressing objects:  87% (91/104)Compressing objects:  88% (92/104)Compressing objects:  89% (93/104)Compressing objects:  90% (94/104)Compressing objects:  91% (95/104)Compressing objects:  92% (96/104)Compressing objects:  93% (97/104)Compressing objects:  94% (98/104)Compressing objects:  95% (99/104)Compressing objects:  96% (100/104)Compressing objects:  97% (101/104)Compressing objects:  98% (102/104)Compressing objects:  99% (103/104)Compressing objects: 100% (104/104)Compressing objects: 100% (104/104), done.
Total 3556 (delta 79), reused 107 (delta 45), pack-reused 3400
Checking out c65d5c4d090d385eb5c40df8e0001af9267f3b4b
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:13:06+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'e2d61476-2684-4fbe-a8b6-20eb42586852', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git
INFO:EventListener:OK 109.645
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-sfctqxkn/0bin/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-sfctqxkn/0bin/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-sfctqxkn/0bin.git c65d5c4d090d385eb5c40df8e0001af9267f3b4b
ERROR:EventListener:FAIL 126.025
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/tygs/0bin.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'd753f92207c4cb7b2e3b8f73350b3323f1b34700', '--to', 'c65d5c4d090d385eb5c40df8e0001af9267f3b4b', '--git-dir', '/tmp/top-repos-quality-repos-sfctqxkn/0bin.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/adrianhajdin/project_corona_tracker.git                   =
= 22 / 27                                                                      =
= Now:  2021-08-29 15:17:02.330511                                             =
= Left: 0:18:41.289405                                                         =
= Ends: 2021-08-29 15:35:43.619916                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /adrianhajdin/project_corona_tracker.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /adrianhajdin/project_corona_tracker.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 395, done.
Counting objects:   0% (1/185)Counting objects:   1% (2/185)Counting objects:   2% (4/185)Counting objects:   3% (6/185)Counting objects:   4% (8/185)Counting objects:   5% (10/185)Counting objects:   6% (12/185)Counting objects:   7% (13/185)Counting objects:   8% (15/185)Counting objects:   9% (17/185)Counting objects:  10% (19/185)Counting objects:  11% (21/185)Counting objects:  12% (23/185)Counting objects:  13% (25/185)Counting objects:  14% (26/185)Counting objects:  15% (28/185)Counting objects:  16% (30/185)Counting objects:  17% (32/185)Counting objects:  18% (34/185)Counting objects:  19% (36/185)Counting objects:  20% (37/185)Counting objects:  21% (39/185)Counting objects:  22% (41/185)Counting objects:  23% (43/185)Counting objects:  24% (45/185)Counting objects:  25% (47/185)Counting objects:  26% (49/185)Counting objects:  27% (50/185)Counting objects:  28% (52/185)Counting objects:  29% (54/185)Counting objects:  30% (56/185)Counting objects:  31% (58/185)Counting objects:  32% (60/185)Counting objects:  33% (62/185)Counting objects:  34% (63/185)Counting objects:  35% (65/185)Counting objects:  36% (67/185)Counting objects:  37% (69/185)Counting objects:  38% (71/185)Counting objects:  39% (73/185)Counting objects:  40% (74/185)Counting objects:  41% (76/185)Counting objects:  42% (78/185)Counting objects:  43% (80/185)Counting objects:  44% (82/185)Counting objects:  45% (84/185)Counting objects:  46% (86/185)Counting objects:  47% (87/185)Counting objects:  48% (89/185)Counting objects:  49% (91/185)Counting objects:  50% (93/185)Counting objects:  51% (95/185)Counting objects:  52% (97/185)Counting objects:  53% (99/185)Counting objects:  54% (100/185)Counting objects:  55% (102/185)Counting objects:  56% (104/185)Counting objects:  57% (106/185)Counting objects:  58% (108/185)Counting objects:  59% (110/185)Counting objects:  60% (111/185)Counting objects:  61% (113/185)Counting objects:  62% (115/185)Counting objects:  63% (117/185)Counting objects:  64% (119/185)Counting objects:  65% (121/185)Counting objects:  66% (123/185)Counting objects:  67% (124/185)Counting objects:  68% (126/185)Counting objects:  69% (128/185)Counting objects:  70% (130/185)Counting objects:  71% (132/185)Counting objects:  72% (134/185)Counting objects:  73% (136/185)Counting objects:  74% (137/185)Counting objects:  75% (139/185)Counting objects:  76% (141/185)Counting objects:  77% (143/185)Counting objects:  78% (145/185)Counting objects:  79% (147/185)Counting objects:  80% (148/185)Counting objects:  81% (150/185)Counting objects:  82% (152/185)Counting objects:  83% (154/185)Counting objects:  84% (156/185)Counting objects:  85% (158/185)Counting objects:  86% (160/185)Counting objects:  87% (161/185)Counting objects:  88% (163/185)Counting objects:  89% (165/185)Counting objects:  90% (167/185)Counting objects:  91% (169/185)Counting objects:  92% (171/185)Counting objects:  93% (173/185)Counting objects:  94% (174/185)Counting objects:  95% (176/185)Counting objects:  96% (178/185)Counting objects:  97% (180/185)Counting objects:  98% (182/185)Counting objects:  99% (184/185)Counting objects: 100% (185/185)Counting objects: 100% (185/185), done.
Compressing objects:   0% (1/154)Compressing objects:   1% (2/154)Compressing objects:   2% (4/154)Compressing objects:   3% (5/154)Compressing objects:   4% (7/154)Compressing objects:   5% (8/154)Compressing objects:   6% (10/154)Compressing objects:   7% (11/154)Compressing objects:   8% (13/154)Compressing objects:   9% (14/154)Compressing objects:  10% (16/154)Compressing objects:  11% (17/154)Compressing objects:  12% (19/154)Compressing objects:  13% (21/154)Compressing objects:  14% (22/154)Compressing objects:  15% (24/154)Compressing objects:  16% (25/154)Compressing objects:  17% (27/154)Compressing objects:  18% (28/154)Compressing objects:  19% (30/154)Compressing objects:  20% (31/154)Compressing objects:  21% (33/154)Compressing objects:  22% (34/154)Compressing objects:  23% (36/154)Compressing objects:  24% (37/154)Compressing objects:  25% (39/154)Compressing objects:  26% (41/154)Compressing objects:  27% (42/154)Compressing objects:  28% (44/154)Compressing objects:  29% (45/154)Compressing objects:  30% (47/154)Compressing objects:  31% (48/154)Compressing objects:  32% (50/154)Compressing objects:  33% (51/154)Compressing objects:  34% (53/154)Compressing objects:  35% (54/154)Compressing objects:  36% (56/154)Compressing objects:  37% (57/154)Compressing objects:  38% (59/154)Compressing objects:  39% (61/154)Compressing objects:  40% (62/154)Compressing objects:  41% (64/154)Compressing objects:  42% (65/154)Compressing objects:  43% (67/154)Compressing objects:  44% (68/154)Compressing objects:  45% (70/154)Compressing objects:  46% (71/154)Compressing objects:  47% (73/154)Compressing objects:  48% (74/154)Compressing objects:  49% (76/154)Compressing objects:  50% (77/154)Compressing objects:  51% (79/154)Compressing objects:  52% (81/154)Compressing objects:  53% (82/154)Compressing objects:  54% (84/154)Compressing objects:  55% (85/154)Compressing objects:  56% (87/154)Compressing objects:  57% (88/154)Compressing objects:  58% (90/154)Compressing objects:  59% (91/154)Compressing objects:  60% (93/154)Compressing objects:  61% (94/154)Compressing objects:  62% (96/154)Compressing objects:  63% (98/154)Compressing objects:  64% (99/154)Compressing objects:  65% (101/154)Compressing objects:  66% (102/154)Compressing objects:  67% (104/154)Compressing objects:  68% (105/154)Compressing objects:  69% (107/154)Compressing objects:  70% (108/154)Compressing objects:  71% (110/154)Compressing objects:  72% (111/154)Compressing objects:  73% (113/154)Compressing objects:  74% (114/154)Compressing objects:  75% (116/154)Compressing objects:  76% (118/154)Compressing objects:  77% (119/154)Compressing objects:  78% (121/154)Compressing objects:  79% (122/154)Compressing objects:  80% (124/154)Compressing objects:  81% (125/154)Compressing objects:  82% (127/154)Compressing objects:  83% (128/154)Compressing objects:  84% (130/154)Compressing objects:  85% (131/154)Compressing objects:  86% (133/154)Compressing objects:  87% (134/154)Compressing objects:  88% (136/154)Compressing objects:  89% (138/154)Compressing objects:  90% (139/154)Compressing objects:  91% (141/154)Compressing objects:  92% (142/154)Compressing objects:  93% (144/154)Compressing objects:  94% (145/154)Compressing objects:  95% (147/154)Compressing objects:  96% (148/154)Compressing objects:  97% (150/154)Compressing objects:  98% (151/154)Compressing objects:  99% (153/154)Compressing objects: 100% (154/154)Compressing objects: 100% (154/154), done.
Total 395 (delta 78), reused 91 (delta 25), pack-reused 210
Checking out 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:17:03+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '9910c579-d2f9-47ff-ba2f-45ef78254919', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git
INFO:EventListener:OK 100.015
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git 2c8d4ca81f784dea7a92ba1402d9575de8dc3567
ERROR:EventListener:FAIL 113.884
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/adrianhajdin/project_corona_tracker.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '262e0f965acd5ed7bc4fc48f2fc5c451f2914287', '--to', '2c8d4ca81f784dea7a92ba1402d9575de8dc3567', '--git-dir', '/tmp/top-repos-quality-repos-ovqo47zo/project_corona_tracker.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/78/ssbc.git                                               =
= 23 / 27                                                                      =
= Now:  2021-08-29 15:20:37.202970                                             =
= Left: 0:15:40.769404                                                         =
= Ends: 2021-08-29 15:36:17.972374                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /78/ssbc.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /78/ssbc.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 728, done.
Counting objects:  25% (1/4)Counting objects:  50% (2/4)Counting objects:  75% (3/4)Counting objects: 100% (4/4)Counting objects: 100% (4/4), done.
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Total 728 (delta 0), reused 0 (delta 0), pack-reused 724
Checking out 09a64ec201bf974add80db5408237d57fffa9135
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:20:38+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2825b3d5-1eee-4952-a601-7dfefb41d8d9', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git
INFO:EventListener:OK 130.654
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-n1xb54tt/ssbc/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-n1xb54tt/ssbc/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-n1xb54tt/ssbc.git 09a64ec201bf974add80db5408237d57fffa9135
ERROR:EventListener:FAIL 125.828
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/78/ssbc.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', 'd8ebbe3603e6e6ada50c77d3d0efde003ca0b8ef', '--to', '09a64ec201bf974add80db5408237d57fffa9135', '--git-dir', '/tmp/top-repos-quality-repos-n1xb54tt/ssbc.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/karlhadwen/netflix.git                                    =
= 24 / 27                                                                      =
= Now:  2021-08-29 15:24:54.740136                                             =
= Left: 0:12:44.682181                                                         =
= Ends: 2021-08-29 15:37:39.422317                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /karlhadwen/netflix.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /karlhadwen/netflix.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1257, done.
Counting objects:   0% (1/194)Counting objects:   1% (2/194)Counting objects:   2% (4/194)Counting objects:   3% (6/194)Counting objects:   4% (8/194)Counting objects:   5% (10/194)Counting objects:   6% (12/194)Counting objects:   7% (14/194)Counting objects:   8% (16/194)Counting objects:   9% (18/194)Counting objects:  10% (20/194)Counting objects:  11% (22/194)Counting objects:  12% (24/194)Counting objects:  13% (26/194)Counting objects:  14% (28/194)Counting objects:  15% (30/194)Counting objects:  16% (32/194)Counting objects:  17% (33/194)Counting objects:  18% (35/194)Counting objects:  19% (37/194)Counting objects:  20% (39/194)Counting objects:  21% (41/194)Counting objects:  22% (43/194)Counting objects:  23% (45/194)Counting objects:  24% (47/194)Counting objects:  25% (49/194)Counting objects:  26% (51/194)Counting objects:  27% (53/194)Counting objects:  28% (55/194)Counting objects:  29% (57/194)Counting objects:  30% (59/194)Counting objects:  31% (61/194)Counting objects:  32% (63/194)Counting objects:  33% (65/194)Counting objects:  34% (66/194)Counting objects:  35% (68/194)Counting objects:  36% (70/194)Counting objects:  37% (72/194)Counting objects:  38% (74/194)Counting objects:  39% (76/194)Counting objects:  40% (78/194)Counting objects:  41% (80/194)Counting objects:  42% (82/194)Counting objects:  43% (84/194)Counting objects:  44% (86/194)Counting objects:  45% (88/194)Counting objects:  46% (90/194)Counting objects:  47% (92/194)Counting objects:  48% (94/194)Counting objects:  49% (96/194)Counting objects:  50% (97/194)Counting objects:  51% (99/194)Counting objects:  52% (101/194)Counting objects:  53% (103/194)Counting objects:  54% (105/194)Counting objects:  55% (107/194)Counting objects:  56% (109/194)Counting objects:  57% (111/194)Counting objects:  58% (113/194)Counting objects:  59% (115/194)Counting objects:  60% (117/194)Counting objects:  61% (119/194)Counting objects:  62% (121/194)Counting objects:  63% (123/194)Counting objects:  64% (125/194)Counting objects:  65% (127/194)Counting objects:  66% (129/194)Counting objects:  67% (130/194)Counting objects:  68% (132/194)Counting objects:  69% (134/194)Counting objects:  70% (136/194)Counting objects:  71% (138/194)Counting objects:  72% (140/194)Counting objects:  73% (142/194)Counting objects:  74% (144/194)Counting objects:  75% (146/194)Counting objects:  76% (148/194)Counting objects:  77% (150/194)Counting objects:  78% (152/194)Counting objects:  79% (154/194)Counting objects:  80% (156/194)Counting objects:  81% (158/194)Counting objects:  82% (160/194)Counting objects:  83% (162/194)Counting objects:  84% (163/194)Counting objects:  85% (165/194)Counting objects:  86% (167/194)Counting objects:  87% (169/194)Counting objects:  88% (171/194)Counting objects:  89% (173/194)Counting objects:  90% (175/194)Counting objects:  91% (177/194)Counting objects:  92% (179/194)Counting objects:  93% (181/194)Counting objects:  94% (183/194)Counting objects:  95% (185/194)Counting objects:  96% (187/194)Counting objects:  97% (189/194)Counting objects:  98% (191/194)Counting objects:  99% (193/194)Counting objects: 100% (194/194)Counting objects: 100% (194/194), done.
Compressing objects:   0% (1/152)Compressing objects:   1% (2/152)Compressing objects:   2% (4/152)Compressing objects:   3% (5/152)Compressing objects:   4% (7/152)Compressing objects:   5% (8/152)Compressing objects:   6% (10/152)Compressing objects:   7% (11/152)Compressing objects:   8% (13/152)Compressing objects:   9% (14/152)Compressing objects:  10% (16/152)Compressing objects:  11% (17/152)Compressing objects:  12% (19/152)Compressing objects:  13% (20/152)Compressing objects:  14% (22/152)Compressing objects:  15% (23/152)Compressing objects:  16% (25/152)Compressing objects:  17% (26/152)Compressing objects:  18% (28/152)Compressing objects:  19% (29/152)Compressing objects:  20% (31/152)Compressing objects:  21% (32/152)Compressing objects:  22% (34/152)Compressing objects:  23% (35/152)Compressing objects:  24% (37/152)Compressing objects:  25% (38/152)Compressing objects:  26% (40/152)Compressing objects:  27% (42/152)Compressing objects:  28% (43/152)Compressing objects:  29% (45/152)Compressing objects:  30% (46/152)Compressing objects:  31% (48/152)Compressing objects:  32% (49/152)Compressing objects:  33% (51/152)Compressing objects:  34% (52/152)Compressing objects:  35% (54/152)Compressing objects:  36% (55/152)Compressing objects:  37% (57/152)Compressing objects:  38% (58/152)Compressing objects:  39% (60/152)Compressing objects:  40% (61/152)Compressing objects:  41% (63/152)Compressing objects:  42% (64/152)Compressing objects:  43% (66/152)Compressing objects:  44% (67/152)Compressing objects:  45% (69/152)Compressing objects:  46% (70/152)Compressing objects:  47% (72/152)Compressing objects:  48% (73/152)Compressing objects:  49% (75/152)Compressing objects:  50% (76/152)Compressing objects:  51% (78/152)Compressing objects:  52% (80/152)Compressing objects:  53% (81/152)Compressing objects:  54% (83/152)Compressing objects:  55% (84/152)Compressing objects:  56% (86/152)Compressing objects:  57% (87/152)Compressing objects:  58% (89/152)Compressing objects:  59% (90/152)Compressing objects:  60% (92/152)Compressing objects:  61% (93/152)Compressing objects:  62% (95/152)Compressing objects:  63% (96/152)Compressing objects:  64% (98/152)Compressing objects:  65% (99/152)Compressing objects:  66% (101/152)Compressing objects:  67% (102/152)Compressing objects:  68% (104/152)Compressing objects:  69% (105/152)Compressing objects:  70% (107/152)Compressing objects:  71% (108/152)Compressing objects:  72% (110/152)Compressing objects:  73% (111/152)Compressing objects:  74% (113/152)Compressing objects:  75% (114/152)Compressing objects:  76% (116/152)Compressing objects:  77% (118/152)Compressing objects:  78% (119/152)Compressing objects:  79% (121/152)Compressing objects:  80% (122/152)Compressing objects:  81% (124/152)Compressing objects:  82% (125/152)Compressing objects:  83% (127/152)Compressing objects:  84% (128/152)Compressing objects:  85% (130/152)Compressing objects:  86% (131/152)Compressing objects:  87% (133/152)Compressing objects:  88% (134/152)Compressing objects:  89% (136/152)Compressing objects:  90% (137/152)Compressing objects:  91% (139/152)Compressing objects:  92% (140/152)Compressing objects:  93% (142/152)Compressing objects:  94% (143/152)Compressing objects:  95% (145/152)Compressing objects:  96% (146/152)Compressing objects:  97% (148/152)Compressing objects:  98% (149/152)Compressing objects:  99% (151/152)Compressing objects: 100% (152/152)Compressing objects: 100% (152/152), done.
Total 1257 (delta 70), reused 98 (delta 28), pack-reused 1063
Checking out 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:25:06+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '230476d5-eea6-44ed-99fb-40714e48b556', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git
INFO:EventListener:OK 130.164
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-jcz6yxa7/netflix/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-jcz6yxa7/netflix/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-jcz6yxa7/netflix.git 54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206
ERROR:EventListener:FAIL 114.246
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/karlhadwen/netflix.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '35d6677f2e7cd7489e61799b3258bf348924e3ce', '--to', '54ead17f6b8a240b4ab0d2eeff9d1c66c0a6c206', '--git-dir', '/tmp/top-repos-quality-repos-jcz6yxa7/netflix.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/codeceptjs/codeceptjs.git                                 =
= 25 / 27                                                                      =
= Now:  2021-08-29 15:29:10.921636                                             =
= Left: 0:09:41.638005                                                         =
= Ends: 2021-08-29 15:38:52.559641                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /codeceptjs/codeceptjs.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /codeceptjs/codeceptjs.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 43506, done.
Counting objects:   0% (1/1227)Counting objects:   1% (13/1227)Counting objects:   2% (25/1227)Counting objects:   3% (37/1227)Counting objects:   4% (50/1227)Counting objects:   5% (62/1227)Counting objects:   6% (74/1227)Counting objects:   7% (86/1227)Counting objects:   8% (99/1227)Counting objects:   9% (111/1227)Counting objects:  10% (123/1227)Counting objects:  11% (135/1227)Counting objects:  12% (148/1227)Counting objects:  13% (160/1227)Counting objects:  14% (172/1227)Counting objects:  15% (185/1227)Counting objects:  16% (197/1227)Counting objects:  17% (209/1227)Counting objects:  18% (221/1227)Counting objects:  19% (234/1227)Counting objects:  20% (246/1227)Counting objects:  21% (258/1227)Counting objects:  22% (270/1227)Counting objects:  23% (283/1227)Counting objects:  24% (295/1227)Counting objects:  25% (307/1227)Counting objects:  26% (320/1227)Counting objects:  27% (332/1227)Counting objects:  28% (344/1227)Counting objects:  29% (356/1227)Counting objects:  30% (369/1227)Counting objects:  31% (381/1227)Counting objects:  32% (393/1227)Counting objects:  33% (405/1227)Counting objects:  34% (418/1227)Counting objects:  35% (430/1227)Counting objects:  36% (442/1227)Counting objects:  37% (454/1227)Counting objects:  38% (467/1227)Counting objects:  39% (479/1227)Counting objects:  40% (491/1227)Counting objects:  41% (504/1227)Counting objects:  42% (516/1227)Counting objects:  43% (528/1227)Counting objects:  44% (540/1227)Counting objects:  45% (553/1227)Counting objects:  46% (565/1227)Counting objects:  47% (577/1227)Counting objects:  48% (589/1227)Counting objects:  49% (602/1227)Counting objects:  50% (614/1227)Counting objects:  51% (626/1227)Counting objects:  52% (639/1227)Counting objects:  53% (651/1227)Counting objects:  54% (663/1227)Counting objects:  55% (675/1227)Counting objects:  56% (688/1227)Counting objects:  57% (700/1227)Counting objects:  58% (712/1227)Counting objects:  59% (724/1227)Counting objects:  60% (737/1227)Counting objects:  61% (749/1227)Counting objects:  62% (761/1227)Counting objects:  63% (774/1227)Counting objects:  64% (786/1227)Counting objects:  65% (798/1227)Counting objects:  66% (810/1227)Counting objects:  67% (823/1227)Counting objects:  68% (835/1227)Counting objects:  69% (847/1227)Counting objects:  70% (859/1227)Counting objects:  71% (872/1227)Counting objects:  72% (884/1227)Counting objects:  73% (896/1227)Counting objects:  74% (908/1227)Counting objects:  75% (921/1227)Counting objects:  76% (933/1227)Counting objects:  77% (945/1227)Counting objects:  78% (958/1227)Counting objects:  79% (970/1227)Counting objects:  80% (982/1227)Counting objects:  81% (994/1227)Counting objects:  82% (1007/1227)Counting objects:  83% (1019/1227)Counting objects:  84% (1031/1227)Counting objects:  85% (1043/1227)Counting objects:  86% (1056/1227)Counting objects:  87% (1068/1227)Counting objects:  88% (1080/1227)Counting objects:  89% (1093/1227)Counting objects:  90% (1105/1227)Counting objects:  91% (1117/1227)Counting objects:  92% (1129/1227)Counting objects:  93% (1142/1227)Counting objects:  94% (1154/1227)Counting objects:  95% (1166/1227)Counting objects:  96% (1178/1227)Counting objects:  97% (1191/1227)Counting objects:  98% (1203/1227)Counting objects:  99% (1215/1227)Counting objects: 100% (1227/1227)Counting objects: 100% (1227/1227), done.
Compressing objects:   0% (1/624)Compressing objects:   1% (7/624)Compressing objects:   2% (13/624)Compressing objects:   3% (19/624)Compressing objects:   4% (25/624)Compressing objects:   5% (32/624)Compressing objects:   6% (38/624)Compressing objects:   7% (44/624)Compressing objects:   8% (50/624)Compressing objects:   9% (57/624)Compressing objects:  10% (63/624)Compressing objects:  11% (69/624)Compressing objects:  12% (75/624)Compressing objects:  13% (82/624)Compressing objects:  14% (88/624)Compressing objects:  15% (94/624)Compressing objects:  16% (100/624)Compressing objects:  17% (107/624)Compressing objects:  18% (113/624)Compressing objects:  19% (119/624)Compressing objects:  20% (125/624)Compressing objects:  21% (132/624)Compressing objects:  22% (138/624)Compressing objects:  23% (144/624)Compressing objects:  24% (150/624)Compressing objects:  25% (156/624)Compressing objects:  26% (163/624)Compressing objects:  27% (169/624)Compressing objects:  28% (175/624)Compressing objects:  29% (181/624)Compressing objects:  30% (188/624)Compressing objects:  31% (194/624)Compressing objects:  32% (200/624)Compressing objects:  33% (206/624)Compressing objects:  34% (213/624)Compressing objects:  35% (219/624)Compressing objects:  36% (225/624)Compressing objects:  37% (231/624)Compressing objects:  38% (238/624)Compressing objects:  39% (244/624)Compressing objects:  40% (250/624)Compressing objects:  41% (256/624)Compressing objects:  42% (263/624)Compressing objects:  43% (269/624)Compressing objects:  44% (275/624)Compressing objects:  45% (281/624)Compressing objects:  46% (288/624)Compressing objects:  47% (294/624)Compressing objects:  48% (300/624)Compressing objects:  49% (306/624)Compressing objects:  50% (312/624)Compressing objects:  51% (319/624)Compressing objects:  52% (325/624)Compressing objects:  53% (331/624)Compressing objects:  54% (337/624)Compressing objects:  55% (344/624)Compressing objects:  56% (350/624)Compressing objects:  57% (356/624)Compressing objects:  58% (362/624)Compressing objects:  59% (369/624)Compressing objects:  60% (375/624)Compressing objects:  61% (381/624)Compressing objects:  62% (387/624)Compressing objects:  63% (394/624)Compressing objects:  64% (400/624)Compressing objects:  65% (406/624)Compressing objects:  66% (412/624)Compressing objects:  67% (419/624)Compressing objects:  68% (425/624)Compressing objects:  69% (431/624)Compressing objects:  70% (437/624)Compressing objects:  71% (444/624)Compressing objects:  72% (450/624)Compressing objects:  73% (456/624)Compressing objects:  74% (462/624)Compressing objects:  75% (468/624)Compressing objects:  76% (475/624)Compressing objects:  77% (481/624)Compressing objects:  78% (487/624)Compressing objects:  79% (493/624)Compressing objects:  80% (500/624)Compressing objects:  81% (506/624)Compressing objects:  82% (512/624)Compressing objects:  83% (518/624)Compressing objects:  84% (525/624)Compressing objects:  85% (531/624)Compressing objects:  86% (537/624)Compressing objects:  87% (543/624)Compressing objects:  88% (550/624)Compressing objects:  89% (556/624)Compressing objects:  90% (562/624)Compressing objects:  91% (568/624)Compressing objects:  92% (575/624)Compressing objects:  93% (581/624)Compressing objects:  94% (587/624)Compressing objects:  95% (593/624)Compressing objects:  96% (600/624)Compressing objects:  97% (606/624)Compressing objects:  98% (612/624)Compressing objects:  99% (618/624)Compressing objects: 100% (624/624)Compressing objects: 100% (624/624), done.
Total 43506 (delta 831), reused 919 (delta 597), pack-reused 42279
Checking out 42717c09173fdf8276166c7918b0bbd5c9f1055a
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:29:32+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'e658585f-d0b8-4912-aac0-4c31396f43cc', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git
INFO:EventListener:OK 78.759
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-al102j9v/codeceptjs/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-al102j9v/codeceptjs/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-al102j9v/codeceptjs.git 42717c09173fdf8276166c7918b0bbd5c9f1055a
ERROR:EventListener:FAIL 129.734
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/codeceptjs/codeceptjs.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '5164f0090748d2eca00c152d82a55338ac1e21ec', '--to', '42717c09173fdf8276166c7918b0bbd5c9f1055a', '--git-dir', '/tmp/top-repos-quality-repos-al102j9v/codeceptjs.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/lanistor/react-keeper.git                                 =
= 26 / 27                                                                      =
= Now:  2021-08-29 15:33:01.443587                                             =
= Left: 0:06:30.690080                                                         =
= Ends: 2021-08-29 15:39:32.133667                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /lanistor/react-keeper.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /lanistor/react-keeper.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1573, done.
Counting objects:   0% (1/118)Counting objects:   1% (2/118)Counting objects:   2% (3/118)Counting objects:   3% (4/118)Counting objects:   4% (5/118)Counting objects:   5% (6/118)Counting objects:   6% (8/118)Counting objects:   7% (9/118)Counting objects:   8% (10/118)Counting objects:   9% (11/118)Counting objects:  10% (12/118)Counting objects:  11% (13/118)Counting objects:  12% (15/118)Counting objects:  13% (16/118)Counting objects:  14% (17/118)Counting objects:  15% (18/118)Counting objects:  16% (19/118)Counting objects:  17% (21/118)Counting objects:  18% (22/118)Counting objects:  19% (23/118)Counting objects:  20% (24/118)Counting objects:  21% (25/118)Counting objects:  22% (26/118)Counting objects:  23% (28/118)Counting objects:  24% (29/118)Counting objects:  25% (30/118)Counting objects:  26% (31/118)Counting objects:  27% (32/118)Counting objects:  28% (34/118)Counting objects:  29% (35/118)Counting objects:  30% (36/118)Counting objects:  31% (37/118)Counting objects:  32% (38/118)Counting objects:  33% (39/118)Counting objects:  34% (41/118)Counting objects:  35% (42/118)Counting objects:  36% (43/118)Counting objects:  37% (44/118)Counting objects:  38% (45/118)Counting objects:  39% (47/118)Counting objects:  40% (48/118)Counting objects:  41% (49/118)Counting objects:  42% (50/118)Counting objects:  43% (51/118)Counting objects:  44% (52/118)Counting objects:  45% (54/118)Counting objects:  46% (55/118)Counting objects:  47% (56/118)Counting objects:  48% (57/118)Counting objects:  49% (58/118)Counting objects:  50% (59/118)Counting objects:  51% (61/118)Counting objects:  52% (62/118)Counting objects:  53% (63/118)Counting objects:  54% (64/118)Counting objects:  55% (65/118)Counting objects:  56% (67/118)Counting objects:  57% (68/118)Counting objects:  58% (69/118)Counting objects:  59% (70/118)Counting objects:  60% (71/118)Counting objects:  61% (72/118)Counting objects:  62% (74/118)Counting objects:  63% (75/118)Counting objects:  64% (76/118)Counting objects:  65% (77/118)Counting objects:  66% (78/118)Counting objects:  67% (80/118)Counting objects:  68% (81/118)Counting objects:  69% (82/118)Counting objects:  70% (83/118)Counting objects:  71% (84/118)Counting objects:  72% (85/118)Counting objects:  73% (87/118)Counting objects:  74% (88/118)Counting objects:  75% (89/118)Counting objects:  76% (90/118)Counting objects:  77% (91/118)Counting objects:  78% (93/118)Counting objects:  79% (94/118)Counting objects:  80% (95/118)Counting objects:  81% (96/118)Counting objects:  82% (97/118)Counting objects:  83% (98/118)Counting objects:  84% (100/118)Counting objects:  85% (101/118)Counting objects:  86% (102/118)Counting objects:  87% (103/118)Counting objects:  88% (104/118)Counting objects:  89% (106/118)Counting objects:  90% (107/118)Counting objects:  91% (108/118)Counting objects:  92% (109/118)Counting objects:  93% (110/118)Counting objects:  94% (111/118)Counting objects:  95% (113/118)Counting objects:  96% (114/118)Counting objects:  97% (115/118)Counting objects:  98% (116/118)Counting objects:  99% (117/118)Counting objects: 100% (118/118)Counting objects: 100% (118/118), done.
Compressing objects:   1% (1/66)Compressing objects:   3% (2/66)Compressing objects:   4% (3/66)Compressing objects:   6% (4/66)Compressing objects:   7% (5/66)Compressing objects:   9% (6/66)Compressing objects:  10% (7/66)Compressing objects:  12% (8/66)Compressing objects:  13% (9/66)Compressing objects:  15% (10/66)Compressing objects:  16% (11/66)Compressing objects:  18% (12/66)Compressing objects:  19% (13/66)Compressing objects:  21% (14/66)Compressing objects:  22% (15/66)Compressing objects:  24% (16/66)Compressing objects:  25% (17/66)Compressing objects:  27% (18/66)Compressing objects:  28% (19/66)Compressing objects:  30% (20/66)Compressing objects:  31% (21/66)Compressing objects:  33% (22/66)Compressing objects:  34% (23/66)Compressing objects:  36% (24/66)Compressing objects:  37% (25/66)Compressing objects:  39% (26/66)Compressing objects:  40% (27/66)Compressing objects:  42% (28/66)Compressing objects:  43% (29/66)Compressing objects:  45% (30/66)Compressing objects:  46% (31/66)Compressing objects:  48% (32/66)Compressing objects:  50% (33/66)Compressing objects:  51% (34/66)Compressing objects:  53% (35/66)Compressing objects:  54% (36/66)Compressing objects:  56% (37/66)Compressing objects:  57% (38/66)Compressing objects:  59% (39/66)Compressing objects:  60% (40/66)Compressing objects:  62% (41/66)Compressing objects:  63% (42/66)Compressing objects:  65% (43/66)Compressing objects:  66% (44/66)Compressing objects:  68% (45/66)Compressing objects:  69% (46/66)Compressing objects:  71% (47/66)Compressing objects:  72% (48/66)Compressing objects:  74% (49/66)Compressing objects:  75% (50/66)Compressing objects:  77% (51/66)Compressing objects:  78% (52/66)Compressing objects:  80% (53/66)Compressing objects:  81% (54/66)Compressing objects:  83% (55/66)Compressing objects:  84% (56/66)Compressing objects:  86% (57/66)Compressing objects:  87% (58/66)Compressing objects:  89% (59/66)Compressing objects:  90% (60/66)Compressing objects:  92% (61/66)Compressing objects:  93% (62/66)Compressing objects:  95% (63/66)Compressing objects:  96% (64/66)Compressing objects:  98% (65/66)Compressing objects: 100% (66/66)Compressing objects: 100% (66/66), done.
Total 1573 (delta 53), reused 108 (delta 45), pack-reused 1455
Checking out e2d9a62e06d79744b48f11875be862921aec0819
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:33:03+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'e4b4c9e1-35da-453a-a6de-c358f63fae87', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git
INFO:EventListener:OK 97.204
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-t5oeqn3_/react-keeper/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-t5oeqn3_/react-keeper/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git e2d9a62e06d79744b48f11875be862921aec0819
ERROR:EventListener:FAIL 115.423
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/lanistor/react-keeper.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '3fd1eeecdcd7a97077f50dffaf8674e72819daac', '--to', 'e2d9a62e06d79744b48f11875be862921aec0819', '--git-dir', '/tmp/top-repos-quality-repos-t5oeqn3_/react-keeper.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/atom/markdown-preview.git                                 =
= 27 / 27                                                                      =
= Now:  2021-08-29 15:36:36.182427                                             =
= Left: 0:03:16.090955                                                         =
= Ends: 2021-08-29 15:39:52.273382                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /atom/markdown-preview.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /atom/markdown-preview.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4383, done.
Counting objects:   1% (1/82)Counting objects:   2% (2/82)Counting objects:   3% (3/82)Counting objects:   4% (4/82)Counting objects:   6% (5/82)Counting objects:   7% (6/82)Counting objects:   8% (7/82)Counting objects:   9% (8/82)Counting objects:  10% (9/82)Counting objects:  12% (10/82)Counting objects:  13% (11/82)Counting objects:  14% (12/82)Counting objects:  15% (13/82)Counting objects:  17% (14/82)Counting objects:  18% (15/82)Counting objects:  19% (16/82)Counting objects:  20% (17/82)Counting objects:  21% (18/82)Counting objects:  23% (19/82)Counting objects:  24% (20/82)Counting objects:  25% (21/82)Counting objects:  26% (22/82)Counting objects:  28% (23/82)Counting objects:  29% (24/82)Counting objects:  30% (25/82)Counting objects:  31% (26/82)Counting objects:  32% (27/82)Counting objects:  34% (28/82)Counting objects:  35% (29/82)Counting objects:  36% (30/82)Counting objects:  37% (31/82)Counting objects:  39% (32/82)Counting objects:  40% (33/82)Counting objects:  41% (34/82)Counting objects:  42% (35/82)Counting objects:  43% (36/82)Counting objects:  45% (37/82)Counting objects:  46% (38/82)Counting objects:  47% (39/82)Counting objects:  48% (40/82)Counting objects:  50% (41/82)Counting objects:  51% (42/82)Counting objects:  52% (43/82)Counting objects:  53% (44/82)Counting objects:  54% (45/82)Counting objects:  56% (46/82)Counting objects:  57% (47/82)Counting objects:  58% (48/82)Counting objects:  59% (49/82)Counting objects:  60% (50/82)Counting objects:  62% (51/82)Counting objects:  63% (52/82)Counting objects:  64% (53/82)Counting objects:  65% (54/82)Counting objects:  67% (55/82)Counting objects:  68% (56/82)Counting objects:  69% (57/82)Counting objects:  70% (58/82)Counting objects:  71% (59/82)Counting objects:  73% (60/82)Counting objects:  74% (61/82)Counting objects:  75% (62/82)Counting objects:  76% (63/82)Counting objects:  78% (64/82)Counting objects:  79% (65/82)Counting objects:  80% (66/82)Counting objects:  81% (67/82)Counting objects:  82% (68/82)Counting objects:  84% (69/82)Counting objects:  85% (70/82)Counting objects:  86% (71/82)Counting objects:  87% (72/82)Counting objects:  89% (73/82)Counting objects:  90% (74/82)Counting objects:  91% (75/82)Counting objects:  92% (76/82)Counting objects:  93% (77/82)Counting objects:  95% (78/82)Counting objects:  96% (79/82)Counting objects:  97% (80/82)Counting objects:  98% (81/82)Counting objects: 100% (82/82)Counting objects: 100% (82/82), done.
Compressing objects:   1% (1/71)Compressing objects:   2% (2/71)Compressing objects:   4% (3/71)Compressing objects:   5% (4/71)Compressing objects:   7% (5/71)Compressing objects:   8% (6/71)Compressing objects:   9% (7/71)Compressing objects:  11% (8/71)Compressing objects:  12% (9/71)Compressing objects:  14% (10/71)Compressing objects:  15% (11/71)Compressing objects:  16% (12/71)Compressing objects:  18% (13/71)Compressing objects:  19% (14/71)Compressing objects:  21% (15/71)Compressing objects:  22% (16/71)Compressing objects:  23% (17/71)Compressing objects:  25% (18/71)Compressing objects:  26% (19/71)Compressing objects:  28% (20/71)Compressing objects:  29% (21/71)Compressing objects:  30% (22/71)Compressing objects:  32% (23/71)Compressing objects:  33% (24/71)Compressing objects:  35% (25/71)Compressing objects:  36% (26/71)Compressing objects:  38% (27/71)Compressing objects:  39% (28/71)Compressing objects:  40% (29/71)Compressing objects:  42% (30/71)Compressing objects:  43% (31/71)Compressing objects:  45% (32/71)Compressing objects:  46% (33/71)Compressing objects:  47% (34/71)Compressing objects:  49% (35/71)Compressing objects:  50% (36/71)Compressing objects:  52% (37/71)Compressing objects:  53% (38/71)Compressing objects:  54% (39/71)Compressing objects:  56% (40/71)Compressing objects:  57% (41/71)Compressing objects:  59% (42/71)Compressing objects:  60% (43/71)Compressing objects:  61% (44/71)Compressing objects:  63% (45/71)Compressing objects:  64% (46/71)Compressing objects:  66% (47/71)Compressing objects:  67% (48/71)Compressing objects:  69% (49/71)Compressing objects:  70% (50/71)Compressing objects:  71% (51/71)Compressing objects:  73% (52/71)Compressing objects:  74% (53/71)Compressing objects:  76% (54/71)Compressing objects:  77% (55/71)Compressing objects:  78% (56/71)Compressing objects:  80% (57/71)Compressing objects:  81% (58/71)Compressing objects:  83% (59/71)Compressing objects:  84% (60/71)Compressing objects:  85% (61/71)Compressing objects:  87% (62/71)Compressing objects:  88% (63/71)Compressing objects:  90% (64/71)Compressing objects:  91% (65/71)Compressing objects:  92% (66/71)Compressing objects:  94% (67/71)Compressing objects:  95% (68/71)Compressing objects:  97% (69/71)Compressing objects:  98% (70/71)Compressing objects: 100% (71/71)Compressing objects: 100% (71/71), done.
Total 4383 (delta 41), reused 24 (delta 9), pack-reused 4301
Checking out 236bdb9d3232a9819ba5d0407f354264ad3223fa
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-29 15:36:37+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.11.0-25-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'a6c8da00-3c88-4268-8e45-5bd245038d07', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git
INFO:EventListener:OK 130.798
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7segqgqs/markdown-preview/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git from /tmp/tmp7lpdsyxb/models/tmp/top-repos-quality-repos-7segqgqs/markdown-preview/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git 236bdb9d3232a9819ba5d0407f354264ad3223fa
ERROR:EventListener:FAIL 111.323
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/atom/markdown-preview.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:3030', '--from', '9c0a9f54f274c990c06bb40c37c7dd2a36f524b2', '--to', '236bdb9d3232a9819ba5d0407f354264ad3223fa', '--git-dir', '/tmp/top-repos-quality-repos-7segqgqs/markdown-preview.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= Done                                                                         =
= 27 / 27                                                                      =
= Now:  2021-08-29 15:40:39.682909                                             =
= Left: 0                                                                      =
= Ends: 2021-08-29 15:40:39.682909                                             =
================================================================================
DEBUG:SQLAlchemyModelRepository:shutting down
INFO:DataService:Shutting down
Traceback (most recent call last):
  File "/usr/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/style-analyzer/lookout/style/format/__main__.py", line 7, in <module>
    sys.exit(main())
  File "/style-analyzer/lookout/style/format/cmdline_tools.py", line 256, in main
    return handler(**vars(args))
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 335, in generate_quality_report
    summary = _generate_report_summary(reports, report_name)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in _generate_report_summary
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in <genexpr>
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
KeyError: 'precision'
