paramiko missing, opening SSH/SCP/SFTP paths will be disabled.  `pip install paramiko` to suppress
WARNING:smart_open.smart_open_lib:this function is deprecated, use smart_open.open instead
DEBUG:smart_open.smart_open_lib:{'transport_params': {}, 'ignore_ext': False, 'opener': None, 'closefd': True, 'newline': None, 'errors': None, 'encoding': None, 'buffering': -1, 'mode': 'r', 'uri': '/style-analyzer/selections/specs/quality_projects_4.csv'}
DEBUG:SQLAlchemyModelRepository:sqlite:////tmp/tmpgx8v9ca2/db.sqlite3 does not exist, creating
WARNING:SQLAlchemyModelRepository:created a new database at sqlite:////tmp/tmpgx8v9ca2/db.sqlite3
INFO:QualityAnalyzer:
================================================================================
= https://github.com/jeremiahtenbrink/portfolio-jerga.git                      =
=  1 / 28                                                                      =
= Now:  2021-08-30 16:35:05.666346                                             =
= Left: None                                                                   =
= Ends: None                                                                   =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /jeremiahtenbrink/portfolio-jerga.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /jeremiahtenbrink/portfolio-jerga.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 479, done.
Counting objects:   3% (1/33)Counting objects:   6% (2/33)Counting objects:   9% (3/33)Counting objects:  12% (4/33)Counting objects:  15% (5/33)Counting objects:  18% (6/33)Counting objects:  21% (7/33)Counting objects:  24% (8/33)Counting objects:  27% (9/33)Counting objects:  30% (10/33)Counting objects:  33% (11/33)Counting objects:  36% (12/33)Counting objects:  39% (13/33)Counting objects:  42% (14/33)Counting objects:  45% (15/33)Counting objects:  48% (16/33)Counting objects:  51% (17/33)Counting objects:  54% (18/33)Counting objects:  57% (19/33)Counting objects:  60% (20/33)Counting objects:  63% (21/33)Counting objects:  66% (22/33)Counting objects:  69% (23/33)Counting objects:  72% (24/33)Counting objects:  75% (25/33)Counting objects:  78% (26/33)Counting objects:  81% (27/33)Counting objects:  84% (28/33)Counting objects:  87% (29/33)Counting objects:  90% (30/33)Counting objects:  93% (31/33)Counting objects:  96% (32/33)Counting objects: 100% (33/33)Counting objects: 100% (33/33), done.
Compressing objects:   3% (1/33)Compressing objects:   6% (2/33)Compressing objects:   9% (3/33)Compressing objects:  12% (4/33)Compressing objects:  15% (5/33)Compressing objects:  18% (6/33)Compressing objects:  21% (7/33)Compressing objects:  24% (8/33)Compressing objects:  27% (9/33)Compressing objects:  30% (10/33)Compressing objects:  33% (11/33)Compressing objects:  36% (12/33)Compressing objects:  39% (13/33)Compressing objects:  42% (14/33)Compressing objects:  45% (15/33)Compressing objects:  48% (16/33)Compressing objects:  51% (17/33)Compressing objects:  54% (18/33)Compressing objects:  57% (19/33)Compressing objects:  60% (20/33)Compressing objects:  63% (21/33)Compressing objects:  66% (22/33)Compressing objects:  69% (23/33)Compressing objects:  72% (24/33)Compressing objects:  75% (25/33)Compressing objects:  78% (26/33)Compressing objects:  81% (27/33)Compressing objects:  84% (28/33)Compressing objects:  87% (29/33)Compressing objects:  90% (30/33)Compressing objects:  93% (31/33)Compressing objects:  96% (32/33)Compressing objects: 100% (33/33)Compressing objects: 100% (33/33), done.
Total 479 (delta 14), reused 0 (delta 0), pack-reused 446
Checking out 5d32328f6668d1062a1824b54105a1f8c1c85864
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:DataService:Opened <grpc._channel.Channel object at 0x7ff609d9ada0>
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git 5d32328f6668d1062a1824b54105a1f8c1c85864 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 16:35:06+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2d5b6bf8-2e25-46ce-a028-e1235d36b90f', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git 5d32328f6668d1062a1824b54105a1f8c1c85864
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git
INFO:EventListener:OK 326.015
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-fd607mob/portfolio-jerga/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-fd607mob/portfolio-jerga/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git 5d32328f6668d1062a1824b54105a1f8c1c85864
ERROR:EventListener:FAIL 325.842
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/jeremiahtenbrink/portfolio-jerga.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '4bdd46b065290043d03fb91d7d5b8a3016a1fc55', '--to', '5d32328f6668d1062a1824b54105a1f8c1c85864', '--git-dir', '/tmp/top-repos-quality-repos-fd607mob/portfolio-jerga.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/db-tax-wealth/mainsite.git                                =
=  2 / 28                                                                      =
= Now:  2021-08-30 16:45:58.865864                                             =
= Left: 4:53:56.387742                                                         =
= Ends: 2021-08-30 21:39:55.253606                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /db-tax-wealth/mainsite.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /db-tax-wealth/mainsite.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 5761, done.
Counting objects:   0% (1/855)Counting objects:   1% (9/855)Counting objects:   2% (18/855)Counting objects:   3% (26/855)Counting objects:   4% (35/855)Counting objects:   5% (43/855)Counting objects:   6% (52/855)Counting objects:   7% (60/855)Counting objects:   8% (69/855)Counting objects:   9% (77/855)Counting objects:  10% (86/855)Counting objects:  11% (95/855)Counting objects:  12% (103/855)Counting objects:  13% (112/855)Counting objects:  14% (120/855)Counting objects:  15% (129/855)Counting objects:  16% (137/855)Counting objects:  17% (146/855)Counting objects:  18% (154/855)Counting objects:  19% (163/855)Counting objects:  20% (171/855)Counting objects:  21% (180/855)Counting objects:  22% (189/855)Counting objects:  23% (197/855)Counting objects:  24% (206/855)Counting objects:  25% (214/855)Counting objects:  26% (223/855)Counting objects:  27% (231/855)Counting objects:  28% (240/855)Counting objects:  29% (248/855)Counting objects:  30% (257/855)Counting objects:  31% (266/855)Counting objects:  32% (274/855)Counting objects:  33% (283/855)Counting objects:  34% (291/855)Counting objects:  35% (300/855)Counting objects:  36% (308/855)Counting objects:  37% (317/855)Counting objects:  38% (325/855)Counting objects:  39% (334/855)Counting objects:  40% (342/855)Counting objects:  41% (351/855)Counting objects:  42% (360/855)Counting objects:  43% (368/855)Counting objects:  44% (377/855)Counting objects:  45% (385/855)Counting objects:  46% (394/855)Counting objects:  47% (402/855)Counting objects:  48% (411/855)Counting objects:  49% (419/855)Counting objects:  50% (428/855)Counting objects:  51% (437/855)Counting objects:  52% (445/855)Counting objects:  53% (454/855)Counting objects:  54% (462/855)Counting objects:  55% (471/855)Counting objects:  56% (479/855)Counting objects:  57% (488/855)Counting objects:  58% (496/855)Counting objects:  59% (505/855)Counting objects:  60% (513/855)Counting objects:  61% (522/855)Counting objects:  62% (531/855)Counting objects:  63% (539/855)Counting objects:  64% (548/855)Counting objects:  65% (556/855)Counting objects:  66% (565/855)Counting objects:  67% (573/855)Counting objects:  68% (582/855)Counting objects:  69% (590/855)Counting objects:  70% (599/855)Counting objects:  71% (608/855)Counting objects:  72% (616/855)Counting objects:  73% (625/855)Counting objects:  74% (633/855)Counting objects:  75% (642/855)Counting objects:  76% (650/855)Counting objects:  77% (659/855)Counting objects:  78% (667/855)Counting objects:  79% (676/855)Counting objects:  80% (684/855)Counting objects:  81% (693/855)Counting objects:  82% (702/855)Counting objects:  83% (710/855)Counting objects:  84% (719/855)Counting objects:  85% (727/855)Counting objects:  86% (736/855)Counting objects:  87% (744/855)Counting objects:  88% (753/855)Counting objects:  89% (761/855)Counting objects:  90% (770/855)Counting objects:  91% (779/855)Counting objects:  92% (787/855)Counting objects:  93% (796/855)Counting objects:  94% (804/855)Counting objects:  95% (813/855)Counting objects:  96% (821/855)Counting objects:  97% (830/855)Counting objects:  98% (838/855)Counting objects:  99% (847/855)Counting objects: 100% (855/855)Counting objects: 100% (855/855), done.
Compressing objects:   0% (1/350)Compressing objects:   1% (4/350)Compressing objects:   2% (7/350)Compressing objects:   3% (11/350)Compressing objects:   4% (14/350)Compressing objects:   5% (18/350)Compressing objects:   6% (21/350)Compressing objects:   7% (25/350)Compressing objects:   8% (28/350)Compressing objects:   9% (32/350)Compressing objects:  10% (35/350)Compressing objects:  11% (39/350)Compressing objects:  12% (42/350)Compressing objects:  13% (46/350)Compressing objects:  14% (49/350)Compressing objects:  15% (53/350)Compressing objects:  16% (56/350)Compressing objects:  17% (60/350)Compressing objects:  18% (63/350)Compressing objects:  19% (67/350)Compressing objects:  20% (70/350)Compressing objects:  21% (74/350)Compressing objects:  22% (77/350)Compressing objects:  23% (81/350)Compressing objects:  24% (84/350)Compressing objects:  25% (88/350)Compressing objects:  26% (91/350)Compressing objects:  27% (95/350)Compressing objects:  28% (98/350)Compressing objects:  29% (102/350)Compressing objects:  30% (105/350)Compressing objects:  31% (109/350)Compressing objects:  32% (112/350)Compressing objects:  33% (116/350)Compressing objects:  34% (119/350)Compressing objects:  35% (123/350)Compressing objects:  36% (126/350)Compressing objects:  37% (130/350)Compressing objects:  38% (133/350)Compressing objects:  39% (137/350)Compressing objects:  40% (140/350)Compressing objects:  41% (144/350)Compressing objects:  42% (147/350)Compressing objects:  43% (151/350)Compressing objects:  44% (154/350)Compressing objects:  45% (158/350)Compressing objects:  46% (161/350)Compressing objects:  47% (165/350)Compressing objects:  48% (168/350)Compressing objects:  49% (172/350)Compressing objects:  50% (175/350)Compressing objects:  51% (179/350)Compressing objects:  52% (182/350)Compressing objects:  53% (186/350)Compressing objects:  54% (189/350)Compressing objects:  55% (193/350)Compressing objects:  56% (196/350)Compressing objects:  57% (200/350)Compressing objects:  58% (203/350)Compressing objects:  59% (207/350)Compressing objects:  60% (210/350)Compressing objects:  61% (214/350)Compressing objects:  62% (217/350)Compressing objects:  63% (221/350)Compressing objects:  64% (224/350)Compressing objects:  65% (228/350)Compressing objects:  66% (231/350)Compressing objects:  67% (235/350)Compressing objects:  68% (238/350)Compressing objects:  69% (242/350)Compressing objects:  70% (245/350)Compressing objects:  71% (249/350)Compressing objects:  72% (252/350)Compressing objects:  73% (256/350)Compressing objects:  74% (259/350)Compressing objects:  75% (263/350)Compressing objects:  76% (266/350)Compressing objects:  77% (270/350)Compressing objects:  78% (273/350)Compressing objects:  79% (277/350)Compressing objects:  80% (280/350)Compressing objects:  81% (284/350)Compressing objects:  82% (287/350)Compressing objects:  83% (291/350)Compressing objects:  84% (294/350)Compressing objects:  85% (298/350)Compressing objects:  86% (301/350)Compressing objects:  87% (305/350)Compressing objects:  88% (308/350)Compressing objects:  89% (312/350)Compressing objects:  90% (315/350)Compressing objects:  91% (319/350)Compressing objects:  92% (322/350)Compressing objects:  93% (326/350)Compressing objects:  94% (329/350)Compressing objects:  95% (333/350)Compressing objects:  96% (336/350)Compressing objects:  97% (340/350)Compressing objects:  98% (343/350)Compressing objects:  99% (347/350)Compressing objects: 100% (350/350)Compressing objects: 100% (350/350), done.
Total 5761 (delta 657), reused 656 (delta 505), pack-reused 4906
Checking out dd9498d5b6fe3d52df9009a1e55691d0544da1fa
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git dd9498d5b6fe3d52df9009a1e55691d0544da1fa {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 16:46:09+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'b1c9247f-88b3-4033-b8ff-5c6aa6b6cb19', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git dd9498d5b6fe3d52df9009a1e55691d0544da1fa
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git
INFO:EventListener:OK 708.571
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-584y_dhx/mainsite/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-584y_dhx/mainsite/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-584y_dhx/mainsite.git dd9498d5b6fe3d52df9009a1e55691d0544da1fa
ERROR:EventListener:FAIL 703.456
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/db-tax-wealth/mainsite.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'be9315e57750400c32dd2e3007ce097676a12350', '--to', 'dd9498d5b6fe3d52df9009a1e55691d0544da1fa', '--git-dir', '/tmp/top-repos-quality-repos-584y_dhx/mainsite.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/vertjs/ra16-homeworks.git                                 =
=  3 / 28                                                                      =
= Now:  2021-08-30 17:09:42.016265                                             =
= Left: 7:29:52.549311                                                         =
= Ends: 2021-08-31 00:39:34.565576                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /vertjs/ra16-homeworks.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /vertjs/ra16-homeworks.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 2390, done.
Counting objects:   0% (1/711)Counting objects:   1% (8/711)Counting objects:   2% (15/711)Counting objects:   3% (22/711)Counting objects:   4% (29/711)Counting objects:   5% (36/711)Counting objects:   6% (43/711)Counting objects:   7% (50/711)Counting objects:   8% (57/711)Counting objects:   9% (64/711)Counting objects:  10% (72/711)Counting objects:  11% (79/711)Counting objects:  12% (86/711)Counting objects:  13% (93/711)Counting objects:  14% (100/711)Counting objects:  15% (107/711)Counting objects:  16% (114/711)Counting objects:  17% (121/711)Counting objects:  18% (128/711)Counting objects:  19% (136/711)Counting objects:  20% (143/711)Counting objects:  21% (150/711)Counting objects:  22% (157/711)Counting objects:  23% (164/711)Counting objects:  24% (171/711)Counting objects:  25% (178/711)Counting objects:  26% (185/711)Counting objects:  27% (192/711)Counting objects:  28% (200/711)Counting objects:  29% (207/711)Counting objects:  30% (214/711)Counting objects:  31% (221/711)Counting objects:  32% (228/711)Counting objects:  33% (235/711)Counting objects:  34% (242/711)Counting objects:  35% (249/711)Counting objects:  36% (256/711)Counting objects:  37% (264/711)Counting objects:  38% (271/711)Counting objects:  39% (278/711)Counting objects:  40% (285/711)Counting objects:  41% (292/711)Counting objects:  42% (299/711)Counting objects:  43% (306/711)Counting objects:  44% (313/711)Counting objects:  45% (320/711)Counting objects:  46% (328/711)Counting objects:  47% (335/711)Counting objects:  48% (342/711)Counting objects:  49% (349/711)Counting objects:  50% (356/711)Counting objects:  51% (363/711)Counting objects:  52% (370/711)Counting objects:  53% (377/711)Counting objects:  54% (384/711)Counting objects:  55% (392/711)Counting objects:  56% (399/711)Counting objects:  57% (406/711)Counting objects:  58% (413/711)Counting objects:  59% (420/711)Counting objects:  60% (427/711)Counting objects:  61% (434/711)Counting objects:  62% (441/711)Counting objects:  63% (448/711)Counting objects:  64% (456/711)Counting objects:  65% (463/711)Counting objects:  66% (470/711)Counting objects:  67% (477/711)Counting objects:  68% (484/711)Counting objects:  69% (491/711)Counting objects:  70% (498/711)Counting objects:  71% (505/711)Counting objects:  72% (512/711)Counting objects:  73% (520/711)Counting objects:  74% (527/711)Counting objects:  75% (534/711)Counting objects:  76% (541/711)Counting objects:  77% (548/711)Counting objects:  78% (555/711)Counting objects:  79% (562/711)Counting objects:  80% (569/711)Counting objects:  81% (576/711)Counting objects:  82% (584/711)Counting objects:  83% (591/711)Counting objects:  84% (598/711)Counting objects:  85% (605/711)Counting objects:  86% (612/711)Counting objects:  87% (619/711)Counting objects:  88% (626/711)Counting objects:  89% (633/711)Counting objects:  90% (640/711)Counting objects:  91% (648/711)Counting objects:  92% (655/711)Counting objects:  93% (662/711)Counting objects:  94% (669/711)Counting objects:  95% (676/711)Counting objects:  96% (683/711)Counting objects:  97% (690/711)Counting objects:  98% (697/711)Counting objects:  99% (704/711)Counting objects: 100% (711/711)Counting objects: 100% (711/711), done.
Compressing objects:   0% (1/210)Compressing objects:   1% (3/210)Compressing objects:   2% (5/210)Compressing objects:   3% (7/210)Compressing objects:   4% (9/210)Compressing objects:   5% (11/210)Compressing objects:   6% (13/210)Compressing objects:   7% (15/210)Compressing objects:   8% (17/210)Compressing objects:   9% (19/210)Compressing objects:  10% (21/210)Compressing objects:  11% (24/210)Compressing objects:  12% (26/210)Compressing objects:  13% (28/210)Compressing objects:  14% (30/210)Compressing objects:  15% (32/210)Compressing objects:  16% (34/210)Compressing objects:  17% (36/210)Compressing objects:  18% (38/210)Compressing objects:  19% (40/210)Compressing objects:  20% (42/210)Compressing objects:  21% (45/210)Compressing objects:  22% (47/210)Compressing objects:  23% (49/210)Compressing objects:  24% (51/210)Compressing objects:  25% (53/210)Compressing objects:  26% (55/210)Compressing objects:  27% (57/210)Compressing objects:  28% (59/210)Compressing objects:  29% (61/210)Compressing objects:  30% (63/210)Compressing objects:  31% (66/210)Compressing objects:  32% (68/210)Compressing objects:  33% (70/210)Compressing objects:  34% (72/210)Compressing objects:  35% (74/210)Compressing objects:  36% (76/210)Compressing objects:  37% (78/210)Compressing objects:  38% (80/210)Compressing objects:  39% (82/210)Compressing objects:  40% (84/210)Compressing objects:  41% (87/210)Compressing objects:  42% (89/210)Compressing objects:  43% (91/210)Compressing objects:  44% (93/210)Compressing objects:  45% (95/210)Compressing objects:  46% (97/210)Compressing objects:  47% (99/210)Compressing objects:  48% (101/210)Compressing objects:  49% (103/210)Compressing objects:  50% (105/210)Compressing objects:  51% (108/210)Compressing objects:  52% (110/210)Compressing objects:  53% (112/210)Compressing objects:  54% (114/210)Compressing objects:  55% (116/210)Compressing objects:  56% (118/210)Compressing objects:  57% (120/210)Compressing objects:  58% (122/210)Compressing objects:  59% (124/210)Compressing objects:  60% (126/210)Compressing objects:  61% (129/210)Compressing objects:  62% (131/210)Compressing objects:  63% (133/210)Compressing objects:  64% (135/210)Compressing objects:  65% (137/210)Compressing objects:  66% (139/210)Compressing objects:  67% (141/210)Compressing objects:  68% (143/210)Compressing objects:  69% (145/210)Compressing objects:  70% (147/210)Compressing objects:  71% (150/210)Compressing objects:  72% (152/210)Compressing objects:  73% (154/210)Compressing objects:  74% (156/210)Compressing objects:  75% (158/210)Compressing objects:  76% (160/210)Compressing objects:  77% (162/210)Compressing objects:  78% (164/210)Compressing objects:  79% (166/210)Compressing objects:  80% (168/210)Compressing objects:  81% (171/210)Compressing objects:  82% (173/210)Compressing objects:  83% (175/210)Compressing objects:  84% (177/210)Compressing objects:  85% (179/210)Compressing objects:  86% (181/210)Compressing objects:  87% (183/210)Compressing objects:  88% (185/210)Compressing objects:  89% (187/210)Compressing objects:  90% (189/210)Compressing objects:  91% (192/210)Compressing objects:  92% (194/210)Compressing objects:  93% (196/210)Compressing objects:  94% (198/210)Compressing objects:  95% (200/210)Compressing objects:  96% (202/210)Compressing objects:  97% (204/210)Compressing objects:  98% (206/210)Compressing objects:  99% (208/210)Compressing objects: 100% (210/210)Compressing objects: 100% (210/210), done.
Total 2390 (delta 528), reused 659 (delta 501), pack-reused 1679
Checking out fd001024467295eef79c44013c65eaa7838f2d21
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git fd001024467295eef79c44013c65eaa7838f2d21 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 17:09:47+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '771f1733-ee65-4aaa-860f-4d0c620bd178', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git fd001024467295eef79c44013c65eaa7838f2d21
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git
INFO:EventListener:OK 1028.854
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git fd001024467295eef79c44013c65eaa7838f2d21
ERROR:EventListener:FAIL 903.461
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/vertjs/ra16-homeworks.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'f73ee437d3e562e9e78698570437c099da2c20fa', '--to', 'fd001024467295eef79c44013c65eaa7838f2d21', '--git-dir', '/tmp/top-repos-quality-repos-znu0hs_j/ra16-homeworks.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/wangbren/web.git                                          =
=  4 / 28                                                                      =
= Now:  2021-08-30 17:42:00.226130                                             =
= Left: 9:17:34.665100                                                         =
= Ends: 2021-08-31 02:59:34.891230                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /wangbren/web.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /wangbren/web.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 103586, done.
Counting objects:   0% (1/1428)Counting objects:   1% (15/1428)Counting objects:   2% (29/1428)Counting objects:   3% (43/1428)Counting objects:   4% (58/1428)Counting objects:   5% (72/1428)Counting objects:   6% (86/1428)Counting objects:   7% (100/1428)Counting objects:   8% (115/1428)Counting objects:   9% (129/1428)Counting objects:  10% (143/1428)Counting objects:  11% (158/1428)Counting objects:  12% (172/1428)Counting objects:  13% (186/1428)Counting objects:  14% (200/1428)Counting objects:  15% (215/1428)Counting objects:  16% (229/1428)Counting objects:  17% (243/1428)Counting objects:  18% (258/1428)Counting objects:  19% (272/1428)Counting objects:  20% (286/1428)Counting objects:  21% (300/1428)Counting objects:  22% (315/1428)Counting objects:  23% (329/1428)Counting objects:  24% (343/1428)Counting objects:  25% (357/1428)Counting objects:  26% (372/1428)Counting objects:  27% (386/1428)Counting objects:  28% (400/1428)Counting objects:  29% (415/1428)Counting objects:  30% (429/1428)Counting objects:  31% (443/1428)Counting objects:  32% (457/1428)Counting objects:  33% (472/1428)Counting objects:  34% (486/1428)Counting objects:  35% (500/1428)Counting objects:  36% (515/1428)Counting objects:  37% (529/1428)Counting objects:  38% (543/1428)Counting objects:  39% (557/1428)Counting objects:  40% (572/1428)Counting objects:  41% (586/1428)Counting objects:  42% (600/1428)Counting objects:  43% (615/1428)Counting objects:  44% (629/1428)Counting objects:  45% (643/1428)Counting objects:  46% (657/1428)Counting objects:  47% (672/1428)Counting objects:  48% (686/1428)Counting objects:  49% (700/1428)Counting objects:  50% (714/1428)Counting objects:  51% (729/1428)Counting objects:  52% (743/1428)Counting objects:  53% (757/1428)Counting objects:  54% (772/1428)Counting objects:  55% (786/1428)Counting objects:  56% (800/1428)Counting objects:  57% (814/1428)Counting objects:  58% (829/1428)Counting objects:  59% (843/1428)Counting objects:  60% (857/1428)Counting objects:  61% (872/1428)Counting objects:  62% (886/1428)Counting objects:  63% (900/1428)Counting objects:  64% (914/1428)Counting objects:  65% (929/1428)Counting objects:  66% (943/1428)Counting objects:  67% (957/1428)Counting objects:  68% (972/1428)Counting objects:  69% (986/1428)Counting objects:  70% (1000/1428)Counting objects:  71% (1014/1428)Counting objects:  72% (1029/1428)Counting objects:  73% (1043/1428)Counting objects:  74% (1057/1428)Counting objects:  75% (1071/1428)Counting objects:  76% (1086/1428)Counting objects:  77% (1100/1428)Counting objects:  78% (1114/1428)Counting objects:  79% (1129/1428)Counting objects:  80% (1143/1428)Counting objects:  81% (1157/1428)Counting objects:  82% (1171/1428)Counting objects:  83% (1186/1428)Counting objects:  84% (1200/1428)Counting objects:  85% (1214/1428)Counting objects:  86% (1229/1428)Counting objects:  87% (1243/1428)Counting objects:  88% (1257/1428)Counting objects:  89% (1271/1428)Counting objects:  90% (1286/1428)Counting objects:  91% (1300/1428)Counting objects:  92% (1314/1428)Counting objects:  93% (1329/1428)Counting objects:  94% (1343/1428)Counting objects:  95% (1357/1428)Counting objects:  96% (1371/1428)Counting objects:  97% (1386/1428)Counting objects:  98% (1400/1428)Counting objects:  99% (1414/1428)Counting objects: 100% (1428/1428)Counting objects: 100% (1428/1428), done.
Compressing objects:   0% (1/1091)Compressing objects:   1% (11/1091)Compressing objects:   2% (22/1091)Compressing objects:   3% (33/1091)Compressing objects:   4% (44/1091)Compressing objects:   5% (55/1091)Compressing objects:   6% (66/1091)Compressing objects:   7% (77/1091)Compressing objects:   8% (88/1091)Compressing objects:   9% (99/1091)Compressing objects:  10% (110/1091)Compressing objects:  11% (121/1091)Compressing objects:  12% (131/1091)Compressing objects:  13% (142/1091)Compressing objects:  14% (153/1091)Compressing objects:  15% (164/1091)Compressing objects:  16% (175/1091)Compressing objects:  17% (186/1091)Compressing objects:  18% (197/1091)Compressing objects:  19% (208/1091)Compressing objects:  20% (219/1091)Compressing objects:  21% (230/1091)Compressing objects:  22% (241/1091)Compressing objects:  23% (251/1091)Compressing objects:  24% (262/1091)Compressing objects:  25% (273/1091)Compressing objects:  26% (284/1091)Compressing objects:  27% (295/1091)Compressing objects:  28% (306/1091)Compressing objects:  29% (317/1091)Compressing objects:  30% (328/1091)Compressing objects:  31% (339/1091)Compressing objects:  32% (350/1091)Compressing objects:  33% (361/1091)Compressing objects:  34% (371/1091)Compressing objects:  35% (382/1091)Compressing objects:  36% (393/1091)Compressing objects:  37% (404/1091)Compressing objects:  38% (415/1091)Compressing objects:  39% (426/1091)Compressing objects:  40% (437/1091)Compressing objects:  41% (448/1091)Compressing objects:  42% (459/1091)Compressing objects:  43% (470/1091)Compressing objects:  44% (481/1091)Compressing objects:  45% (491/1091)Compressing objects:  46% (502/1091)Compressing objects:  47% (513/1091)Compressing objects:  48% (524/1091)Compressing objects:  49% (535/1091)Compressing objects:  50% (546/1091)Compressing objects:  51% (557/1091)Compressing objects:  52% (568/1091)Compressing objects:  53% (579/1091)Compressing objects:  54% (590/1091)Compressing objects:  55% (601/1091)Compressing objects:  56% (611/1091)Compressing objects:  57% (622/1091)Compressing objects:  58% (633/1091)Compressing objects:  59% (644/1091)Compressing objects:  60% (655/1091)Compressing objects:  61% (666/1091)Compressing objects:  62% (677/1091)Compressing objects:  63% (688/1091)Compressing objects:  64% (699/1091)Compressing objects:  65% (710/1091)Compressing objects:  66% (721/1091)Compressing objects:  67% (731/1091)Compressing objects:  68% (742/1091)Compressing objects:  69% (753/1091)Compressing objects:  70% (764/1091)Compressing objects:  71% (775/1091)Compressing objects:  72% (786/1091)Compressing objects:  73% (797/1091)Compressing objects:  74% (808/1091)Compressing objects:  75% (819/1091)Compressing objects:  76% (830/1091)Compressing objects:  77% (841/1091)Compressing objects:  78% (851/1091)Compressing objects:  79% (862/1091)Compressing objects:  80% (873/1091)Compressing objects:  81% (884/1091)Compressing objects:  82% (895/1091)Compressing objects:  83% (906/1091)Compressing objects:  84% (917/1091)Compressing objects:  85% (928/1091)Compressing objects:  86% (939/1091)Compressing objects:  87% (950/1091)Compressing objects:  88% (961/1091)Compressing objects:  89% (971/1091)Compressing objects:  90% (982/1091)Compressing objects:  91% (993/1091)Compressing objects:  92% (1004/1091)Compressing objects:  93% (1015/1091)Compressing objects:  94% (1026/1091)Compressing objects:  95% (1037/1091)Compressing objects:  96% (1048/1091)Compressing objects:  97% (1059/1091)Compressing objects:  98% (1070/1091)Compressing objects:  99% (1081/1091)Compressing objects: 100% (1091/1091)Compressing objects: 100% (1091/1091), done.
Total 103586 (delta 309), reused 1007 (delta 287), pack-reused 102158
Checking out 3244c633b15b7699e8629b46a9f09ce80e4fb786
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-h_12lmib/web.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-h_12lmib/web.git 3244c633b15b7699e8629b46a9f09ce80e4fb786 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 17:42:26+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '1101ac32-e720-4ff9-b76d-314b6536be3d', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-h_12lmib/web.git 3244c633b15b7699e8629b46a9f09ce80e4fb786
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-h_12lmib/web.git
INFO:EventListener:OK 4754.692
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-h_12lmib/web/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-h_12lmib/web.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-h_12lmib/web/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-h_12lmib/web.git 3244c633b15b7699e8629b46a9f09ce80e4fb786
ERROR:EventListener:FAIL 7194.910
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/wangbren/web.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'b7514413f6e8fd018d37f4cc4058277e14818c88', '--to', '3244c633b15b7699e8629b46a9f09ce80e4fb786', '--git-dir', '/tmp/top-repos-quality-repos-h_12lmib/web.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/mngyuan/personal-site-2015.git                            =
=  5 / 28                                                                      =
= Now:  2021-08-30 21:01:36.649610                                             =
= Left: 1 day, 2:39:05.899752                                                  =
= Ends: 2021-08-31 23:40:42.549362                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /mngyuan/personal-site-2015.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /mngyuan/personal-site-2015.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 24727, done.
Counting objects:   1% (1/78)Counting objects:   2% (2/78)Counting objects:   3% (3/78)Counting objects:   5% (4/78)Counting objects:   6% (5/78)Counting objects:   7% (6/78)Counting objects:   8% (7/78)Counting objects:  10% (8/78)Counting objects:  11% (9/78)Counting objects:  12% (10/78)Counting objects:  14% (11/78)Counting objects:  15% (12/78)Counting objects:  16% (13/78)Counting objects:  17% (14/78)Counting objects:  19% (15/78)Counting objects:  20% (16/78)Counting objects:  21% (17/78)Counting objects:  23% (18/78)Counting objects:  24% (19/78)Counting objects:  25% (20/78)Counting objects:  26% (21/78)Counting objects:  28% (22/78)Counting objects:  29% (23/78)Counting objects:  30% (24/78)Counting objects:  32% (25/78)Counting objects:  33% (26/78)Counting objects:  34% (27/78)Counting objects:  35% (28/78)Counting objects:  37% (29/78)Counting objects:  38% (30/78)Counting objects:  39% (31/78)Counting objects:  41% (32/78)Counting objects:  42% (33/78)Counting objects:  43% (34/78)Counting objects:  44% (35/78)Counting objects:  46% (36/78)Counting objects:  47% (37/78)Counting objects:  48% (38/78)Counting objects:  50% (39/78)Counting objects:  51% (40/78)Counting objects:  52% (41/78)Counting objects:  53% (42/78)Counting objects:  55% (43/78)Counting objects:  56% (44/78)Counting objects:  57% (45/78)Counting objects:  58% (46/78)Counting objects:  60% (47/78)Counting objects:  61% (48/78)Counting objects:  62% (49/78)Counting objects:  64% (50/78)Counting objects:  65% (51/78)Counting objects:  66% (52/78)Counting objects:  67% (53/78)Counting objects:  69% (54/78)Counting objects:  70% (55/78)Counting objects:  71% (56/78)Counting objects:  73% (57/78)Counting objects:  74% (58/78)Counting objects:  75% (59/78)Counting objects:  76% (60/78)Counting objects:  78% (61/78)Counting objects:  79% (62/78)Counting objects:  80% (63/78)Counting objects:  82% (64/78)Counting objects:  83% (65/78)Counting objects:  84% (66/78)Counting objects:  85% (67/78)Counting objects:  87% (68/78)Counting objects:  88% (69/78)Counting objects:  89% (70/78)Counting objects:  91% (71/78)Counting objects:  92% (72/78)Counting objects:  93% (73/78)Counting objects:  94% (74/78)Counting objects:  96% (75/78)Counting objects:  97% (76/78)Counting objects:  98% (77/78)Counting objects: 100% (78/78)Counting objects: 100% (78/78), done.
Compressing objects:   1% (1/78)Compressing objects:   2% (2/78)Compressing objects:   3% (3/78)Compressing objects:   5% (4/78)Compressing objects:   6% (5/78)Compressing objects:   7% (6/78)Compressing objects:   8% (7/78)Compressing objects:  10% (8/78)Compressing objects:  11% (9/78)Compressing objects:  12% (10/78)Compressing objects:  14% (11/78)Compressing objects:  15% (12/78)Compressing objects:  16% (13/78)Compressing objects:  17% (14/78)Compressing objects:  19% (15/78)Compressing objects:  20% (16/78)Compressing objects:  21% (17/78)Compressing objects:  23% (18/78)Compressing objects:  24% (19/78)Compressing objects:  25% (20/78)Compressing objects:  26% (21/78)Compressing objects:  28% (22/78)Compressing objects:  29% (23/78)Compressing objects:  30% (24/78)Compressing objects:  32% (25/78)Compressing objects:  33% (26/78)Compressing objects:  34% (27/78)Compressing objects:  35% (28/78)Compressing objects:  37% (29/78)Compressing objects:  38% (30/78)Compressing objects:  39% (31/78)Compressing objects:  41% (32/78)Compressing objects:  42% (33/78)Compressing objects:  43% (34/78)Compressing objects:  44% (35/78)Compressing objects:  46% (36/78)Compressing objects:  47% (37/78)Compressing objects:  48% (38/78)Compressing objects:  50% (39/78)Compressing objects:  51% (40/78)Compressing objects:  52% (41/78)Compressing objects:  53% (42/78)Compressing objects:  55% (43/78)Compressing objects:  56% (44/78)Compressing objects:  57% (45/78)Compressing objects:  58% (46/78)Compressing objects:  60% (47/78)Compressing objects:  61% (48/78)Compressing objects:  62% (49/78)Compressing objects:  64% (50/78)Compressing objects:  65% (51/78)Compressing objects:  66% (52/78)Compressing objects:  67% (53/78)Compressing objects:  69% (54/78)Compressing objects:  70% (55/78)Compressing objects:  71% (56/78)Compressing objects:  73% (57/78)Compressing objects:  74% (58/78)Compressing objects:  75% (59/78)Compressing objects:  76% (60/78)Compressing objects:  78% (61/78)Compressing objects:  79% (62/78)Compressing objects:  80% (63/78)Compressing objects:  82% (64/78)Compressing objects:  83% (65/78)Compressing objects:  84% (66/78)Compressing objects:  85% (67/78)Compressing objects:  87% (68/78)Compressing objects:  88% (69/78)Compressing objects:  89% (70/78)Compressing objects:  91% (71/78)Compressing objects:  92% (72/78)Compressing objects:  93% (73/78)Compressing objects:  94% (74/78)Compressing objects:  96% (75/78)Compressing objects:  97% (76/78)Compressing objects:  98% (77/78)Compressing objects: 100% (78/78)Compressing objects: 100% (78/78), done.
Total 24727 (delta 41), reused 0 (delta 0), pack-reused 24649
Checking out dc9a2ee578e028bda8507665b04682115737b186
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git dc9a2ee578e028bda8507665b04682115737b186 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 21:01:54+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '15b9d3ca-4b04-4a65-88a9-6dbdd44eca66', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git dc9a2ee578e028bda8507665b04682115737b186
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git
INFO:EventListener:OK 48.749
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git dc9a2ee578e028bda8507665b04682115737b186
ERROR:EventListener:FAIL 48.661
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/mngyuan/personal-site-2015.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'ff0406a18e46b135537025cee1a91b18dd49ffdd', '--to', 'dc9a2ee578e028bda8507665b04682115737b186', '--git-dir', '/tmp/top-repos-quality-repos-_wlt5o0d/personal-site-2015.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/atomic-orange/gatsby-starter-blog.git                     =
=  6 / 28                                                                      =
= Now:  2021-08-30 21:03:33.453365                                             =
= Left: 20:34:55.820416                                                        =
= Ends: 2021-08-31 17:38:29.273781                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /atomic-orange/gatsby-starter-blog.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /atomic-orange/gatsby-starter-blog.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3502, done.
Counting objects:   0% (1/3502)Counting objects:   1% (36/3502)Counting objects:   2% (71/3502)Counting objects:   3% (106/3502)Counting objects:   4% (141/3502)Counting objects:   5% (176/3502)Counting objects:   6% (211/3502)Counting objects:   7% (246/3502)Counting objects:   8% (281/3502)Counting objects:   9% (316/3502)Counting objects:  10% (351/3502)Counting objects:  11% (386/3502)Counting objects:  12% (421/3502)Counting objects:  13% (456/3502)Counting objects:  14% (491/3502)Counting objects:  15% (526/3502)Counting objects:  16% (561/3502)Counting objects:  17% (596/3502)Counting objects:  18% (631/3502)Counting objects:  19% (666/3502)Counting objects:  20% (701/3502)Counting objects:  21% (736/3502)Counting objects:  22% (771/3502)Counting objects:  23% (806/3502)Counting objects:  24% (841/3502)Counting objects:  25% (876/3502)Counting objects:  26% (911/3502)Counting objects:  27% (946/3502)Counting objects:  28% (981/3502)Counting objects:  29% (1016/3502)Counting objects:  30% (1051/3502)Counting objects:  31% (1086/3502)Counting objects:  32% (1121/3502)Counting objects:  33% (1156/3502)Counting objects:  34% (1191/3502)Counting objects:  35% (1226/3502)Counting objects:  36% (1261/3502)Counting objects:  37% (1296/3502)Counting objects:  38% (1331/3502)Counting objects:  39% (1366/3502)Counting objects:  40% (1401/3502)Counting objects:  41% (1436/3502)Counting objects:  42% (1471/3502)Counting objects:  43% (1506/3502)Counting objects:  44% (1541/3502)Counting objects:  45% (1576/3502)Counting objects:  46% (1611/3502)Counting objects:  47% (1646/3502)Counting objects:  48% (1681/3502)Counting objects:  49% (1716/3502)Counting objects:  50% (1751/3502)Counting objects:  51% (1787/3502)Counting objects:  52% (1822/3502)Counting objects:  53% (1857/3502)Counting objects:  54% (1892/3502)Counting objects:  55% (1927/3502)Counting objects:  56% (1962/3502)Counting objects:  57% (1997/3502)Counting objects:  58% (2032/3502)Counting objects:  59% (2067/3502)Counting objects:  60% (2102/3502)Counting objects:  61% (2137/3502)Counting objects:  62% (2172/3502)Counting objects:  63% (2207/3502)Counting objects:  64% (2242/3502)Counting objects:  65% (2277/3502)Counting objects:  66% (2312/3502)Counting objects:  67% (2347/3502)Counting objects:  68% (2382/3502)Counting objects:  69% (2417/3502)Counting objects:  70% (2452/3502)Counting objects:  71% (2487/3502)Counting objects:  72% (2522/3502)Counting objects:  73% (2557/3502)Counting objects:  74% (2592/3502)Counting objects:  75% (2627/3502)Counting objects:  76% (2662/3502)Counting objects:  77% (2697/3502)Counting objects:  78% (2732/3502)Counting objects:  79% (2767/3502)Counting objects:  80% (2802/3502)Counting objects:  81% (2837/3502)Counting objects:  82% (2872/3502)Counting objects:  83% (2907/3502)Counting objects:  84% (2942/3502)Counting objects:  85% (2977/3502)Counting objects:  86% (3012/3502)Counting objects:  87% (3047/3502)Counting objects:  88% (3082/3502)Counting objects:  89% (3117/3502)Counting objects:  90% (3152/3502)Counting objects:  91% (3187/3502)Counting objects:  92% (3222/3502)Counting objects:  93% (3257/3502)Counting objects:  94% (3292/3502)Counting objects:  95% (3327/3502)Counting objects:  96% (3362/3502)Counting objects:  97% (3397/3502)Counting objects:  98% (3432/3502)Counting objects:  99% (3467/3502)Counting objects: 100% (3502/3502)Counting objects: 100% (3502/3502), done.
Compressing objects:   0% (1/1475)Compressing objects:   1% (15/1475)Compressing objects:   2% (30/1475)Compressing objects:   3% (45/1475)Compressing objects:   4% (59/1475)Compressing objects:   5% (74/1475)Compressing objects:   6% (89/1475)Compressing objects:   7% (104/1475)Compressing objects:   8% (118/1475)Compressing objects:   9% (133/1475)Compressing objects:  10% (148/1475)Compressing objects:  11% (163/1475)Compressing objects:  12% (177/1475)Compressing objects:  13% (192/1475)Compressing objects:  14% (207/1475)Compressing objects:  15% (222/1475)Compressing objects:  16% (236/1475)Compressing objects:  17% (251/1475)Compressing objects:  18% (266/1475)Compressing objects:  19% (281/1475)Compressing objects:  20% (295/1475)Compressing objects:  21% (310/1475)Compressing objects:  22% (325/1475)Compressing objects:  23% (340/1475)Compressing objects:  24% (354/1475)Compressing objects:  25% (369/1475)Compressing objects:  26% (384/1475)Compressing objects:  27% (399/1475)Compressing objects:  28% (413/1475)Compressing objects:  29% (428/1475)Compressing objects:  30% (443/1475)Compressing objects:  31% (458/1475)Compressing objects:  32% (472/1475)Compressing objects:  33% (487/1475)Compressing objects:  34% (502/1475)Compressing objects:  35% (517/1475)Compressing objects:  36% (531/1475)Compressing objects:  37% (546/1475)Compressing objects:  38% (561/1475)Compressing objects:  39% (576/1475)Compressing objects:  40% (590/1475)Compressing objects:  41% (605/1475)Compressing objects:  42% (620/1475)Compressing objects:  43% (635/1475)Compressing objects:  44% (649/1475)Compressing objects:  45% (664/1475)Compressing objects:  46% (679/1475)Compressing objects:  47% (694/1475)Compressing objects:  48% (708/1475)Compressing objects:  49% (723/1475)Compressing objects:  50% (738/1475)Compressing objects:  51% (753/1475)Compressing objects:  52% (767/1475)Compressing objects:  53% (782/1475)Compressing objects:  54% (797/1475)Compressing objects:  55% (812/1475)Compressing objects:  56% (826/1475)Compressing objects:  57% (841/1475)Compressing objects:  58% (856/1475)Compressing objects:  59% (871/1475)Compressing objects:  60% (885/1475)Compressing objects:  61% (900/1475)Compressing objects:  62% (915/1475)Compressing objects:  63% (930/1475)Compressing objects:  64% (944/1475)Compressing objects:  65% (959/1475)Compressing objects:  66% (974/1475)Compressing objects:  67% (989/1475)Compressing objects:  68% (1003/1475)Compressing objects:  69% (1018/1475)Compressing objects:  70% (1033/1475)Compressing objects:  71% (1048/1475)Compressing objects:  72% (1062/1475)Compressing objects:  73% (1077/1475)Compressing objects:  74% (1092/1475)Compressing objects:  75% (1107/1475)Compressing objects:  76% (1121/1475)Compressing objects:  77% (1136/1475)Compressing objects:  78% (1151/1475)Compressing objects:  79% (1166/1475)Compressing objects:  80% (1180/1475)Compressing objects:  81% (1195/1475)Compressing objects:  82% (1210/1475)Compressing objects:  83% (1225/1475)Compressing objects:  84% (1239/1475)Compressing objects:  85% (1254/1475)Compressing objects:  86% (1269/1475)Compressing objects:  87% (1284/1475)Compressing objects:  88% (1298/1475)Compressing objects:  89% (1313/1475)Compressing objects:  90% (1328/1475)Compressing objects:  91% (1343/1475)Compressing objects:  92% (1357/1475)Compressing objects:  93% (1372/1475)Compressing objects:  94% (1387/1475)Compressing objects:  95% (1402/1475)Compressing objects:  96% (1416/1475)Compressing objects:  97% (1431/1475)Compressing objects:  98% (1446/1475)Compressing objects:  99% (1461/1475)Compressing objects: 100% (1475/1475)Compressing objects: 100% (1475/1475), done.
Total 3502 (delta 1924), reused 3502 (delta 1924), pack-reused 0
Checking out 09ce96b8463f0b4e6eb45a3cc8a96789fb0e19f6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git 09ce96b8463f0b4e6eb45a3cc8a96789fb0e19f6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 21:03:36+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '1e5e10cf-742d-45f2-a90f-cc48d78c9b93', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git 09ce96b8463f0b4e6eb45a3cc8a96789fb0e19f6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git
INFO:EventListener:OK 69.392
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git 09ce96b8463f0b4e6eb45a3cc8a96789fb0e19f6
ERROR:EventListener:FAIL 115.619
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/atomic-orange/gatsby-starter-blog.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'df78cebdbcc6801b3e008a218a9a5ac167cfc037', '--to', '09ce96b8463f0b4e6eb45a3cc8a96789fb0e19f6', '--git-dir', '/tmp/top-repos-quality-repos-yx5cszq6/gatsby-starter-blog.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/josh-cook/challenge-generator.git                         =
=  7 / 28                                                                      =
= Now:  2021-08-30 21:06:41.964130                                             =
= Left: 16:35:53.091977                                                        =
= Ends: 2021-08-31 13:42:35.056107                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /josh-cook/challenge-generator.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /josh-cook/challenge-generator.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 530, done.
Counting objects:   4% (1/22)Counting objects:   9% (2/22)Counting objects:  13% (3/22)Counting objects:  18% (4/22)Counting objects:  22% (5/22)Counting objects:  27% (6/22)Counting objects:  31% (7/22)Counting objects:  36% (8/22)Counting objects:  40% (9/22)Counting objects:  45% (10/22)Counting objects:  50% (11/22)Counting objects:  54% (12/22)Counting objects:  59% (13/22)Counting objects:  63% (14/22)Counting objects:  68% (15/22)Counting objects:  72% (16/22)Counting objects:  77% (17/22)Counting objects:  81% (18/22)Counting objects:  86% (19/22)Counting objects:  90% (20/22)Counting objects:  95% (21/22)Counting objects: 100% (22/22)Counting objects: 100% (22/22), done.
Compressing objects:   4% (1/22)Compressing objects:   9% (2/22)Compressing objects:  13% (3/22)Compressing objects:  18% (4/22)Compressing objects:  22% (5/22)Compressing objects:  27% (6/22)Compressing objects:  31% (7/22)Compressing objects:  36% (8/22)Compressing objects:  40% (9/22)Compressing objects:  45% (10/22)Compressing objects:  50% (11/22)Compressing objects:  54% (12/22)Compressing objects:  59% (13/22)Compressing objects:  63% (14/22)Compressing objects:  68% (15/22)Compressing objects:  72% (16/22)Compressing objects:  77% (17/22)Compressing objects:  81% (18/22)Compressing objects:  86% (19/22)Compressing objects:  90% (20/22)Compressing objects:  95% (21/22)Compressing objects: 100% (22/22)Compressing objects: 100% (22/22), done.
Total 530 (delta 10), reused 0 (delta 0), pack-reused 508
Checking out 165b0040baf6384e62e44e493045f75d146beaa7
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git 165b0040baf6384e62e44e493045f75d146beaa7 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 21:06:42+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'efebd3e5-cd54-4c57-880d-e3d1b2cbb723', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git 165b0040baf6384e62e44e493045f75d146beaa7
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git
INFO:EventListener:OK 108.482
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-vjxkhzez/challenge-generator/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-vjxkhzez/challenge-generator/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git 165b0040baf6384e62e44e493045f75d146beaa7
ERROR:EventListener:FAIL 93.475
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/josh-cook/challenge-generator.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'd430a466fb2a3e76e13367e3a17e1062e634e532', '--to', '165b0040baf6384e62e44e493045f75d146beaa7', '--git-dir', '/tmp/top-repos-quality-repos-vjxkhzez/challenge-generator.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/corderogerardo/app-ionic-ios.git                          =
=  8 / 28                                                                      =
= Now:  2021-08-30 21:10:05.168661                                             =
= Left: 13:44:58.507029                                                        =
= Ends: 2021-08-31 10:55:03.675690                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /corderogerardo/app-ionic-ios.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /corderogerardo/app-ionic-ios.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 5941, done.
Total 5941 (delta 0), reused 0 (delta 0), pack-reused 5941
Checking out e702dd34b3c1ddf728ce67ed7662679fed3dacc6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git e702dd34b3c1ddf728ce67ed7662679fed3dacc6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 21:10:10+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '9f40b81d-3b7e-419c-9786-d0284f741713', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git e702dd34b3c1ddf728ce67ed7662679fed3dacc6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git
INFO:EventListener:OK 573.270
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git e702dd34b3c1ddf728ce67ed7662679fed3dacc6
ERROR:EventListener:FAIL 456.657
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/corderogerardo/app-ionic-ios.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'ff92d3632e22e2f7693e192e53dc7f427c64e519', '--to', 'e702dd34b3c1ddf728ce67ed7662679fed3dacc6', '--git-dir', '/tmp/top-repos-quality-repos-0ks_7201/app-ionic-ios.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/wikimedia/mediawiki-api-demos.git                         =
=  9 / 28                                                                      =
= Now:  2021-08-30 21:27:20.735433                                             =
= Left: 12:10:37.672788                                                        =
= Ends: 2021-08-31 09:37:58.408221                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /wikimedia/mediawiki-api-demos.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /wikimedia/mediawiki-api-demos.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4868, done.
Counting objects:   0% (1/404)Counting objects:   1% (5/404)Counting objects:   2% (9/404)Counting objects:   3% (13/404)Counting objects:   4% (17/404)Counting objects:   5% (21/404)Counting objects:   6% (25/404)Counting objects:   7% (29/404)Counting objects:   8% (33/404)Counting objects:   9% (37/404)Counting objects:  10% (41/404)Counting objects:  11% (45/404)Counting objects:  12% (49/404)Counting objects:  13% (53/404)Counting objects:  14% (57/404)Counting objects:  15% (61/404)Counting objects:  16% (65/404)Counting objects:  17% (69/404)Counting objects:  18% (73/404)Counting objects:  19% (77/404)Counting objects:  20% (81/404)Counting objects:  21% (85/404)Counting objects:  22% (89/404)Counting objects:  23% (93/404)Counting objects:  24% (97/404)Counting objects:  25% (101/404)Counting objects:  26% (106/404)Counting objects:  27% (110/404)Counting objects:  28% (114/404)Counting objects:  29% (118/404)Counting objects:  30% (122/404)Counting objects:  31% (126/404)Counting objects:  32% (130/404)Counting objects:  33% (134/404)Counting objects:  34% (138/404)Counting objects:  35% (142/404)Counting objects:  36% (146/404)Counting objects:  37% (150/404)Counting objects:  38% (154/404)Counting objects:  39% (158/404)Counting objects:  40% (162/404)Counting objects:  41% (166/404)Counting objects:  42% (170/404)Counting objects:  43% (174/404)Counting objects:  44% (178/404)Counting objects:  45% (182/404)Counting objects:  46% (186/404)Counting objects:  47% (190/404)Counting objects:  48% (194/404)Counting objects:  49% (198/404)Counting objects:  50% (202/404)Counting objects:  51% (207/404)Counting objects:  52% (211/404)Counting objects:  53% (215/404)Counting objects:  54% (219/404)Counting objects:  55% (223/404)Counting objects:  56% (227/404)Counting objects:  57% (231/404)Counting objects:  58% (235/404)Counting objects:  59% (239/404)Counting objects:  60% (243/404)Counting objects:  61% (247/404)Counting objects:  62% (251/404)Counting objects:  63% (255/404)Counting objects:  64% (259/404)Counting objects:  65% (263/404)Counting objects:  66% (267/404)Counting objects:  67% (271/404)Counting objects:  68% (275/404)Counting objects:  69% (279/404)Counting objects:  70% (283/404)Counting objects:  71% (287/404)Counting objects:  72% (291/404)Counting objects:  73% (295/404)Counting objects:  74% (299/404)Counting objects:  75% (303/404)Counting objects:  76% (308/404)Counting objects:  77% (312/404)Counting objects:  78% (316/404)Counting objects:  79% (320/404)Counting objects:  80% (324/404)Counting objects:  81% (328/404)Counting objects:  82% (332/404)Counting objects:  83% (336/404)Counting objects:  84% (340/404)Counting objects:  85% (344/404)Counting objects:  86% (348/404)Counting objects:  87% (352/404)Counting objects:  88% (356/404)Counting objects:  89% (360/404)Counting objects:  90% (364/404)Counting objects:  91% (368/404)Counting objects:  92% (372/404)Counting objects:  93% (376/404)Counting objects:  94% (380/404)Counting objects:  95% (384/404)Counting objects:  96% (388/404)Counting objects:  97% (392/404)Counting objects:  98% (396/404)Counting objects:  99% (400/404)Counting objects: 100% (404/404)Counting objects: 100% (404/404), done.
Compressing objects:   0% (1/284)Compressing objects:   1% (3/284)Compressing objects:   2% (6/284)Compressing objects:   3% (9/284)Compressing objects:   4% (12/284)Compressing objects:   5% (15/284)Compressing objects:   6% (18/284)Compressing objects:   7% (20/284)Compressing objects:   8% (23/284)Compressing objects:   9% (26/284)Compressing objects:  10% (29/284)Compressing objects:  11% (32/284)Compressing objects:  12% (35/284)Compressing objects:  13% (37/284)Compressing objects:  14% (40/284)Compressing objects:  15% (43/284)Compressing objects:  16% (46/284)Compressing objects:  17% (49/284)Compressing objects:  18% (52/284)Compressing objects:  19% (54/284)Compressing objects:  20% (57/284)Compressing objects:  21% (60/284)Compressing objects:  22% (63/284)Compressing objects:  23% (66/284)Compressing objects:  24% (69/284)Compressing objects:  25% (71/284)Compressing objects:  26% (74/284)Compressing objects:  27% (77/284)Compressing objects:  28% (80/284)Compressing objects:  29% (83/284)Compressing objects:  30% (86/284)Compressing objects:  31% (89/284)Compressing objects:  32% (91/284)Compressing objects:  33% (94/284)Compressing objects:  34% (97/284)Compressing objects:  35% (100/284)Compressing objects:  36% (103/284)Compressing objects:  37% (106/284)Compressing objects:  38% (108/284)Compressing objects:  39% (111/284)Compressing objects:  40% (114/284)Compressing objects:  41% (117/284)Compressing objects:  42% (120/284)Compressing objects:  43% (123/284)Compressing objects:  44% (125/284)Compressing objects:  45% (128/284)Compressing objects:  46% (131/284)Compressing objects:  47% (134/284)Compressing objects:  48% (137/284)Compressing objects:  49% (140/284)Compressing objects:  50% (142/284)Compressing objects:  51% (145/284)Compressing objects:  52% (148/284)Compressing objects:  53% (151/284)Compressing objects:  54% (154/284)Compressing objects:  55% (157/284)Compressing objects:  56% (160/284)Compressing objects:  57% (162/284)Compressing objects:  58% (165/284)Compressing objects:  59% (168/284)Compressing objects:  60% (171/284)Compressing objects:  61% (174/284)Compressing objects:  62% (177/284)Compressing objects:  63% (179/284)Compressing objects:  64% (182/284)Compressing objects:  65% (185/284)Compressing objects:  66% (188/284)Compressing objects:  67% (191/284)Compressing objects:  68% (194/284)Compressing objects:  69% (196/284)Compressing objects:  70% (199/284)Compressing objects:  71% (202/284)Compressing objects:  72% (205/284)Compressing objects:  73% (208/284)Compressing objects:  74% (211/284)Compressing objects:  75% (213/284)Compressing objects:  76% (216/284)Compressing objects:  77% (219/284)Compressing objects:  78% (222/284)Compressing objects:  79% (225/284)Compressing objects:  80% (228/284)Compressing objects:  81% (231/284)Compressing objects:  82% (233/284)Compressing objects:  83% (236/284)Compressing objects:  84% (239/284)Compressing objects:  85% (242/284)Compressing objects:  86% (245/284)Compressing objects:  87% (248/284)Compressing objects:  88% (250/284)Compressing objects:  89% (253/284)Compressing objects:  90% (256/284)Compressing objects:  91% (259/284)Compressing objects:  92% (262/284)Compressing objects:  93% (265/284)Compressing objects:  94% (267/284)Compressing objects:  95% (270/284)Compressing objects:  96% (273/284)Compressing objects:  97% (276/284)Compressing objects:  98% (279/284)Compressing objects:  99% (282/284)Compressing objects: 100% (284/284)Compressing objects: 100% (284/284), done.
Total 4868 (delta 327), reused 161 (delta 116), pack-reused 4464
Checking out d69d9d0ddd6f14a41a0657e68dc2f3cca274893c
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git d69d9d0ddd6f14a41a0657e68dc2f3cca274893c {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 21:27:22+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'f4040379-3406-44ba-809d-0371c0769137', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git d69d9d0ddd6f14a41a0657e68dc2f3cca274893c
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git
INFO:EventListener:OK 1138.085
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git d69d9d0ddd6f14a41a0657e68dc2f3cca274893c
ERROR:EventListener:FAIL 887.494
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/wikimedia/mediawiki-api-demos.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'ec33383154630277cc55d83c6868608eaea6abb5', '--to', 'd69d9d0ddd6f14a41a0657e68dc2f3cca274893c', '--git-dir', '/tmp/top-repos-quality-repos-g4k8cfbg/mediawiki-api-demos.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/herry-k/jitsi-meet-in.git                                 =
= 10 / 28                                                                      =
= Now:  2021-08-30 22:01:08.383734                                             =
= Left: 11:28:19.070100                                                        =
= Ends: 2021-08-31 09:29:27.453834                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /herry-k/jitsi-meet-in.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /herry-k/jitsi-meet-in.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 72070, done.
Counting objects:   2% (1/39)Counting objects:   5% (2/39)Counting objects:   7% (3/39)Counting objects:  10% (4/39)Counting objects:  12% (5/39)Counting objects:  15% (6/39)Counting objects:  17% (7/39)Counting objects:  20% (8/39)Counting objects:  23% (9/39)Counting objects:  25% (10/39)Counting objects:  28% (11/39)Counting objects:  30% (12/39)Counting objects:  33% (13/39)Counting objects:  35% (14/39)Counting objects:  38% (15/39)Counting objects:  41% (16/39)Counting objects:  43% (17/39)Counting objects:  46% (18/39)Counting objects:  48% (19/39)Counting objects:  51% (20/39)Counting objects:  53% (21/39)Counting objects:  56% (22/39)Counting objects:  58% (23/39)Counting objects:  61% (24/39)Counting objects:  64% (25/39)Counting objects:  66% (26/39)Counting objects:  69% (27/39)Counting objects:  71% (28/39)Counting objects:  74% (29/39)Counting objects:  76% (30/39)Counting objects:  79% (31/39)Counting objects:  82% (32/39)Counting objects:  84% (33/39)Counting objects:  87% (34/39)Counting objects:  89% (35/39)Counting objects:  92% (36/39)Counting objects:  94% (37/39)Counting objects:  97% (38/39)Counting objects: 100% (39/39)Counting objects: 100% (39/39), done.
Compressing objects:   2% (1/39)Compressing objects:   5% (2/39)Compressing objects:   7% (3/39)Compressing objects:  10% (4/39)Compressing objects:  12% (5/39)Compressing objects:  15% (6/39)Compressing objects:  17% (7/39)Compressing objects:  20% (8/39)Compressing objects:  23% (9/39)Compressing objects:  25% (10/39)Compressing objects:  28% (11/39)Compressing objects:  30% (12/39)Compressing objects:  33% (13/39)Compressing objects:  35% (14/39)Compressing objects:  38% (15/39)Compressing objects:  41% (16/39)Compressing objects:  43% (17/39)Compressing objects:  46% (18/39)Compressing objects:  48% (19/39)Compressing objects:  51% (20/39)Compressing objects:  53% (21/39)Compressing objects:  56% (22/39)Compressing objects:  58% (23/39)Compressing objects:  61% (24/39)Compressing objects:  64% (25/39)Compressing objects:  66% (26/39)Compressing objects:  69% (27/39)Compressing objects:  71% (28/39)Compressing objects:  74% (29/39)Compressing objects:  76% (30/39)Compressing objects:  79% (31/39)Compressing objects:  82% (32/39)Compressing objects:  84% (33/39)Compressing objects:  87% (34/39)Compressing objects:  89% (35/39)Compressing objects:  92% (36/39)Compressing objects:  94% (37/39)Compressing objects:  97% (38/39)Compressing objects: 100% (39/39)Compressing objects: 100% (39/39), done.
Total 72070 (delta 23), reused 0 (delta 0), pack-reused 72031
Checking out cd2aa1f9628a88ff1a0d1b640f24808e5095ad24
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git cd2aa1f9628a88ff1a0d1b640f24808e5095ad24 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-30 22:01:45+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '7e0ce600-8876-4295-a04b-0ff8aa7196a0', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git cd2aa1f9628a88ff1a0d1b640f24808e5095ad24
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git
INFO:EventListener:OK 6556.266
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git cd2aa1f9628a88ff1a0d1b640f24808e5095ad24
ERROR:EventListener:FAIL 5596.380
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/herry-k/jitsi-meet-in.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'cfc7210ac8082f7f6cb09d520be7910f3466137b', '--to', 'cd2aa1f9628a88ff1a0d1b640f24808e5095ad24', '--git-dir', '/tmp/top-repos-quality-repos-0c50ge8a/jitsi-meet-in.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/feisty-flintstones/playground.git                         =
= 11 / 28                                                                      =
= Now:  2021-08-31 01:24:19.167084                                             =
= Left: 15:52:36.301379                                                        =
= Ends: 2021-08-31 17:16:55.468463                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /feisty-flintstones/playground.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /feisty-flintstones/playground.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 1355, done.
Counting objects:   2% (1/49)Counting objects:   4% (2/49)Counting objects:   6% (3/49)Counting objects:   8% (4/49)Counting objects:  10% (5/49)Counting objects:  12% (6/49)Counting objects:  14% (7/49)Counting objects:  16% (8/49)Counting objects:  18% (9/49)Counting objects:  20% (10/49)Counting objects:  22% (11/49)Counting objects:  24% (12/49)Counting objects:  26% (13/49)Counting objects:  28% (14/49)Counting objects:  30% (15/49)Counting objects:  32% (16/49)Counting objects:  34% (17/49)Counting objects:  36% (18/49)Counting objects:  38% (19/49)Counting objects:  40% (20/49)Counting objects:  42% (21/49)Counting objects:  44% (22/49)Counting objects:  46% (23/49)Counting objects:  48% (24/49)Counting objects:  51% (25/49)Counting objects:  53% (26/49)Counting objects:  55% (27/49)Counting objects:  57% (28/49)Counting objects:  59% (29/49)Counting objects:  61% (30/49)Counting objects:  63% (31/49)Counting objects:  65% (32/49)Counting objects:  67% (33/49)Counting objects:  69% (34/49)Counting objects:  71% (35/49)Counting objects:  73% (36/49)Counting objects:  75% (37/49)Counting objects:  77% (38/49)Counting objects:  79% (39/49)Counting objects:  81% (40/49)Counting objects:  83% (41/49)Counting objects:  85% (42/49)Counting objects:  87% (43/49)Counting objects:  89% (44/49)Counting objects:  91% (45/49)Counting objects:  93% (46/49)Counting objects:  95% (47/49)Counting objects:  97% (48/49)Counting objects: 100% (49/49)Counting objects: 100% (49/49), done.
Compressing objects:   2% (1/49)Compressing objects:   4% (2/49)Compressing objects:   6% (3/49)Compressing objects:   8% (4/49)Compressing objects:  10% (5/49)Compressing objects:  12% (6/49)Compressing objects:  14% (7/49)Compressing objects:  16% (8/49)Compressing objects:  18% (9/49)Compressing objects:  20% (10/49)Compressing objects:  22% (11/49)Compressing objects:  24% (12/49)Compressing objects:  26% (13/49)Compressing objects:  28% (14/49)Compressing objects:  30% (15/49)Compressing objects:  32% (16/49)Compressing objects:  34% (17/49)Compressing objects:  36% (18/49)Compressing objects:  38% (19/49)Compressing objects:  40% (20/49)Compressing objects:  42% (21/49)Compressing objects:  44% (22/49)Compressing objects:  46% (23/49)Compressing objects:  48% (24/49)Compressing objects:  51% (25/49)Compressing objects:  53% (26/49)Compressing objects:  55% (27/49)Compressing objects:  57% (28/49)Compressing objects:  59% (29/49)Compressing objects:  61% (30/49)Compressing objects:  63% (31/49)Compressing objects:  65% (32/49)Compressing objects:  67% (33/49)Compressing objects:  69% (34/49)Compressing objects:  71% (35/49)Compressing objects:  73% (36/49)Compressing objects:  75% (37/49)Compressing objects:  77% (38/49)Compressing objects:  79% (39/49)Compressing objects:  81% (40/49)Compressing objects:  83% (41/49)Compressing objects:  85% (42/49)Compressing objects:  87% (43/49)Compressing objects:  89% (44/49)Compressing objects:  91% (45/49)Compressing objects:  93% (46/49)Compressing objects:  95% (47/49)Compressing objects:  97% (48/49)Compressing objects: 100% (49/49)Compressing objects: 100% (49/49), done.
Total 1355 (delta 24), reused 0 (delta 0), pack-reused 1306
Checking out 0dd9efc81280379d819888dd7cde90205e93c71d
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git 0dd9efc81280379d819888dd7cde90205e93c71d {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 01:24:42+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'cfb1e01e-a472-49d9-a9b8-4ca9e1cdeef0', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git 0dd9efc81280379d819888dd7cde90205e93c71d
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git
INFO:EventListener:OK 322.495
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-4kxu6w20/playground/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-4kxu6w20/playground/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-4kxu6w20/playground.git 0dd9efc81280379d819888dd7cde90205e93c71d
ERROR:EventListener:FAIL 258.044
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/feisty-flintstones/playground.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '9575d6e094369977f0d460976d24282cb0c021c8', '--to', '0dd9efc81280379d819888dd7cde90205e93c71d', '--git-dir', '/tmp/top-repos-quality-repos-4kxu6w20/playground.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/devgateway/amp-offline.git                                =
= 12 / 28                                                                      =
= Now:  2021-08-31 01:34:23.980558                                             =
= Left: 13:53:28.303825                                                        =
= Ends: 2021-08-31 15:27:52.284383                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /devgateway/amp-offline.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /devgateway/amp-offline.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 38555, done.
Counting objects:   0% (1/646)Counting objects:   1% (7/646)Counting objects:   2% (13/646)Counting objects:   3% (20/646)Counting objects:   4% (26/646)Counting objects:   5% (33/646)Counting objects:   6% (39/646)Counting objects:   7% (46/646)Counting objects:   8% (52/646)Counting objects:   9% (59/646)Counting objects:  10% (65/646)Counting objects:  11% (72/646)Counting objects:  12% (78/646)Counting objects:  13% (84/646)Counting objects:  14% (91/646)Counting objects:  15% (97/646)Counting objects:  16% (104/646)Counting objects:  17% (110/646)Counting objects:  18% (117/646)Counting objects:  19% (123/646)Counting objects:  20% (130/646)Counting objects:  21% (136/646)Counting objects:  22% (143/646)Counting objects:  23% (149/646)Counting objects:  24% (156/646)Counting objects:  25% (162/646)Counting objects:  26% (168/646)Counting objects:  27% (175/646)Counting objects:  28% (181/646)Counting objects:  29% (188/646)Counting objects:  30% (194/646)Counting objects:  31% (201/646)Counting objects:  32% (207/646)Counting objects:  33% (214/646)Counting objects:  34% (220/646)Counting objects:  35% (227/646)Counting objects:  36% (233/646)Counting objects:  37% (240/646)Counting objects:  38% (246/646)Counting objects:  39% (252/646)Counting objects:  40% (259/646)Counting objects:  41% (265/646)Counting objects:  42% (272/646)Counting objects:  43% (278/646)Counting objects:  44% (285/646)Counting objects:  45% (291/646)Counting objects:  46% (298/646)Counting objects:  47% (304/646)Counting objects:  48% (311/646)Counting objects:  49% (317/646)Counting objects:  50% (323/646)Counting objects:  51% (330/646)Counting objects:  52% (336/646)Counting objects:  53% (343/646)Counting objects:  54% (349/646)Counting objects:  55% (356/646)Counting objects:  56% (362/646)Counting objects:  57% (369/646)Counting objects:  58% (375/646)Counting objects:  59% (382/646)Counting objects:  60% (388/646)Counting objects:  61% (395/646)Counting objects:  62% (401/646)Counting objects:  63% (407/646)Counting objects:  64% (414/646)Counting objects:  65% (420/646)Counting objects:  66% (427/646)Counting objects:  67% (433/646)Counting objects:  68% (440/646)Counting objects:  69% (446/646)Counting objects:  70% (453/646)Counting objects:  71% (459/646)Counting objects:  72% (466/646)Counting objects:  73% (472/646)Counting objects:  74% (479/646)Counting objects:  75% (485/646)Counting objects:  76% (491/646)Counting objects:  77% (498/646)Counting objects:  78% (504/646)Counting objects:  79% (511/646)Counting objects:  80% (517/646)Counting objects:  81% (524/646)Counting objects:  82% (530/646)Counting objects:  83% (537/646)Counting objects:  84% (543/646)Counting objects:  85% (550/646)Counting objects:  86% (556/646)Counting objects:  87% (563/646)Counting objects:  88% (569/646)Counting objects:  89% (575/646)Counting objects:  90% (582/646)Counting objects:  91% (588/646)Counting objects:  92% (595/646)Counting objects:  93% (601/646)Counting objects:  94% (608/646)Counting objects:  95% (614/646)Counting objects:  96% (621/646)Counting objects:  97% (627/646)Counting objects:  98% (634/646)Counting objects:  99% (640/646)Counting objects: 100% (646/646)Counting objects: 100% (646/646), done.
Compressing objects:   0% (1/302)Compressing objects:   1% (4/302)Compressing objects:   2% (7/302)Compressing objects:   3% (10/302)Compressing objects:   4% (13/302)Compressing objects:   5% (16/302)Compressing objects:   6% (19/302)Compressing objects:   7% (22/302)Compressing objects:   8% (25/302)Compressing objects:   9% (28/302)Compressing objects:  10% (31/302)Compressing objects:  11% (34/302)Compressing objects:  12% (37/302)Compressing objects:  13% (40/302)Compressing objects:  14% (43/302)Compressing objects:  15% (46/302)Compressing objects:  16% (49/302)Compressing objects:  17% (52/302)Compressing objects:  18% (55/302)Compressing objects:  19% (58/302)Compressing objects:  20% (61/302)Compressing objects:  21% (64/302)Compressing objects:  22% (67/302)Compressing objects:  23% (70/302)Compressing objects:  24% (73/302)Compressing objects:  25% (76/302)Compressing objects:  26% (79/302)Compressing objects:  27% (82/302)Compressing objects:  28% (85/302)Compressing objects:  29% (88/302)Compressing objects:  30% (91/302)Compressing objects:  31% (94/302)Compressing objects:  32% (97/302)Compressing objects:  33% (100/302)Compressing objects:  34% (103/302)Compressing objects:  35% (106/302)Compressing objects:  36% (109/302)Compressing objects:  37% (112/302)Compressing objects:  38% (115/302)Compressing objects:  39% (118/302)Compressing objects:  40% (121/302)Compressing objects:  41% (124/302)Compressing objects:  42% (127/302)Compressing objects:  43% (130/302)Compressing objects:  44% (133/302)Compressing objects:  45% (136/302)Compressing objects:  46% (139/302)Compressing objects:  47% (142/302)Compressing objects:  48% (145/302)Compressing objects:  49% (148/302)Compressing objects:  50% (151/302)Compressing objects:  51% (155/302)Compressing objects:  52% (158/302)Compressing objects:  53% (161/302)Compressing objects:  54% (164/302)Compressing objects:  55% (167/302)Compressing objects:  56% (170/302)Compressing objects:  57% (173/302)Compressing objects:  58% (176/302)Compressing objects:  59% (179/302)Compressing objects:  60% (182/302)Compressing objects:  61% (185/302)Compressing objects:  62% (188/302)Compressing objects:  63% (191/302)Compressing objects:  64% (194/302)Compressing objects:  65% (197/302)Compressing objects:  66% (200/302)Compressing objects:  67% (203/302)Compressing objects:  68% (206/302)Compressing objects:  69% (209/302)Compressing objects:  70% (212/302)Compressing objects:  71% (215/302)Compressing objects:  72% (218/302)Compressing objects:  73% (221/302)Compressing objects:  74% (224/302)Compressing objects:  75% (227/302)Compressing objects:  76% (230/302)Compressing objects:  77% (233/302)Compressing objects:  78% (236/302)Compressing objects:  79% (239/302)Compressing objects:  80% (242/302)Compressing objects:  81% (245/302)Compressing objects:  82% (248/302)Compressing objects:  83% (251/302)Compressing objects:  84% (254/302)Compressing objects:  85% (257/302)Compressing objects:  86% (260/302)Compressing objects:  87% (263/302)Compressing objects:  88% (266/302)Compressing objects:  89% (269/302)Compressing objects:  90% (272/302)Compressing objects:  91% (275/302)Compressing objects:  92% (278/302)Compressing objects:  93% (281/302)Compressing objects:  94% (284/302)Compressing objects:  95% (287/302)Compressing objects:  96% (290/302)Compressing objects:  97% (293/302)Compressing objects:  98% (296/302)Compressing objects:  99% (299/302)Compressing objects: 100% (302/302)Compressing objects: 100% (302/302), done.
Total 38555 (delta 394), reused 573 (delta 340), pack-reused 37909
Checking out eb53d8932eabba19a602ae31160f2b1655f814f2
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git eb53d8932eabba19a602ae31160f2b1655f814f2 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 01:34:29+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2af0bb49-7711-4589-be05-c89c1dfeae32', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git eb53d8932eabba19a602ae31160f2b1655f814f2
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git
INFO:EventListener:OK 2716.997
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-zrl9_xpz/amp-offline/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-zrl9_xpz/amp-offline/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git eb53d8932eabba19a602ae31160f2b1655f814f2
ERROR:EventListener:FAIL 2637.263
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/devgateway/amp-offline.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '7d00a4cca006032de08b53a91298c16b296a2a4e', '--to', 'eb53d8932eabba19a602ae31160f2b1655f814f2', '--git-dir', '/tmp/top-repos-quality-repos-zrl9_xpz/amp-offline.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/binhle87/loopback3-core.git                               =
= 13 / 28                                                                      =
= Now:  2021-08-31 03:03:44.207009                                             =
= Left: 13:58:11.387588                                                        =
= Ends: 2021-08-31 17:01:55.594597                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /binhle87/loopback3-core.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /binhle87/loopback3-core.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 13097, done.
Counting objects:   0% (1/157)Counting objects:   1% (2/157)Counting objects:   2% (4/157)Counting objects:   3% (5/157)Counting objects:   4% (7/157)Counting objects:   5% (8/157)Counting objects:   6% (10/157)Counting objects:   7% (11/157)Counting objects:   8% (13/157)Counting objects:   9% (15/157)Counting objects:  10% (16/157)Counting objects:  11% (18/157)Counting objects:  12% (19/157)Counting objects:  13% (21/157)Counting objects:  14% (22/157)Counting objects:  15% (24/157)Counting objects:  16% (26/157)Counting objects:  17% (27/157)Counting objects:  18% (29/157)Counting objects:  19% (30/157)Counting objects:  20% (32/157)Counting objects:  21% (33/157)Counting objects:  22% (35/157)Counting objects:  23% (37/157)Counting objects:  24% (38/157)Counting objects:  25% (40/157)Counting objects:  26% (41/157)Counting objects:  27% (43/157)Counting objects:  28% (44/157)Counting objects:  29% (46/157)Counting objects:  30% (48/157)Counting objects:  31% (49/157)Counting objects:  32% (51/157)Counting objects:  33% (52/157)Counting objects:  34% (54/157)Counting objects:  35% (55/157)Counting objects:  36% (57/157)Counting objects:  37% (59/157)Counting objects:  38% (60/157)Counting objects:  39% (62/157)Counting objects:  40% (63/157)Counting objects:  41% (65/157)Counting objects:  42% (66/157)Counting objects:  43% (68/157)Counting objects:  44% (70/157)Counting objects:  45% (71/157)Counting objects:  46% (73/157)Counting objects:  47% (74/157)Counting objects:  48% (76/157)Counting objects:  49% (77/157)Counting objects:  50% (79/157)Counting objects:  51% (81/157)Counting objects:  52% (82/157)Counting objects:  53% (84/157)Counting objects:  54% (85/157)Counting objects:  55% (87/157)Counting objects:  56% (88/157)Counting objects:  57% (90/157)Counting objects:  58% (92/157)Counting objects:  59% (93/157)Counting objects:  60% (95/157)Counting objects:  61% (96/157)Counting objects:  62% (98/157)Counting objects:  63% (99/157)Counting objects:  64% (101/157)Counting objects:  65% (103/157)Counting objects:  66% (104/157)Counting objects:  67% (106/157)Counting objects:  68% (107/157)Counting objects:  69% (109/157)Counting objects:  70% (110/157)Counting objects:  71% (112/157)Counting objects:  72% (114/157)Counting objects:  73% (115/157)Counting objects:  74% (117/157)Counting objects:  75% (118/157)Counting objects:  76% (120/157)Counting objects:  77% (121/157)Counting objects:  78% (123/157)Counting objects:  79% (125/157)Counting objects:  80% (126/157)Counting objects:  81% (128/157)Counting objects:  82% (129/157)Counting objects:  83% (131/157)Counting objects:  84% (132/157)Counting objects:  85% (134/157)Counting objects:  86% (136/157)Counting objects:  87% (137/157)Counting objects:  88% (139/157)Counting objects:  89% (140/157)Counting objects:  90% (142/157)Counting objects:  91% (143/157)Counting objects:  92% (145/157)Counting objects:  93% (147/157)Counting objects:  94% (148/157)Counting objects:  95% (150/157)Counting objects:  96% (151/157)Counting objects:  97% (153/157)Counting objects:  98% (154/157)Counting objects:  99% (156/157)Counting objects: 100% (157/157)Counting objects: 100% (157/157), done.
Compressing objects:   0% (1/150)Compressing objects:   1% (2/150)Compressing objects:   2% (3/150)Compressing objects:   3% (5/150)Compressing objects:   4% (6/150)Compressing objects:   5% (8/150)Compressing objects:   6% (9/150)Compressing objects:   7% (11/150)Compressing objects:   8% (12/150)Compressing objects:   9% (14/150)Compressing objects:  10% (15/150)Compressing objects:  11% (17/150)Compressing objects:  12% (18/150)Compressing objects:  13% (20/150)Compressing objects:  14% (21/150)Compressing objects:  15% (23/150)Compressing objects:  16% (24/150)Compressing objects:  17% (26/150)Compressing objects:  18% (27/150)Compressing objects:  19% (29/150)Compressing objects:  20% (30/150)Compressing objects:  21% (32/150)Compressing objects:  22% (33/150)Compressing objects:  23% (35/150)Compressing objects:  24% (36/150)Compressing objects:  25% (38/150)Compressing objects:  26% (39/150)Compressing objects:  27% (41/150)Compressing objects:  28% (42/150)Compressing objects:  29% (44/150)Compressing objects:  30% (45/150)Compressing objects:  31% (47/150)Compressing objects:  32% (48/150)Compressing objects:  33% (50/150)Compressing objects:  34% (51/150)Compressing objects:  35% (53/150)Compressing objects:  36% (54/150)Compressing objects:  37% (56/150)Compressing objects:  38% (57/150)Compressing objects:  39% (59/150)Compressing objects:  40% (60/150)Compressing objects:  41% (62/150)Compressing objects:  42% (63/150)Compressing objects:  43% (65/150)Compressing objects:  44% (66/150)Compressing objects:  45% (68/150)Compressing objects:  46% (69/150)Compressing objects:  47% (71/150)Compressing objects:  48% (72/150)Compressing objects:  49% (74/150)Compressing objects:  50% (75/150)Compressing objects:  51% (77/150)Compressing objects:  52% (78/150)Compressing objects:  53% (80/150)Compressing objects:  54% (81/150)Compressing objects:  55% (83/150)Compressing objects:  56% (84/150)Compressing objects:  57% (86/150)Compressing objects:  58% (87/150)Compressing objects:  59% (89/150)Compressing objects:  60% (90/150)Compressing objects:  61% (92/150)Compressing objects:  62% (93/150)Compressing objects:  63% (95/150)Compressing objects:  64% (96/150)Compressing objects:  65% (98/150)Compressing objects:  66% (99/150)Compressing objects:  67% (101/150)Compressing objects:  68% (102/150)Compressing objects:  69% (104/150)Compressing objects:  70% (105/150)Compressing objects:  71% (107/150)Compressing objects:  72% (108/150)Compressing objects:  73% (110/150)Compressing objects:  74% (111/150)Compressing objects:  75% (113/150)Compressing objects:  76% (114/150)Compressing objects:  77% (116/150)Compressing objects:  78% (117/150)Compressing objects:  79% (119/150)Compressing objects:  80% (120/150)Compressing objects:  81% (122/150)Compressing objects:  82% (123/150)Compressing objects:  83% (125/150)Compressing objects:  84% (126/150)Compressing objects:  85% (128/150)Compressing objects:  86% (129/150)Compressing objects:  87% (131/150)Compressing objects:  88% (132/150)Compressing objects:  89% (134/150)Compressing objects:  90% (135/150)Compressing objects:  91% (137/150)Compressing objects:  92% (138/150)Compressing objects:  93% (140/150)Compressing objects:  94% (141/150)Compressing objects:  95% (143/150)Compressing objects:  96% (144/150)Compressing objects:  97% (146/150)Compressing objects:  98% (147/150)Compressing objects:  99% (149/150)Compressing objects: 100% (150/150)Compressing objects: 100% (150/150), done.
Total 13097 (delta 109), reused 0 (delta 0), pack-reused 12940
Checking out 75d6745945bdba4122dd0daa5a8fb0c2227cc2a4
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git 75d6745945bdba4122dd0daa5a8fb0c2227cc2a4 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 03:03:51+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '2f3251d2-14c7-4eaa-9c14-c4b88908ee05', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git 75d6745945bdba4122dd0daa5a8fb0c2227cc2a4
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git
INFO:EventListener:OK 301.011
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git 75d6745945bdba4122dd0daa5a8fb0c2227cc2a4
ERROR:EventListener:FAIL 687.197
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/binhle87/loopback3-core.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '2d31c3fee81998286abf3455d636780527e48a06', '--to', '75d6745945bdba4122dd0daa5a8fb0c2227cc2a4', '--git-dir', '/tmp/top-repos-quality-repos-i0k_yr9e/loopback3-core.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/ethang19/jpfp-redo.git                                    =
= 14 / 28                                                                      =
= Now:  2021-08-31 03:20:19.951778                                             =
= Left: 12:24:30.329377                                                        =
= Ends: 2021-08-31 15:44:50.281155                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /ethang19/jpfp-redo.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /ethang19/jpfp-redo.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 616, done.
Counting objects:   0% (1/616)Counting objects:   1% (7/616)Counting objects:   2% (13/616)Counting objects:   3% (19/616)Counting objects:   4% (25/616)Counting objects:   5% (31/616)Counting objects:   6% (37/616)Counting objects:   7% (44/616)Counting objects:   8% (50/616)Counting objects:   9% (56/616)Counting objects:  10% (62/616)Counting objects:  11% (68/616)Counting objects:  12% (74/616)Counting objects:  13% (81/616)Counting objects:  14% (87/616)Counting objects:  15% (93/616)Counting objects:  16% (99/616)Counting objects:  17% (105/616)Counting objects:  18% (111/616)Counting objects:  19% (118/616)Counting objects:  20% (124/616)Counting objects:  21% (130/616)Counting objects:  22% (136/616)Counting objects:  23% (142/616)Counting objects:  24% (148/616)Counting objects:  25% (154/616)Counting objects:  26% (161/616)Counting objects:  27% (167/616)Counting objects:  28% (173/616)Counting objects:  29% (179/616)Counting objects:  30% (185/616)Counting objects:  31% (191/616)Counting objects:  32% (198/616)Counting objects:  33% (204/616)Counting objects:  34% (210/616)Counting objects:  35% (216/616)Counting objects:  36% (222/616)Counting objects:  37% (228/616)Counting objects:  38% (235/616)Counting objects:  39% (241/616)Counting objects:  40% (247/616)Counting objects:  41% (253/616)Counting objects:  42% (259/616)Counting objects:  43% (265/616)Counting objects:  44% (272/616)Counting objects:  45% (278/616)Counting objects:  46% (284/616)Counting objects:  47% (290/616)Counting objects:  48% (296/616)Counting objects:  49% (302/616)Counting objects:  50% (308/616)Counting objects:  51% (315/616)Counting objects:  52% (321/616)Counting objects:  53% (327/616)Counting objects:  54% (333/616)Counting objects:  55% (339/616)Counting objects:  56% (345/616)Counting objects:  57% (352/616)Counting objects:  58% (358/616)Counting objects:  59% (364/616)Counting objects:  60% (370/616)Counting objects:  61% (376/616)Counting objects:  62% (382/616)Counting objects:  63% (389/616)Counting objects:  64% (395/616)Counting objects:  65% (401/616)Counting objects:  66% (407/616)Counting objects:  67% (413/616)Counting objects:  68% (419/616)Counting objects:  69% (426/616)Counting objects:  70% (432/616)Counting objects:  71% (438/616)Counting objects:  72% (444/616)Counting objects:  73% (450/616)Counting objects:  74% (456/616)Counting objects:  75% (462/616)Counting objects:  76% (469/616)Counting objects:  77% (475/616)Counting objects:  78% (481/616)Counting objects:  79% (487/616)Counting objects:  80% (493/616)Counting objects:  81% (499/616)Counting objects:  82% (506/616)Counting objects:  83% (512/616)Counting objects:  84% (518/616)Counting objects:  85% (524/616)Counting objects:  86% (530/616)Counting objects:  87% (536/616)Counting objects:  88% (543/616)Counting objects:  89% (549/616)Counting objects:  90% (555/616)Counting objects:  91% (561/616)Counting objects:  92% (567/616)Counting objects:  93% (573/616)Counting objects:  94% (580/616)Counting objects:  95% (586/616)Counting objects:  96% (592/616)Counting objects:  97% (598/616)Counting objects:  98% (604/616)Counting objects:  99% (610/616)Counting objects: 100% (616/616)Counting objects: 100% (616/616), done.
Compressing objects:   0% (1/323)Compressing objects:   1% (4/323)Compressing objects:   2% (7/323)Compressing objects:   3% (10/323)Compressing objects:   4% (13/323)Compressing objects:   5% (17/323)Compressing objects:   6% (20/323)Compressing objects:   7% (23/323)Compressing objects:   8% (26/323)Compressing objects:   9% (30/323)Compressing objects:  10% (33/323)Compressing objects:  11% (36/323)Compressing objects:  12% (39/323)Compressing objects:  13% (42/323)Compressing objects:  14% (46/323)Compressing objects:  15% (49/323)Compressing objects:  16% (52/323)Compressing objects:  17% (55/323)Compressing objects:  18% (59/323)Compressing objects:  19% (62/323)Compressing objects:  20% (65/323)Compressing objects:  21% (68/323)Compressing objects:  22% (72/323)Compressing objects:  23% (75/323)Compressing objects:  24% (78/323)Compressing objects:  25% (81/323)Compressing objects:  26% (84/323)Compressing objects:  27% (88/323)Compressing objects:  28% (91/323)Compressing objects:  29% (94/323)Compressing objects:  30% (97/323)Compressing objects:  31% (101/323)Compressing objects:  32% (104/323)Compressing objects:  33% (107/323)Compressing objects:  34% (110/323)Compressing objects:  35% (114/323)Compressing objects:  36% (117/323)Compressing objects:  37% (120/323)Compressing objects:  38% (123/323)Compressing objects:  39% (126/323)Compressing objects:  40% (130/323)Compressing objects:  41% (133/323)Compressing objects:  42% (136/323)Compressing objects:  43% (139/323)Compressing objects:  44% (143/323)Compressing objects:  45% (146/323)Compressing objects:  46% (149/323)Compressing objects:  47% (152/323)Compressing objects:  48% (156/323)Compressing objects:  49% (159/323)Compressing objects:  50% (162/323)Compressing objects:  51% (165/323)Compressing objects:  52% (168/323)Compressing objects:  53% (172/323)Compressing objects:  54% (175/323)Compressing objects:  55% (178/323)Compressing objects:  56% (181/323)Compressing objects:  57% (185/323)Compressing objects:  58% (188/323)Compressing objects:  59% (191/323)Compressing objects:  60% (194/323)Compressing objects:  61% (198/323)Compressing objects:  62% (201/323)Compressing objects:  63% (204/323)Compressing objects:  64% (207/323)Compressing objects:  65% (210/323)Compressing objects:  66% (214/323)Compressing objects:  67% (217/323)Compressing objects:  68% (220/323)Compressing objects:  69% (223/323)Compressing objects:  70% (227/323)Compressing objects:  71% (230/323)Compressing objects:  72% (233/323)Compressing objects:  73% (236/323)Compressing objects:  74% (240/323)Compressing objects:  75% (243/323)Compressing objects:  76% (246/323)Compressing objects:  77% (249/323)Compressing objects:  78% (252/323)Compressing objects:  79% (256/323)Compressing objects:  80% (259/323)Compressing objects:  81% (262/323)Compressing objects:  82% (265/323)Compressing objects:  83% (269/323)Compressing objects:  84% (272/323)Compressing objects:  85% (275/323)Compressing objects:  86% (278/323)Compressing objects:  87% (282/323)Compressing objects:  88% (285/323)Compressing objects:  89% (288/323)Compressing objects:  90% (291/323)Compressing objects:  91% (294/323)Compressing objects:  92% (298/323)Compressing objects:  93% (301/323)Compressing objects:  94% (304/323)Compressing objects:  95% (307/323)Compressing objects:  96% (311/323)Compressing objects:  97% (314/323)Compressing objects:  98% (317/323)Compressing objects:  99% (320/323)Compressing objects: 100% (323/323)Compressing objects: 100% (323/323), done.
Total 616 (delta 283), reused 565 (delta 257), pack-reused 0
Checking out 18c087278b7c1ee5ad557de45ed88f5a71fd2f19
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git 18c087278b7c1ee5ad557de45ed88f5a71fd2f19 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 03:20:21+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '467c3466-946a-48fd-8547-f9cf2bddc5a8', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git 18c087278b7c1ee5ad557de45ed88f5a71fd2f19
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git
INFO:EventListener:OK 117.002
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-dunldsug/jpfp-redo/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-dunldsug/jpfp-redo/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git 18c087278b7c1ee5ad557de45ed88f5a71fd2f19
ERROR:EventListener:FAIL 56.879
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/ethang19/jpfp-redo.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '47da2059decb3507e4a4047a9c193b2a65de2dc1', '--to', '18c087278b7c1ee5ad557de45ed88f5a71fd2f19', '--git-dir', '/tmp/top-repos-quality-repos-dunldsug/jpfp-redo.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/hengxiaoqu/jeesite.git                                    =
= 15 / 28                                                                      =
= Now:  2021-08-31 03:23:15.337063                                             =
= Left: 10:48:09.670745                                                        =
= Ends: 2021-08-31 14:11:25.007808                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /hengxiaoqu/jeesite.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /hengxiaoqu/jeesite.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 15991, done.
Total 15991 (delta 0), reused 0 (delta 0), pack-reused 15991
Checking out a6d9ba89abeec491b5b239db212128326d6b43ef
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git a6d9ba89abeec491b5b239db212128326d6b43ef {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 03:23:32+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'd9338ef9-c990-454c-8a05-b4e5b5dd1a43', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git a6d9ba89abeec491b5b239db212128326d6b43ef
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git
INFO:EventListener:OK 4505.054
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-whu3tc2r/jeesite/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-whu3tc2r/jeesite/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-whu3tc2r/jeesite.git a6d9ba89abeec491b5b239db212128326d6b43ef
ERROR:EventListener:FAIL 4436.115
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/hengxiaoqu/jeesite.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '0a26610de0979da3bf73fcaef2c3e56fda11b528', '--to', 'a6d9ba89abeec491b5b239db212128326d6b43ef', '--git-dir', '/tmp/top-repos-quality-repos-whu3tc2r/jeesite.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/joshtom/contact-list-app.git                              =
= 16 / 28                                                                      =
= Now:  2021-08-31 05:52:34.489658                                             =
= Left: 11:31:08.980228                                                        =
= Ends: 2021-08-31 17:23:43.469886                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /joshtom/contact-list-app.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /joshtom/contact-list-app.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 217, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Compressing objects:  20% (1/5)Compressing objects:  40% (2/5)Compressing objects:  60% (3/5)Compressing objects:  80% (4/5)Compressing objects: 100% (5/5)Compressing objects: 100% (5/5), done.
Total 217 (delta 0), reused 0 (delta 0), pack-reused 212
Checking out d2d9c26d20f6e8242f8ada0803628a01ea89e263
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git d2d9c26d20f6e8242f8ada0803628a01ea89e263 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 05:52:35+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '416409a5-8816-4522-aaa6-c4920ee58af8', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git d2d9c26d20f6e8242f8ada0803628a01ea89e263
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git
INFO:EventListener:OK 40.454
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-ozka40gt/contact-list-app/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-ozka40gt/contact-list-app/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git d2d9c26d20f6e8242f8ada0803628a01ea89e263
ERROR:EventListener:FAIL 100.458
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/joshtom/contact-list-app.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '0f6798eecb173b8ffa4917045a7f5e89fc42a150', '--to', 'd2d9c26d20f6e8242f8ada0803628a01ea89e263', '--git-dir', '/tmp/top-repos-quality-repos-ozka40gt/contact-list-app.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/connormulqueen/mechanical-squirrel.git                    =
= 17 / 28                                                                      =
= Now:  2021-08-31 05:54:56.641641                                             =
= Left: 9:59:53.231492                                                         =
= Ends: 2021-08-31 15:54:49.873133                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /connormulqueen/mechanical-squirrel.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /connormulqueen/mechanical-squirrel.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 584, done.
Counting objects:   1% (1/93)Counting objects:   2% (2/93)Counting objects:   3% (3/93)Counting objects:   4% (4/93)Counting objects:   5% (5/93)Counting objects:   6% (6/93)Counting objects:   7% (7/93)Counting objects:   8% (8/93)Counting objects:   9% (9/93)Counting objects:  10% (10/93)Counting objects:  11% (11/93)Counting objects:  12% (12/93)Counting objects:  13% (13/93)Counting objects:  15% (14/93)Counting objects:  16% (15/93)Counting objects:  17% (16/93)Counting objects:  18% (17/93)Counting objects:  19% (18/93)Counting objects:  20% (19/93)Counting objects:  21% (20/93)Counting objects:  22% (21/93)Counting objects:  23% (22/93)Counting objects:  24% (23/93)Counting objects:  25% (24/93)Counting objects:  26% (25/93)Counting objects:  27% (26/93)Counting objects:  29% (27/93)Counting objects:  30% (28/93)Counting objects:  31% (29/93)Counting objects:  32% (30/93)Counting objects:  33% (31/93)Counting objects:  34% (32/93)Counting objects:  35% (33/93)Counting objects:  36% (34/93)Counting objects:  37% (35/93)Counting objects:  38% (36/93)Counting objects:  39% (37/93)Counting objects:  40% (38/93)Counting objects:  41% (39/93)Counting objects:  43% (40/93)Counting objects:  44% (41/93)Counting objects:  45% (42/93)Counting objects:  46% (43/93)Counting objects:  47% (44/93)Counting objects:  48% (45/93)Counting objects:  49% (46/93)Counting objects:  50% (47/93)Counting objects:  51% (48/93)Counting objects:  52% (49/93)Counting objects:  53% (50/93)Counting objects:  54% (51/93)Counting objects:  55% (52/93)Counting objects:  56% (53/93)Counting objects:  58% (54/93)Counting objects:  59% (55/93)Counting objects:  60% (56/93)Counting objects:  61% (57/93)Counting objects:  62% (58/93)Counting objects:  63% (59/93)Counting objects:  64% (60/93)Counting objects:  65% (61/93)Counting objects:  66% (62/93)Counting objects:  67% (63/93)Counting objects:  68% (64/93)Counting objects:  69% (65/93)Counting objects:  70% (66/93)Counting objects:  72% (67/93)Counting objects:  73% (68/93)Counting objects:  74% (69/93)Counting objects:  75% (70/93)Counting objects:  76% (71/93)Counting objects:  77% (72/93)Counting objects:  78% (73/93)Counting objects:  79% (74/93)Counting objects:  80% (75/93)Counting objects:  81% (76/93)Counting objects:  82% (77/93)Counting objects:  83% (78/93)Counting objects:  84% (79/93)Counting objects:  86% (80/93)Counting objects:  87% (81/93)Counting objects:  88% (82/93)Counting objects:  89% (83/93)Counting objects:  90% (84/93)Counting objects:  91% (85/93)Counting objects:  92% (86/93)Counting objects:  93% (87/93)Counting objects:  94% (88/93)Counting objects:  95% (89/93)Counting objects:  96% (90/93)Counting objects:  97% (91/93)Counting objects:  98% (92/93)Counting objects: 100% (93/93)Counting objects: 100% (93/93), done.
Compressing objects:   1% (1/77)Compressing objects:   2% (2/77)Compressing objects:   3% (3/77)Compressing objects:   5% (4/77)Compressing objects:   6% (5/77)Compressing objects:   7% (6/77)Compressing objects:   9% (7/77)Compressing objects:  10% (8/77)Compressing objects:  11% (9/77)Compressing objects:  12% (10/77)Compressing objects:  14% (11/77)Compressing objects:  15% (12/77)Compressing objects:  16% (13/77)Compressing objects:  18% (14/77)Compressing objects:  19% (15/77)Compressing objects:  20% (16/77)Compressing objects:  22% (17/77)Compressing objects:  23% (18/77)Compressing objects:  24% (19/77)Compressing objects:  25% (20/77)Compressing objects:  27% (21/77)Compressing objects:  28% (22/77)Compressing objects:  29% (23/77)Compressing objects:  31% (24/77)Compressing objects:  32% (25/77)Compressing objects:  33% (26/77)Compressing objects:  35% (27/77)Compressing objects:  36% (28/77)Compressing objects:  37% (29/77)Compressing objects:  38% (30/77)Compressing objects:  40% (31/77)Compressing objects:  41% (32/77)Compressing objects:  42% (33/77)Compressing objects:  44% (34/77)Compressing objects:  45% (35/77)Compressing objects:  46% (36/77)Compressing objects:  48% (37/77)Compressing objects:  49% (38/77)Compressing objects:  50% (39/77)Compressing objects:  51% (40/77)Compressing objects:  53% (41/77)Compressing objects:  54% (42/77)Compressing objects:  55% (43/77)Compressing objects:  57% (44/77)Compressing objects:  58% (45/77)Compressing objects:  59% (46/77)Compressing objects:  61% (47/77)Compressing objects:  62% (48/77)Compressing objects:  63% (49/77)Compressing objects:  64% (50/77)Compressing objects:  66% (51/77)Compressing objects:  67% (52/77)Compressing objects:  68% (53/77)Compressing objects:  70% (54/77)Compressing objects:  71% (55/77)Compressing objects:  72% (56/77)Compressing objects:  74% (57/77)Compressing objects:  75% (58/77)Compressing objects:  76% (59/77)Compressing objects:  77% (60/77)Compressing objects:  79% (61/77)Compressing objects:  80% (62/77)Compressing objects:  81% (63/77)Compressing objects:  83% (64/77)Compressing objects:  84% (65/77)Compressing objects:  85% (66/77)Compressing objects:  87% (67/77)Compressing objects:  88% (68/77)Compressing objects:  89% (69/77)Compressing objects:  90% (70/77)Compressing objects:  92% (71/77)Compressing objects:  93% (72/77)Compressing objects:  94% (73/77)Compressing objects:  96% (74/77)Compressing objects:  97% (75/77)Compressing objects:  98% (76/77)Compressing objects: 100% (77/77)Compressing objects: 100% (77/77), done.
Total 584 (delta 46), reused 0 (delta 0), pack-reused 491
Checking out 6dd0ba3bb0fa5636a5edfa9ed0ef80885e4f10c6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git 6dd0ba3bb0fa5636a5edfa9ed0ef80885e4f10c6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 05:55:01+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '3bace8b1-d9ee-4b92-83e1-2e0f0d17512b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git 6dd0ba3bb0fa5636a5edfa9ed0ef80885e4f10c6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git
INFO:EventListener:OK 103.680
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git 6dd0ba3bb0fa5636a5edfa9ed0ef80885e4f10c6
ERROR:EventListener:FAIL 119.527
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/connormulqueen/mechanical-squirrel.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '25d1c683f301d5da3000c12d32bed060b45eed24', '--to', '6dd0ba3bb0fa5636a5edfa9ed0ef80885e4f10c6', '--git-dir', '/tmp/top-repos-quality-repos-abqyzgx6/mechanical-squirrel.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/thomllobece/nodejs_course_project.git                     =
= 18 / 28                                                                      =
= Now:  2021-08-31 05:58:45.353619                                             =
= Left: 8:40:00.974136                                                         =
= Ends: 2021-08-31 14:38:46.327755                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /thomllobece/nodejs_course_project.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /thomllobece/nodejs_course_project.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 30643, done.
Counting objects:   2% (1/41)Counting objects:   4% (2/41)Counting objects:   7% (3/41)Counting objects:   9% (4/41)Counting objects:  12% (5/41)Counting objects:  14% (6/41)Counting objects:  17% (7/41)Counting objects:  19% (8/41)Counting objects:  21% (9/41)Counting objects:  24% (10/41)Counting objects:  26% (11/41)Counting objects:  29% (12/41)Counting objects:  31% (13/41)Counting objects:  34% (14/41)Counting objects:  36% (15/41)Counting objects:  39% (16/41)Counting objects:  41% (17/41)Counting objects:  43% (18/41)Counting objects:  46% (19/41)Counting objects:  48% (20/41)Counting objects:  51% (21/41)Counting objects:  53% (22/41)Counting objects:  56% (23/41)Counting objects:  58% (24/41)Counting objects:  60% (25/41)Counting objects:  63% (26/41)Counting objects:  65% (27/41)Counting objects:  68% (28/41)Counting objects:  70% (29/41)Counting objects:  73% (30/41)Counting objects:  75% (31/41)Counting objects:  78% (32/41)Counting objects:  80% (33/41)Counting objects:  82% (34/41)Counting objects:  85% (35/41)Counting objects:  87% (36/41)Counting objects:  90% (37/41)Counting objects:  92% (38/41)Counting objects:  95% (39/41)Counting objects:  97% (40/41)Counting objects: 100% (41/41)Counting objects: 100% (41/41), done.
Compressing objects:   2% (1/34)Compressing objects:   5% (2/34)Compressing objects:   8% (3/34)Compressing objects:  11% (4/34)Compressing objects:  14% (5/34)Compressing objects:  17% (6/34)Compressing objects:  20% (7/34)Compressing objects:  23% (8/34)Compressing objects:  26% (9/34)Compressing objects:  29% (10/34)Compressing objects:  32% (11/34)Compressing objects:  35% (12/34)Compressing objects:  38% (13/34)Compressing objects:  41% (14/34)Compressing objects:  44% (15/34)Compressing objects:  47% (16/34)Compressing objects:  50% (17/34)Compressing objects:  52% (18/34)Compressing objects:  55% (19/34)Compressing objects:  58% (20/34)Compressing objects:  61% (21/34)Compressing objects:  64% (22/34)Compressing objects:  67% (23/34)Compressing objects:  70% (24/34)Compressing objects:  73% (25/34)Compressing objects:  76% (26/34)Compressing objects:  79% (27/34)Compressing objects:  82% (28/34)Compressing objects:  85% (29/34)Compressing objects:  88% (30/34)Compressing objects:  91% (31/34)Compressing objects:  94% (32/34)Compressing objects:  97% (33/34)Compressing objects: 100% (34/34)Compressing objects: 100% (34/34), done.
Total 30643 (delta 20), reused 10 (delta 7), pack-reused 30602
Checking out 2b5b25cb120679e3aee6b79b1ad3dd0877a8f498
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git 2b5b25cb120679e3aee6b79b1ad3dd0877a8f498 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 05:58:53+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '8a270e63-8277-4b71-bae5-c8e497eda945', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git 2b5b25cb120679e3aee6b79b1ad3dd0877a8f498
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git
INFO:EventListener:OK 167.717
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project/style.format.analyzer.FormatAnalyzer_1.asdf (3.2 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git 2b5b25cb120679e3aee6b79b1ad3dd0877a8f498
ERROR:EventListener:FAIL 148.235
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/thomllobece/nodejs_course_project.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '0005b9f5c2154a76bb3ed7b973146880624e1b47', '--to', '2b5b25cb120679e3aee6b79b1ad3dd0877a8f498', '--git-dir', '/tmp/top-repos-quality-repos-tqce1ig2/nodejs_course_project.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/camismacho/programs.git                                   =
= 19 / 28                                                                      =
= Now:  2021-08-31 06:04:09.658486                                             =
= Left: 7:29:28.884538                                                         =
= Ends: 2021-08-31 13:33:38.543024                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /camismacho/programs.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /camismacho/programs.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4954, done.
Counting objects:   0% (1/354)Counting objects:   1% (4/354)Counting objects:   2% (8/354)Counting objects:   3% (11/354)Counting objects:   4% (15/354)Counting objects:   5% (18/354)Counting objects:   6% (22/354)Counting objects:   7% (25/354)Counting objects:   8% (29/354)Counting objects:   9% (32/354)Counting objects:  10% (36/354)Counting objects:  11% (39/354)Counting objects:  12% (43/354)Counting objects:  13% (47/354)Counting objects:  14% (50/354)Counting objects:  15% (54/354)Counting objects:  16% (57/354)Counting objects:  17% (61/354)Counting objects:  18% (64/354)Counting objects:  19% (68/354)Counting objects:  20% (71/354)Counting objects:  21% (75/354)Counting objects:  22% (78/354)Counting objects:  23% (82/354)Counting objects:  24% (85/354)Counting objects:  25% (89/354)Counting objects:  26% (93/354)Counting objects:  27% (96/354)Counting objects:  28% (100/354)Counting objects:  29% (103/354)Counting objects:  30% (107/354)Counting objects:  31% (110/354)Counting objects:  32% (114/354)Counting objects:  33% (117/354)Counting objects:  34% (121/354)Counting objects:  35% (124/354)Counting objects:  36% (128/354)Counting objects:  37% (131/354)Counting objects:  38% (135/354)Counting objects:  39% (139/354)Counting objects:  40% (142/354)Counting objects:  41% (146/354)Counting objects:  42% (149/354)Counting objects:  43% (153/354)Counting objects:  44% (156/354)Counting objects:  45% (160/354)Counting objects:  46% (163/354)Counting objects:  47% (167/354)Counting objects:  48% (170/354)Counting objects:  49% (174/354)Counting objects:  50% (177/354)Counting objects:  51% (181/354)Counting objects:  52% (185/354)Counting objects:  53% (188/354)Counting objects:  54% (192/354)Counting objects:  55% (195/354)Counting objects:  56% (199/354)Counting objects:  57% (202/354)Counting objects:  58% (206/354)Counting objects:  59% (209/354)Counting objects:  60% (213/354)Counting objects:  61% (216/354)Counting objects:  62% (220/354)Counting objects:  63% (224/354)Counting objects:  64% (227/354)Counting objects:  65% (231/354)Counting objects:  66% (234/354)Counting objects:  67% (238/354)Counting objects:  68% (241/354)Counting objects:  69% (245/354)Counting objects:  70% (248/354)Counting objects:  71% (252/354)Counting objects:  72% (255/354)Counting objects:  73% (259/354)Counting objects:  74% (262/354)Counting objects:  75% (266/354)Counting objects:  76% (270/354)Counting objects:  77% (273/354)Counting objects:  78% (277/354)Counting objects:  79% (280/354)Counting objects:  80% (284/354)Counting objects:  81% (287/354)Counting objects:  82% (291/354)Counting objects:  83% (294/354)Counting objects:  84% (298/354)Counting objects:  85% (301/354)Counting objects:  86% (305/354)Counting objects:  87% (308/354)Counting objects:  88% (312/354)Counting objects:  89% (316/354)Counting objects:  90% (319/354)Counting objects:  91% (323/354)Counting objects:  92% (326/354)Counting objects:  93% (330/354)Counting objects:  94% (333/354)Counting objects:  95% (337/354)Counting objects:  96% (340/354)Counting objects:  97% (344/354)Counting objects:  98% (347/354)Counting objects:  99% (351/354)Counting objects: 100% (354/354)Counting objects: 100% (354/354), done.
Compressing objects:   0% (1/282)Compressing objects:   1% (3/282)Compressing objects:   2% (6/282)Compressing objects:   3% (9/282)Compressing objects:   4% (12/282)Compressing objects:   5% (15/282)Compressing objects:   6% (17/282)Compressing objects:   7% (20/282)Compressing objects:   8% (23/282)Compressing objects:   9% (26/282)Compressing objects:  10% (29/282)Compressing objects:  11% (32/282)Compressing objects:  12% (34/282)Compressing objects:  13% (37/282)Compressing objects:  14% (40/282)Compressing objects:  15% (43/282)Compressing objects:  16% (46/282)Compressing objects:  17% (48/282)Compressing objects:  18% (51/282)Compressing objects:  19% (54/282)Compressing objects:  20% (57/282)Compressing objects:  21% (60/282)Compressing objects:  22% (63/282)Compressing objects:  23% (65/282)Compressing objects:  24% (68/282)Compressing objects:  25% (71/282)Compressing objects:  26% (74/282)Compressing objects:  27% (77/282)Compressing objects:  28% (79/282)Compressing objects:  29% (82/282)Compressing objects:  30% (85/282)Compressing objects:  31% (88/282)Compressing objects:  32% (91/282)Compressing objects:  33% (94/282)Compressing objects:  34% (96/282)Compressing objects:  35% (99/282)Compressing objects:  36% (102/282)Compressing objects:  37% (105/282)Compressing objects:  38% (108/282)Compressing objects:  39% (110/282)Compressing objects:  40% (113/282)Compressing objects:  41% (116/282)Compressing objects:  42% (119/282)Compressing objects:  43% (122/282)Compressing objects:  44% (125/282)Compressing objects:  45% (127/282)Compressing objects:  46% (130/282)Compressing objects:  47% (133/282)Compressing objects:  48% (136/282)Compressing objects:  49% (139/282)Compressing objects:  50% (141/282)Compressing objects:  51% (144/282)Compressing objects:  52% (147/282)Compressing objects:  53% (150/282)Compressing objects:  54% (153/282)Compressing objects:  55% (156/282)Compressing objects:  56% (158/282)Compressing objects:  57% (161/282)Compressing objects:  58% (164/282)Compressing objects:  59% (167/282)Compressing objects:  60% (170/282)Compressing objects:  61% (173/282)Compressing objects:  62% (175/282)Compressing objects:  63% (178/282)Compressing objects:  64% (181/282)Compressing objects:  65% (184/282)Compressing objects:  66% (187/282)Compressing objects:  67% (189/282)Compressing objects:  68% (192/282)Compressing objects:  69% (195/282)Compressing objects:  70% (198/282)Compressing objects:  71% (201/282)Compressing objects:  72% (204/282)Compressing objects:  73% (206/282)Compressing objects:  74% (209/282)Compressing objects:  75% (212/282)Compressing objects:  76% (215/282)Compressing objects:  77% (218/282)Compressing objects:  78% (220/282)Compressing objects:  79% (223/282)Compressing objects:  80% (226/282)Compressing objects:  81% (229/282)Compressing objects:  82% (232/282)Compressing objects:  83% (235/282)Compressing objects:  84% (237/282)Compressing objects:  85% (240/282)Compressing objects:  86% (243/282)Compressing objects:  87% (246/282)Compressing objects:  88% (249/282)Compressing objects:  89% (251/282)Compressing objects:  90% (254/282)Compressing objects:  91% (257/282)Compressing objects:  92% (260/282)Compressing objects:  93% (263/282)Compressing objects:  94% (266/282)Compressing objects:  95% (268/282)Compressing objects:  96% (271/282)Compressing objects:  97% (274/282)Compressing objects:  98% (277/282)Compressing objects:  99% (280/282)Compressing objects: 100% (282/282)Compressing objects: 100% (282/282), done.
Total 4954 (delta 146), reused 252 (delta 70), pack-reused 4600
Checking out 8d8a2d1b1d54d155efaa35ad6bb1e1b44dc651a4
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git 8d8a2d1b1d54d155efaa35ad6bb1e1b44dc651a4 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 06:04:37+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '0197b8d2-7922-420f-8f37-eddf84b179d3', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git 8d8a2d1b1d54d155efaa35ad6bb1e1b44dc651a4
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git
INFO:EventListener:OK 2814.106
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-2uc5dcek/programs/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-2uc5dcek/programs/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-2uc5dcek/programs.git 8d8a2d1b1d54d155efaa35ad6bb1e1b44dc651a4
ERROR:EventListener:FAIL 2784.370
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/camismacho/programs.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'f7b8e6def40df36af0dbdf8f822075be638a39be', '--to', '8d8a2d1b1d54d155efaa35ad6bb1e1b44dc651a4', '--git-dir', '/tmp/top-repos-quality-repos-2uc5dcek/programs.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/shaman05/fetool.git                                       =
= 20 / 28                                                                      =
= Now:  2021-08-31 07:37:56.838660                                             =
= Left: 7:07:40.029004                                                         =
= Ends: 2021-08-31 14:45:36.867664                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /shaman05/fetool.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /shaman05/fetool.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4292, done.
Total 4292 (delta 0), reused 0 (delta 0), pack-reused 4292
Checking out 5d553810ecfdf3218461a63d942aa1b5dc1073b3
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git 5d553810ecfdf3218461a63d942aa1b5dc1073b3 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 07:37:58+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'd80d7730-c255-4abd-8852-530c92fcff43', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git 5d553810ecfdf3218461a63d942aa1b5dc1073b3
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git
INFO:EventListener:OK 466.669
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-77c5fgo0/fetool/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-77c5fgo0/fetool/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-77c5fgo0/fetool.git 5d553810ecfdf3218461a63d942aa1b5dc1073b3
ERROR:EventListener:FAIL 456.643
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/shaman05/fetool.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'd8e1ff2ab9bcd1107f63859dfae64e978c9e84a9', '--to', '5d553810ecfdf3218461a63d942aa1b5dc1073b3', '--git-dir', '/tmp/top-repos-quality-repos-77c5fgo0/fetool.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/fb-chatreader/backend.git                                 =
= 21 / 28                                                                      =
= Now:  2021-08-31 07:53:22.301467                                             =
= Left: 6:07:18.654060                                                         =
= Ends: 2021-08-31 14:00:40.955527                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /fb-chatreader/backend.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /fb-chatreader/backend.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 5844, done.
Counting objects:   0% (1/361)Counting objects:   1% (4/361)Counting objects:   2% (8/361)Counting objects:   3% (11/361)Counting objects:   4% (15/361)Counting objects:   5% (19/361)Counting objects:   6% (22/361)Counting objects:   7% (26/361)Counting objects:   8% (29/361)Counting objects:   9% (33/361)Counting objects:  10% (37/361)Counting objects:  11% (40/361)Counting objects:  12% (44/361)Counting objects:  13% (47/361)Counting objects:  14% (51/361)Counting objects:  15% (55/361)Counting objects:  16% (58/361)Counting objects:  17% (62/361)Counting objects:  18% (65/361)Counting objects:  19% (69/361)Counting objects:  20% (73/361)Counting objects:  21% (76/361)Counting objects:  22% (80/361)Counting objects:  23% (84/361)Counting objects:  24% (87/361)Counting objects:  25% (91/361)Counting objects:  26% (94/361)Counting objects:  27% (98/361)Counting objects:  28% (102/361)Counting objects:  29% (105/361)Counting objects:  30% (109/361)Counting objects:  31% (112/361)Counting objects:  32% (116/361)Counting objects:  33% (120/361)Counting objects:  34% (123/361)Counting objects:  35% (127/361)Counting objects:  36% (130/361)Counting objects:  37% (134/361)Counting objects:  38% (138/361)Counting objects:  39% (141/361)Counting objects:  40% (145/361)Counting objects:  41% (149/361)Counting objects:  42% (152/361)Counting objects:  43% (156/361)Counting objects:  44% (159/361)Counting objects:  45% (163/361)Counting objects:  46% (167/361)Counting objects:  47% (170/361)Counting objects:  48% (174/361)Counting objects:  49% (177/361)Counting objects:  50% (181/361)Counting objects:  51% (185/361)Counting objects:  52% (188/361)Counting objects:  53% (192/361)Counting objects:  54% (195/361)Counting objects:  55% (199/361)Counting objects:  56% (203/361)Counting objects:  57% (206/361)Counting objects:  58% (210/361)Counting objects:  59% (213/361)Counting objects:  60% (217/361)Counting objects:  61% (221/361)Counting objects:  62% (224/361)Counting objects:  63% (228/361)Counting objects:  64% (232/361)Counting objects:  65% (235/361)Counting objects:  66% (239/361)Counting objects:  67% (242/361)Counting objects:  68% (246/361)Counting objects:  69% (250/361)Counting objects:  70% (253/361)Counting objects:  71% (257/361)Counting objects:  72% (260/361)Counting objects:  73% (264/361)Counting objects:  74% (268/361)Counting objects:  75% (271/361)Counting objects:  76% (275/361)Counting objects:  77% (278/361)Counting objects:  78% (282/361)Counting objects:  79% (286/361)Counting objects:  80% (289/361)Counting objects:  81% (293/361)Counting objects:  82% (297/361)Counting objects:  83% (300/361)Counting objects:  84% (304/361)Counting objects:  85% (307/361)Counting objects:  86% (311/361)Counting objects:  87% (315/361)Counting objects:  88% (318/361)Counting objects:  89% (322/361)Counting objects:  90% (325/361)Counting objects:  91% (329/361)Counting objects:  92% (333/361)Counting objects:  93% (336/361)Counting objects:  94% (340/361)Counting objects:  95% (343/361)Counting objects:  96% (347/361)Counting objects:  97% (351/361)Counting objects:  98% (354/361)Counting objects:  99% (358/361)Counting objects: 100% (361/361)Counting objects: 100% (361/361), done.
Compressing objects:   0% (1/232)Compressing objects:   1% (3/232)Compressing objects:   2% (5/232)Compressing objects:   3% (7/232)Compressing objects:   4% (10/232)Compressing objects:   5% (12/232)Compressing objects:   6% (14/232)Compressing objects:   7% (17/232)Compressing objects:   8% (19/232)Compressing objects:   9% (21/232)Compressing objects:  10% (24/232)Compressing objects:  11% (26/232)Compressing objects:  12% (28/232)Compressing objects:  13% (31/232)Compressing objects:  14% (33/232)Compressing objects:  15% (35/232)Compressing objects:  16% (38/232)Compressing objects:  17% (40/232)Compressing objects:  18% (42/232)Compressing objects:  19% (45/232)Compressing objects:  20% (47/232)Compressing objects:  21% (49/232)Compressing objects:  22% (52/232)Compressing objects:  23% (54/232)Compressing objects:  24% (56/232)Compressing objects:  25% (58/232)Compressing objects:  26% (61/232)Compressing objects:  27% (63/232)Compressing objects:  28% (65/232)Compressing objects:  29% (68/232)Compressing objects:  30% (70/232)Compressing objects:  31% (72/232)Compressing objects:  32% (75/232)Compressing objects:  33% (77/232)Compressing objects:  34% (79/232)Compressing objects:  35% (82/232)Compressing objects:  36% (84/232)Compressing objects:  37% (86/232)Compressing objects:  38% (89/232)Compressing objects:  39% (91/232)Compressing objects:  40% (93/232)Compressing objects:  41% (96/232)Compressing objects:  42% (98/232)Compressing objects:  43% (100/232)Compressing objects:  44% (103/232)Compressing objects:  45% (105/232)Compressing objects:  46% (107/232)Compressing objects:  47% (110/232)Compressing objects:  48% (112/232)Compressing objects:  49% (114/232)Compressing objects:  50% (116/232)Compressing objects:  51% (119/232)Compressing objects:  52% (121/232)Compressing objects:  53% (123/232)Compressing objects:  54% (126/232)Compressing objects:  55% (128/232)Compressing objects:  56% (130/232)Compressing objects:  57% (133/232)Compressing objects:  58% (135/232)Compressing objects:  59% (137/232)Compressing objects:  60% (140/232)Compressing objects:  61% (142/232)Compressing objects:  62% (144/232)Compressing objects:  63% (147/232)Compressing objects:  64% (149/232)Compressing objects:  65% (151/232)Compressing objects:  66% (154/232)Compressing objects:  67% (156/232)Compressing objects:  68% (158/232)Compressing objects:  69% (161/232)Compressing objects:  70% (163/232)Compressing objects:  71% (165/232)Compressing objects:  72% (168/232)Compressing objects:  73% (170/232)Compressing objects:  74% (172/232)Compressing objects:  75% (174/232)Compressing objects:  76% (177/232)Compressing objects:  77% (179/232)Compressing objects:  78% (181/232)Compressing objects:  79% (184/232)Compressing objects:  80% (186/232)Compressing objects:  81% (188/232)Compressing objects:  82% (191/232)Compressing objects:  83% (193/232)Compressing objects:  84% (195/232)Compressing objects:  85% (198/232)Compressing objects:  86% (200/232)Compressing objects:  87% (202/232)Compressing objects:  88% (205/232)Compressing objects:  89% (207/232)Compressing objects:  90% (209/232)Compressing objects:  91% (212/232)Compressing objects:  92% (214/232)Compressing objects:  93% (216/232)Compressing objects:  94% (219/232)Compressing objects:  95% (221/232)Compressing objects:  96% (223/232)Compressing objects:  97% (226/232)Compressing objects:  98% (228/232)Compressing objects:  99% (230/232)Compressing objects: 100% (232/232)Compressing objects: 100% (232/232), done.
Total 5844 (delta 210), reused 227 (delta 124), pack-reused 5483
Checking out ba9850bc7307ab31fcc2135df44e9408aa89737b
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git ba9850bc7307ab31fcc2135df44e9408aa89737b {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 07:53:25+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '1e672ec1-1617-43b5-b70e-7e360569343b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git ba9850bc7307ab31fcc2135df44e9408aa89737b
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git
INFO:EventListener:OK 532.538
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-ree4_hl0/backend/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-ree4_hl0/backend/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-ree4_hl0/backend.git ba9850bc7307ab31fcc2135df44e9408aa89737b
ERROR:EventListener:FAIL 479.304
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/fb-chatreader/backend.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '466c97b82013af20cb506cd1b6a934c6c7aa4360', '--to', 'ba9850bc7307ab31fcc2135df44e9408aa89737b', '--git-dir', '/tmp/top-repos-quality-repos-ree4_hl0/backend.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/jordantai/be-nc-news.git                                  =
= 22 / 28                                                                      =
= Now:  2021-08-31 08:10:18.373864                                             =
= Left: 5:11:44.235849                                                         =
= Ends: 2021-08-31 13:22:02.609713                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /jordantai/be-nc-news.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /jordantai/be-nc-news.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 789, done.
Counting objects:   0% (1/789)Counting objects:   1% (8/789)Counting objects:   2% (16/789)Counting objects:   3% (24/789)Counting objects:   4% (32/789)Counting objects:   5% (40/789)Counting objects:   6% (48/789)Counting objects:   7% (56/789)Counting objects:   8% (64/789)Counting objects:   9% (72/789)Counting objects:  10% (79/789)Counting objects:  11% (87/789)Counting objects:  12% (95/789)Counting objects:  13% (103/789)Counting objects:  14% (111/789)Counting objects:  15% (119/789)Counting objects:  16% (127/789)Counting objects:  17% (135/789)Counting objects:  18% (143/789)Counting objects:  19% (150/789)Counting objects:  20% (158/789)Counting objects:  21% (166/789)Counting objects:  22% (174/789)Counting objects:  23% (182/789)Counting objects:  24% (190/789)Counting objects:  25% (198/789)Counting objects:  26% (206/789)Counting objects:  27% (214/789)Counting objects:  28% (221/789)Counting objects:  29% (229/789)Counting objects:  30% (237/789)Counting objects:  31% (245/789)Counting objects:  32% (253/789)Counting objects:  33% (261/789)Counting objects:  34% (269/789)Counting objects:  35% (277/789)Counting objects:  36% (285/789)Counting objects:  37% (292/789)Counting objects:  38% (300/789)Counting objects:  39% (308/789)Counting objects:  40% (316/789)Counting objects:  41% (324/789)Counting objects:  42% (332/789)Counting objects:  43% (340/789)Counting objects:  44% (348/789)Counting objects:  45% (356/789)Counting objects:  46% (363/789)Counting objects:  47% (371/789)Counting objects:  48% (379/789)Counting objects:  49% (387/789)Counting objects:  50% (395/789)Counting objects:  51% (403/789)Counting objects:  52% (411/789)Counting objects:  53% (419/789)Counting objects:  54% (427/789)Counting objects:  55% (434/789)Counting objects:  56% (442/789)Counting objects:  57% (450/789)Counting objects:  58% (458/789)Counting objects:  59% (466/789)Counting objects:  60% (474/789)Counting objects:  61% (482/789)Counting objects:  62% (490/789)Counting objects:  63% (498/789)Counting objects:  64% (505/789)Counting objects:  65% (513/789)Counting objects:  66% (521/789)Counting objects:  67% (529/789)Counting objects:  68% (537/789)Counting objects:  69% (545/789)Counting objects:  70% (553/789)Counting objects:  71% (561/789)Counting objects:  72% (569/789)Counting objects:  73% (576/789)Counting objects:  74% (584/789)Counting objects:  75% (592/789)Counting objects:  76% (600/789)Counting objects:  77% (608/789)Counting objects:  78% (616/789)Counting objects:  79% (624/789)Counting objects:  80% (632/789)Counting objects:  81% (640/789)Counting objects:  82% (647/789)Counting objects:  83% (655/789)Counting objects:  84% (663/789)Counting objects:  85% (671/789)Counting objects:  86% (679/789)Counting objects:  87% (687/789)Counting objects:  88% (695/789)Counting objects:  89% (703/789)Counting objects:  90% (711/789)Counting objects:  91% (718/789)Counting objects:  92% (726/789)Counting objects:  93% (734/789)Counting objects:  94% (742/789)Counting objects:  95% (750/789)Counting objects:  96% (758/789)Counting objects:  97% (766/789)Counting objects:  98% (774/789)Counting objects:  99% (782/789)Counting objects: 100% (789/789)Counting objects: 100% (789/789), done.
Compressing objects:   0% (1/448)Compressing objects:   1% (5/448)Compressing objects:   2% (9/448)Compressing objects:   3% (14/448)Compressing objects:   4% (18/448)Compressing objects:   5% (23/448)Compressing objects:   6% (27/448)Compressing objects:   7% (32/448)Compressing objects:   8% (36/448)Compressing objects:   9% (41/448)Compressing objects:  10% (45/448)Compressing objects:  11% (50/448)Compressing objects:  12% (54/448)Compressing objects:  13% (59/448)Compressing objects:  14% (63/448)Compressing objects:  15% (68/448)Compressing objects:  16% (72/448)Compressing objects:  17% (77/448)Compressing objects:  18% (81/448)Compressing objects:  19% (86/448)Compressing objects:  20% (90/448)Compressing objects:  21% (95/448)Compressing objects:  22% (99/448)Compressing objects:  23% (104/448)Compressing objects:  24% (108/448)Compressing objects:  25% (112/448)Compressing objects:  26% (117/448)Compressing objects:  27% (121/448)Compressing objects:  28% (126/448)Compressing objects:  29% (130/448)Compressing objects:  30% (135/448)Compressing objects:  31% (139/448)Compressing objects:  32% (144/448)Compressing objects:  33% (148/448)Compressing objects:  34% (153/448)Compressing objects:  35% (157/448)Compressing objects:  36% (162/448)Compressing objects:  37% (166/448)Compressing objects:  38% (171/448)Compressing objects:  39% (175/448)Compressing objects:  40% (180/448)Compressing objects:  41% (184/448)Compressing objects:  42% (189/448)Compressing objects:  43% (193/448)Compressing objects:  44% (198/448)Compressing objects:  45% (202/448)Compressing objects:  46% (207/448)Compressing objects:  47% (211/448)Compressing objects:  48% (216/448)Compressing objects:  49% (220/448)Compressing objects:  50% (224/448)Compressing objects:  51% (229/448)Compressing objects:  52% (233/448)Compressing objects:  53% (238/448)Compressing objects:  54% (242/448)Compressing objects:  55% (247/448)Compressing objects:  56% (251/448)Compressing objects:  57% (256/448)Compressing objects:  58% (260/448)Compressing objects:  59% (265/448)Compressing objects:  60% (269/448)Compressing objects:  61% (274/448)Compressing objects:  62% (278/448)Compressing objects:  63% (283/448)Compressing objects:  64% (287/448)Compressing objects:  65% (292/448)Compressing objects:  66% (296/448)Compressing objects:  67% (301/448)Compressing objects:  68% (305/448)Compressing objects:  69% (310/448)Compressing objects:  70% (314/448)Compressing objects:  71% (319/448)Compressing objects:  72% (323/448)Compressing objects:  73% (328/448)Compressing objects:  74% (332/448)Compressing objects:  75% (336/448)Compressing objects:  76% (341/448)Compressing objects:  77% (345/448)Compressing objects:  78% (350/448)Compressing objects:  79% (354/448)Compressing objects:  80% (359/448)Compressing objects:  81% (363/448)Compressing objects:  82% (368/448)Compressing objects:  83% (372/448)Compressing objects:  84% (377/448)Compressing objects:  85% (381/448)Compressing objects:  86% (386/448)Compressing objects:  87% (390/448)Compressing objects:  88% (395/448)Compressing objects:  89% (399/448)Compressing objects:  90% (404/448)Compressing objects:  91% (408/448)Compressing objects:  92% (413/448)Compressing objects:  93% (417/448)Compressing objects:  94% (422/448)Compressing objects:  95% (426/448)Compressing objects:  96% (431/448)Compressing objects:  97% (435/448)Compressing objects:  98% (440/448)Compressing objects:  99% (444/448)Compressing objects: 100% (448/448)Compressing objects: 100% (448/448), done.
Total 789 (delta 423), reused 648 (delta 306), pack-reused 0
Checking out 2d0d7d666013cfbc44da40e51266ea7f439066f0
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git 2d0d7d666013cfbc44da40e51266ea7f439066f0 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 08:10:19+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'e4ee8577-bb06-4a5b-84d6-a8fa176e72f0', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git 2d0d7d666013cfbc44da40e51266ea7f439066f0
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git
INFO:EventListener:OK 185.496
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-xdvc2r52/be-nc-news/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-xdvc2r52/be-nc-news/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git 2d0d7d666013cfbc44da40e51266ea7f439066f0
ERROR:EventListener:FAIL 185.485
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/jordantai/be-nc-news.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'adddbfa828b75ac2943da51a1ab1f70050b3c8dc', '--to', '2d0d7d666013cfbc44da40e51266ea7f439066f0', '--git-dir', '/tmp/top-repos-quality-repos-xdvc2r52/be-nc-news.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/frodofarhani/react-starter-kit.git                        =
= 23 / 28                                                                      =
= Now:  2021-08-31 08:16:30.908260                                             =
= Left: 4:16:45.065984                                                         =
= Ends: 2021-08-31 12:33:15.974244                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /frodofarhani/react-starter-kit.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /frodofarhani/react-starter-kit.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 8774, done.
Counting objects:   7% (1/13)Counting objects:  15% (2/13)Counting objects:  23% (3/13)Counting objects:  30% (4/13)Counting objects:  38% (5/13)Counting objects:  46% (6/13)Counting objects:  53% (7/13)Counting objects:  61% (8/13)Counting objects:  69% (9/13)Counting objects:  76% (10/13)Counting objects:  84% (11/13)Counting objects:  92% (12/13)Counting objects: 100% (13/13)Counting objects: 100% (13/13), done.
Compressing objects:   7% (1/13)Compressing objects:  15% (2/13)Compressing objects:  23% (3/13)Compressing objects:  30% (4/13)Compressing objects:  38% (5/13)Compressing objects:  46% (6/13)Compressing objects:  53% (7/13)Compressing objects:  61% (8/13)Compressing objects:  69% (9/13)Compressing objects:  76% (10/13)Compressing objects:  84% (11/13)Compressing objects:  92% (12/13)Compressing objects: 100% (13/13)Compressing objects: 100% (13/13), done.
Total 8774 (delta 4), reused 0 (delta 0), pack-reused 8761
Checking out b821a03895ff6901722ed6f4be100699cc72a674
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git b821a03895ff6901722ed6f4be100699cc72a674 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 08:16:32+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'f44ca642-e3b3-43f3-9f8d-fa81f35416b9', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git b821a03895ff6901722ed6f4be100699cc72a674
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git
INFO:EventListener:OK 255.973
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git b821a03895ff6901722ed6f4be100699cc72a674
ERROR:EventListener:FAIL 245.933
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/frodofarhani/react-starter-kit.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '426556f62290e3ad818cfaa924514663e53da5a2', '--to', 'b821a03895ff6901722ed6f4be100699cc72a674', '--git-dir', '/tmp/top-repos-quality-repos-g5_m8lqf/react-starter-kit.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/nahuelarjonadev/lang-chat.git                             =
= 24 / 28                                                                      =
= Now:  2021-08-31 08:24:54.987050                                             =
= Left: 3:26:28.982768                                                         =
= Ends: 2021-08-31 11:51:23.969818                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /nahuelarjonadev/lang-chat.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /nahuelarjonadev/lang-chat.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 697, done.
Counting objects:   2% (1/40)Counting objects:   5% (2/40)Counting objects:   7% (3/40)Counting objects:  10% (4/40)Counting objects:  12% (5/40)Counting objects:  15% (6/40)Counting objects:  17% (7/40)Counting objects:  20% (8/40)Counting objects:  22% (9/40)Counting objects:  25% (10/40)Counting objects:  27% (11/40)Counting objects:  30% (12/40)Counting objects:  32% (13/40)Counting objects:  35% (14/40)Counting objects:  37% (15/40)Counting objects:  40% (16/40)Counting objects:  42% (17/40)Counting objects:  45% (18/40)Counting objects:  47% (19/40)Counting objects:  50% (20/40)Counting objects:  52% (21/40)Counting objects:  55% (22/40)Counting objects:  57% (23/40)Counting objects:  60% (24/40)Counting objects:  62% (25/40)Counting objects:  65% (26/40)Counting objects:  67% (27/40)Counting objects:  70% (28/40)Counting objects:  72% (29/40)Counting objects:  75% (30/40)Counting objects:  77% (31/40)Counting objects:  80% (32/40)Counting objects:  82% (33/40)Counting objects:  85% (34/40)Counting objects:  87% (35/40)Counting objects:  90% (36/40)Counting objects:  92% (37/40)Counting objects:  95% (38/40)Counting objects:  97% (39/40)Counting objects: 100% (40/40)Counting objects: 100% (40/40), done.
Compressing objects:   2% (1/40)Compressing objects:   5% (2/40)Compressing objects:   7% (3/40)Compressing objects:  10% (4/40)Compressing objects:  12% (5/40)Compressing objects:  15% (6/40)Compressing objects:  17% (7/40)Compressing objects:  20% (8/40)Compressing objects:  22% (9/40)Compressing objects:  25% (10/40)Compressing objects:  27% (11/40)Compressing objects:  30% (12/40)Compressing objects:  32% (13/40)Compressing objects:  35% (14/40)Compressing objects:  37% (15/40)Compressing objects:  40% (16/40)Compressing objects:  42% (17/40)Compressing objects:  45% (18/40)Compressing objects:  47% (19/40)Compressing objects:  50% (20/40)Compressing objects:  52% (21/40)Compressing objects:  55% (22/40)Compressing objects:  57% (23/40)Compressing objects:  60% (24/40)Compressing objects:  62% (25/40)Compressing objects:  65% (26/40)Compressing objects:  67% (27/40)Compressing objects:  70% (28/40)Compressing objects:  72% (29/40)Compressing objects:  75% (30/40)Compressing objects:  77% (31/40)Compressing objects:  80% (32/40)Compressing objects:  82% (33/40)Compressing objects:  85% (34/40)Compressing objects:  87% (35/40)Compressing objects:  90% (36/40)Compressing objects:  92% (37/40)Compressing objects:  95% (38/40)Compressing objects:  97% (39/40)Compressing objects: 100% (40/40)Compressing objects: 100% (40/40), done.
Total 697 (delta 18), reused 0 (delta 0), pack-reused 657
Checking out 523319fcf18848224332947e38cae1c53df0e720
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git 523319fcf18848224332947e38cae1c53df0e720 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 08:24:55+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'b661a94f-2670-4b61-8225-f1a5e59eff49', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git 523319fcf18848224332947e38cae1c53df0e720
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git
INFO:EventListener:OK 80.272
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-u_06lyrs/lang-chat/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-u_06lyrs/lang-chat/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git 523319fcf18848224332947e38cae1c53df0e720
ERROR:EventListener:FAIL 115.863
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/nahuelarjonadev/lang-chat.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '9adca44f43417feb0b61b9aa0a8c9f2bd48059fd', '--to', '523319fcf18848224332947e38cae1c53df0e720', '--git-dir', '/tmp/top-repos-quality-repos-u_06lyrs/lang-chat.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/qiujun8023/ss-panel-server.git                            =
= 25 / 28                                                                      =
= Now:  2021-08-31 08:28:12.476967                                             =
= Left: 2:38:51.135108                                                         =
= Ends: 2021-08-31 11:07:03.612075                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /qiujun8023/ss-panel-server.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /qiujun8023/ss-panel-server.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3207, done.
Counting objects:  12% (1/8)Counting objects:  25% (2/8)Counting objects:  37% (3/8)Counting objects:  50% (4/8)Counting objects:  62% (5/8)Counting objects:  75% (6/8)Counting objects:  87% (7/8)Counting objects: 100% (8/8)Counting objects: 100% (8/8), done.
Compressing objects:  12% (1/8)Compressing objects:  25% (2/8)Compressing objects:  37% (3/8)Compressing objects:  50% (4/8)Compressing objects:  62% (5/8)Compressing objects:  75% (6/8)Compressing objects:  87% (7/8)Compressing objects: 100% (8/8)Compressing objects: 100% (8/8), done.
Total 3207 (delta 3), reused 0 (delta 0), pack-reused 3199
Checking out 609c634ed0f55d7413c6073b19230c73aa96a9f6
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git 609c634ed0f55d7413c6073b19230c73aa96a9f6 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 08:28:14+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '715a5a87-1d8d-481b-9d29-d13fc587e457', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git 609c634ed0f55d7413c6073b19230c73aa96a9f6
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git
INFO:EventListener:OK 517.805
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git 609c634ed0f55d7413c6073b19230c73aa96a9f6
ERROR:EventListener:FAIL 475.999
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/qiujun8023/ss-panel-server.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'e20b4d6860eeb5f61801fc48316c508da22dc9e1', '--to', '609c634ed0f55d7413c6073b19230c73aa96a9f6', '--git-dir', '/tmp/top-repos-quality-repos-vs4rwqvk/ss-panel-server.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/luisb0992/distribuidoragenesis.git                        =
= 26 / 28                                                                      =
= Now:  2021-08-31 08:44:48.779830                                             =
= Left: 1:56:21.973621                                                         =
= Ends: 2021-08-31 10:41:10.753451                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /luisb0992/distribuidoragenesis.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /luisb0992/distribuidoragenesis.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3101, done.
Counting objects:   0% (1/3101)Counting objects:   1% (32/3101)Counting objects:   2% (63/3101)Counting objects:   3% (94/3101)Counting objects:   4% (125/3101)Counting objects:   5% (156/3101)Counting objects:   6% (187/3101)Counting objects:   7% (218/3101)Counting objects:   8% (249/3101)Counting objects:   9% (280/3101)Counting objects:  10% (311/3101)Counting objects:  11% (342/3101)Counting objects:  12% (373/3101)Counting objects:  13% (404/3101)Counting objects:  14% (435/3101)Counting objects:  15% (466/3101)Counting objects:  16% (497/3101)Counting objects:  17% (528/3101)Counting objects:  18% (559/3101)Counting objects:  19% (590/3101)Counting objects:  20% (621/3101)Counting objects:  21% (652/3101)Counting objects:  22% (683/3101)Counting objects:  23% (714/3101)Counting objects:  24% (745/3101)Counting objects:  25% (776/3101)Counting objects:  26% (807/3101)Counting objects:  27% (838/3101)Counting objects:  28% (869/3101)Counting objects:  29% (900/3101)Counting objects:  30% (931/3101)Counting objects:  31% (962/3101)Counting objects:  32% (993/3101)Counting objects:  33% (1024/3101)Counting objects:  34% (1055/3101)Counting objects:  35% (1086/3101)Counting objects:  36% (1117/3101)Counting objects:  37% (1148/3101)Counting objects:  38% (1179/3101)Counting objects:  39% (1210/3101)Counting objects:  40% (1241/3101)Counting objects:  41% (1272/3101)Counting objects:  42% (1303/3101)Counting objects:  43% (1334/3101)Counting objects:  44% (1365/3101)Counting objects:  45% (1396/3101)Counting objects:  46% (1427/3101)Counting objects:  47% (1458/3101)Counting objects:  48% (1489/3101)Counting objects:  49% (1520/3101)Counting objects:  50% (1551/3101)Counting objects:  51% (1582/3101)Counting objects:  52% (1613/3101)Counting objects:  53% (1644/3101)Counting objects:  54% (1675/3101)Counting objects:  55% (1706/3101)Counting objects:  56% (1737/3101)Counting objects:  57% (1768/3101)Counting objects:  58% (1799/3101)Counting objects:  59% (1830/3101)Counting objects:  60% (1861/3101)Counting objects:  61% (1892/3101)Counting objects:  62% (1923/3101)Counting objects:  63% (1954/3101)Counting objects:  64% (1985/3101)Counting objects:  65% (2016/3101)Counting objects:  66% (2047/3101)Counting objects:  67% (2078/3101)Counting objects:  68% (2109/3101)Counting objects:  69% (2140/3101)Counting objects:  70% (2171/3101)Counting objects:  71% (2202/3101)Counting objects:  72% (2233/3101)Counting objects:  73% (2264/3101)Counting objects:  74% (2295/3101)Counting objects:  75% (2326/3101)Counting objects:  76% (2357/3101)Counting objects:  77% (2388/3101)Counting objects:  78% (2419/3101)Counting objects:  79% (2450/3101)Counting objects:  80% (2481/3101)Counting objects:  81% (2512/3101)Counting objects:  82% (2543/3101)Counting objects:  83% (2574/3101)Counting objects:  84% (2605/3101)Counting objects:  85% (2636/3101)Counting objects:  86% (2667/3101)Counting objects:  87% (2698/3101)Counting objects:  88% (2729/3101)Counting objects:  89% (2760/3101)Counting objects:  90% (2791/3101)Counting objects:  91% (2822/3101)Counting objects:  92% (2853/3101)Counting objects:  93% (2884/3101)Counting objects:  94% (2915/3101)Counting objects:  95% (2946/3101)Counting objects:  96% (2977/3101)Counting objects:  97% (3008/3101)Counting objects:  98% (3039/3101)Counting objects:  99% (3070/3101)Counting objects: 100% (3101/3101)Counting objects: 100% (3101/3101), done.
Compressing objects:   0% (1/1227)Compressing objects:   1% (13/1227)Compressing objects:   2% (25/1227)Compressing objects:   3% (37/1227)Compressing objects:   4% (50/1227)Compressing objects:   5% (62/1227)Compressing objects:   6% (74/1227)Compressing objects:   7% (86/1227)Compressing objects:   8% (99/1227)Compressing objects:   9% (111/1227)Compressing objects:  10% (123/1227)Compressing objects:  11% (135/1227)Compressing objects:  12% (148/1227)Compressing objects:  13% (160/1227)Compressing objects:  14% (172/1227)Compressing objects:  15% (185/1227)Compressing objects:  16% (197/1227)Compressing objects:  17% (209/1227)Compressing objects:  18% (221/1227)Compressing objects:  19% (234/1227)Compressing objects:  20% (246/1227)Compressing objects:  21% (258/1227)Compressing objects:  22% (270/1227)Compressing objects:  23% (283/1227)Compressing objects:  24% (295/1227)Compressing objects:  25% (307/1227)Compressing objects:  26% (320/1227)Compressing objects:  27% (332/1227)Compressing objects:  28% (344/1227)Compressing objects:  29% (356/1227)Compressing objects:  30% (369/1227)Compressing objects:  31% (381/1227)Compressing objects:  32% (393/1227)Compressing objects:  33% (405/1227)Compressing objects:  34% (418/1227)Compressing objects:  35% (430/1227)Compressing objects:  36% (442/1227)Compressing objects:  37% (454/1227)Compressing objects:  38% (467/1227)Compressing objects:  39% (479/1227)Compressing objects:  40% (491/1227)Compressing objects:  41% (504/1227)Compressing objects:  42% (516/1227)Compressing objects:  43% (528/1227)Compressing objects:  44% (540/1227)Compressing objects:  45% (553/1227)Compressing objects:  46% (565/1227)Compressing objects:  47% (577/1227)Compressing objects:  48% (589/1227)Compressing objects:  49% (602/1227)Compressing objects:  50% (614/1227)Compressing objects:  51% (626/1227)Compressing objects:  52% (639/1227)Compressing objects:  53% (651/1227)Compressing objects:  54% (663/1227)Compressing objects:  55% (675/1227)Compressing objects:  56% (688/1227)Compressing objects:  57% (700/1227)Compressing objects:  58% (712/1227)Compressing objects:  59% (724/1227)Compressing objects:  60% (737/1227)Compressing objects:  61% (749/1227)Compressing objects:  62% (761/1227)Compressing objects:  63% (774/1227)Compressing objects:  64% (786/1227)Compressing objects:  65% (798/1227)Compressing objects:  66% (810/1227)Compressing objects:  67% (823/1227)Compressing objects:  68% (835/1227)Compressing objects:  69% (847/1227)Compressing objects:  70% (859/1227)Compressing objects:  71% (872/1227)Compressing objects:  72% (884/1227)Compressing objects:  73% (896/1227)Compressing objects:  74% (908/1227)Compressing objects:  75% (921/1227)Compressing objects:  76% (933/1227)Compressing objects:  77% (945/1227)Compressing objects:  78% (958/1227)Compressing objects:  79% (970/1227)Compressing objects:  80% (982/1227)Compressing objects:  81% (994/1227)Compressing objects:  82% (1007/1227)Compressing objects:  83% (1019/1227)Compressing objects:  84% (1031/1227)Compressing objects:  85% (1043/1227)Compressing objects:  86% (1056/1227)Compressing objects:  87% (1068/1227)Compressing objects:  88% (1080/1227)Compressing objects:  89% (1093/1227)Compressing objects:  90% (1105/1227)Compressing objects:  91% (1117/1227)Compressing objects:  92% (1129/1227)Compressing objects:  93% (1142/1227)Compressing objects:  94% (1154/1227)Compressing objects:  95% (1166/1227)Compressing objects:  96% (1178/1227)Compressing objects:  97% (1191/1227)Compressing objects:  98% (1203/1227)Compressing objects:  99% (1215/1227)Compressing objects: 100% (1227/1227)Compressing objects: 100% (1227/1227), done.
Total 3101 (delta 1895), reused 2924 (delta 1777), pack-reused 0
Checking out ef55a3ba001fd57db80e68a9add969136e76ff95
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git ef55a3ba001fd57db80e68a9add969136e76ff95 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 08:44:51+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '9e67ae77-2b34-4cbb-8644-33aa3c1c8713', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git ef55a3ba001fd57db80e68a9add969136e76ff95
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git
INFO:EventListener:OK 1143.864
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git ef55a3ba001fd57db80e68a9add969136e76ff95
ERROR:EventListener:FAIL 1309.063
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/luisb0992/distribuidoragenesis.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '6b98c848b057d67ec2a8d89918a8a9a6a4d9be72', '--to', 'ef55a3ba001fd57db80e68a9add969136e76ff95', '--git-dir', '/tmp/top-repos-quality-repos-k3r8fi_u/distribuidoragenesis.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/nylas/nylas-nodejs.git                                    =
= 27 / 28                                                                      =
= Now:  2021-08-31 09:25:44.446871                                             =
= Left: 1:17:44.521581                                                         =
= Ends: 2021-08-31 10:43:28.968452                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /nylas/nylas-nodejs.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /nylas/nylas-nodejs.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 4654, done.
Counting objects:   0% (1/1207)Counting objects:   1% (13/1207)Counting objects:   2% (25/1207)Counting objects:   3% (37/1207)Counting objects:   4% (49/1207)Counting objects:   5% (61/1207)Counting objects:   6% (73/1207)Counting objects:   7% (85/1207)Counting objects:   8% (97/1207)Counting objects:   9% (109/1207)Counting objects:  10% (121/1207)Counting objects:  11% (133/1207)Counting objects:  12% (145/1207)Counting objects:  13% (157/1207)Counting objects:  14% (169/1207)Counting objects:  15% (182/1207)Counting objects:  16% (194/1207)Counting objects:  17% (206/1207)Counting objects:  18% (218/1207)Counting objects:  19% (230/1207)Counting objects:  20% (242/1207)Counting objects:  21% (254/1207)Counting objects:  22% (266/1207)Counting objects:  23% (278/1207)Counting objects:  24% (290/1207)Counting objects:  25% (302/1207)Counting objects:  26% (314/1207)Counting objects:  27% (326/1207)Counting objects:  28% (338/1207)Counting objects:  29% (351/1207)Counting objects:  30% (363/1207)Counting objects:  31% (375/1207)Counting objects:  32% (387/1207)Counting objects:  33% (399/1207)Counting objects:  34% (411/1207)Counting objects:  35% (423/1207)Counting objects:  36% (435/1207)Counting objects:  37% (447/1207)Counting objects:  38% (459/1207)Counting objects:  39% (471/1207)Counting objects:  40% (483/1207)Counting objects:  41% (495/1207)Counting objects:  42% (507/1207)Counting objects:  43% (520/1207)Counting objects:  44% (532/1207)Counting objects:  45% (544/1207)Counting objects:  46% (556/1207)Counting objects:  47% (568/1207)Counting objects:  48% (580/1207)Counting objects:  49% (592/1207)Counting objects:  50% (604/1207)Counting objects:  51% (616/1207)Counting objects:  52% (628/1207)Counting objects:  53% (640/1207)Counting objects:  54% (652/1207)Counting objects:  55% (664/1207)Counting objects:  56% (676/1207)Counting objects:  57% (688/1207)Counting objects:  58% (701/1207)Counting objects:  59% (713/1207)Counting objects:  60% (725/1207)Counting objects:  61% (737/1207)Counting objects:  62% (749/1207)Counting objects:  63% (761/1207)Counting objects:  64% (773/1207)Counting objects:  65% (785/1207)Counting objects:  66% (797/1207)Counting objects:  67% (809/1207)Counting objects:  68% (821/1207)Counting objects:  69% (833/1207)Counting objects:  70% (845/1207)Counting objects:  71% (857/1207)Counting objects:  72% (870/1207)Counting objects:  73% (882/1207)Counting objects:  74% (894/1207)Counting objects:  75% (906/1207)Counting objects:  76% (918/1207)Counting objects:  77% (930/1207)Counting objects:  78% (942/1207)Counting objects:  79% (954/1207)Counting objects:  80% (966/1207)Counting objects:  81% (978/1207)Counting objects:  82% (990/1207)Counting objects:  83% (1002/1207)Counting objects:  84% (1014/1207)Counting objects:  85% (1026/1207)Counting objects:  86% (1039/1207)Counting objects:  87% (1051/1207)Counting objects:  88% (1063/1207)Counting objects:  89% (1075/1207)Counting objects:  90% (1087/1207)Counting objects:  91% (1099/1207)Counting objects:  92% (1111/1207)Counting objects:  93% (1123/1207)Counting objects:  94% (1135/1207)Counting objects:  95% (1147/1207)Counting objects:  96% (1159/1207)Counting objects:  97% (1171/1207)Counting objects:  98% (1183/1207)Counting objects:  99% (1195/1207)Counting objects: 100% (1207/1207)Counting objects: 100% (1207/1207), done.
Compressing objects:   0% (1/598)Compressing objects:   1% (6/598)Compressing objects:   2% (12/598)Compressing objects:   3% (18/598)Compressing objects:   4% (24/598)Compressing objects:   5% (30/598)Compressing objects:   6% (36/598)Compressing objects:   7% (42/598)Compressing objects:   8% (48/598)Compressing objects:   9% (54/598)Compressing objects:  10% (60/598)Compressing objects:  11% (66/598)Compressing objects:  12% (72/598)Compressing objects:  13% (78/598)Compressing objects:  14% (84/598)Compressing objects:  15% (90/598)Compressing objects:  16% (96/598)Compressing objects:  17% (102/598)Compressing objects:  18% (108/598)Compressing objects:  19% (114/598)Compressing objects:  20% (120/598)Compressing objects:  21% (126/598)Compressing objects:  22% (132/598)Compressing objects:  23% (138/598)Compressing objects:  24% (144/598)Compressing objects:  25% (150/598)Compressing objects:  26% (156/598)Compressing objects:  27% (162/598)Compressing objects:  28% (168/598)Compressing objects:  29% (174/598)Compressing objects:  30% (180/598)Compressing objects:  31% (186/598)Compressing objects:  32% (192/598)Compressing objects:  33% (198/598)Compressing objects:  34% (204/598)Compressing objects:  35% (210/598)Compressing objects:  36% (216/598)Compressing objects:  37% (222/598)Compressing objects:  38% (228/598)Compressing objects:  39% (234/598)Compressing objects:  40% (240/598)Compressing objects:  41% (246/598)Compressing objects:  42% (252/598)Compressing objects:  43% (258/598)Compressing objects:  44% (264/598)Compressing objects:  45% (270/598)Compressing objects:  46% (276/598)Compressing objects:  47% (282/598)Compressing objects:  48% (288/598)Compressing objects:  49% (294/598)Compressing objects:  50% (299/598)Compressing objects:  51% (305/598)Compressing objects:  52% (311/598)Compressing objects:  53% (317/598)Compressing objects:  54% (323/598)Compressing objects:  55% (329/598)Compressing objects:  56% (335/598)Compressing objects:  57% (341/598)Compressing objects:  58% (347/598)Compressing objects:  59% (353/598)Compressing objects:  60% (359/598)Compressing objects:  61% (365/598)Compressing objects:  62% (371/598)Compressing objects:  63% (377/598)Compressing objects:  64% (383/598)Compressing objects:  65% (389/598)Compressing objects:  66% (395/598)Compressing objects:  67% (401/598)Compressing objects:  68% (407/598)Compressing objects:  69% (413/598)Compressing objects:  70% (419/598)Compressing objects:  71% (425/598)Compressing objects:  72% (431/598)Compressing objects:  73% (437/598)Compressing objects:  74% (443/598)Compressing objects:  75% (449/598)Compressing objects:  76% (455/598)Compressing objects:  77% (461/598)Compressing objects:  78% (467/598)Compressing objects:  79% (473/598)Compressing objects:  80% (479/598)Compressing objects:  81% (485/598)Compressing objects:  82% (491/598)Compressing objects:  83% (497/598)Compressing objects:  84% (503/598)Compressing objects:  85% (509/598)Compressing objects:  86% (515/598)Compressing objects:  87% (521/598)Compressing objects:  88% (527/598)Compressing objects:  89% (533/598)Compressing objects:  90% (539/598)Compressing objects:  91% (545/598)Compressing objects:  92% (551/598)Compressing objects:  93% (557/598)Compressing objects:  94% (563/598)Compressing objects:  95% (569/598)Compressing objects:  96% (575/598)Compressing objects:  97% (581/598)Compressing objects:  98% (587/598)Compressing objects:  99% (593/598)Compressing objects: 100% (598/598)Compressing objects: 100% (598/598), done.
Total 4654 (delta 766), reused 983 (delta 596), pack-reused 3447
Checking out 548016d06b8221abc6173bbbf83c150d54f271be
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git 548016d06b8221abc6173bbbf83c150d54f271be {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 09:25:46+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': '79562ca9-5c37-4695-9661-24f54032fe2a', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git 548016d06b8221abc6173bbbf83c150d54f271be
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git
INFO:EventListener:OK 165.921
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git 548016d06b8221abc6173bbbf83c150d54f271be
ERROR:EventListener:FAIL 160.714
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/nylas/nylas-nodejs.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', '5e3c0dafb307998d821b23884d8c6cfd0cc79878', '--to', '548016d06b8221abc6173bbbf83c150d54f271be', '--git-dir', '/tmp/top-repos-quality-repos-plhsihyc/nylas-nodejs.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= https://github.com/joaokurtz/v1.0.git                                        =
= 28 / 28                                                                      =
= Now:  2021-08-31 09:31:13.347315                                             =
= Left: 0:37:38.062259                                                         =
= Ends: 2021-08-31 10:08:51.409574                                             =
================================================================================
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): github.com:443
DEBUG:urllib3.connectionpool:https://github.com:443 "GET /joaokurtz/v1.0.git/info/refs?service=git-upload-pack HTTP/1.1" 200 None
DEBUG:urllib3.connectionpool:https://github.com:443 "POST /joaokurtz/v1.0.git/git-upload-pack HTTP/1.1" 200 None
Enumerating objects: 3831, done.
Counting objects:   0% (1/3831)Counting objects:   1% (39/3831)Counting objects:   2% (77/3831)Counting objects:   3% (115/3831)Counting objects:   4% (154/3831)Counting objects:   5% (192/3831)Counting objects:   6% (230/3831)Counting objects:   7% (269/3831)Counting objects:   8% (307/3831)Counting objects:   9% (345/3831)Counting objects:  10% (384/3831)Counting objects:  11% (422/3831)Counting objects:  12% (460/3831)Counting objects:  13% (499/3831)Counting objects:  14% (537/3831)Counting objects:  15% (575/3831)Counting objects:  16% (613/3831)Counting objects:  17% (652/3831)Counting objects:  18% (690/3831)Counting objects:  19% (728/3831)Counting objects:  20% (767/3831)Counting objects:  21% (805/3831)Counting objects:  22% (843/3831)Counting objects:  23% (882/3831)Counting objects:  24% (920/3831)Counting objects:  25% (958/3831)Counting objects:  26% (997/3831)Counting objects:  27% (1035/3831)Counting objects:  28% (1073/3831)Counting objects:  29% (1111/3831)Counting objects:  30% (1150/3831)Counting objects:  31% (1188/3831)Counting objects:  32% (1226/3831)Counting objects:  33% (1265/3831)Counting objects:  34% (1303/3831)Counting objects:  35% (1341/3831)Counting objects:  36% (1380/3831)Counting objects:  37% (1418/3831)Counting objects:  38% (1456/3831)Counting objects:  39% (1495/3831)Counting objects:  40% (1533/3831)Counting objects:  41% (1571/3831)Counting objects:  42% (1610/3831)Counting objects:  43% (1648/3831)Counting objects:  44% (1686/3831)Counting objects:  45% (1724/3831)Counting objects:  46% (1763/3831)Counting objects:  47% (1801/3831)Counting objects:  48% (1839/3831)Counting objects:  49% (1878/3831)Counting objects:  50% (1916/3831)Counting objects:  51% (1954/3831)Counting objects:  52% (1993/3831)Counting objects:  53% (2031/3831)Counting objects:  54% (2069/3831)Counting objects:  55% (2108/3831)Counting objects:  56% (2146/3831)Counting objects:  57% (2184/3831)Counting objects:  58% (2222/3831)Counting objects:  59% (2261/3831)Counting objects:  60% (2299/3831)Counting objects:  61% (2337/3831)Counting objects:  62% (2376/3831)Counting objects:  63% (2414/3831)Counting objects:  64% (2452/3831)Counting objects:  65% (2491/3831)Counting objects:  66% (2529/3831)Counting objects:  67% (2567/3831)Counting objects:  68% (2606/3831)Counting objects:  69% (2644/3831)Counting objects:  70% (2682/3831)Counting objects:  71% (2721/3831)Counting objects:  72% (2759/3831)Counting objects:  73% (2797/3831)Counting objects:  74% (2835/3831)Counting objects:  75% (2874/3831)Counting objects:  76% (2912/3831)Counting objects:  77% (2950/3831)Counting objects:  78% (2989/3831)Counting objects:  79% (3027/3831)Counting objects:  80% (3065/3831)Counting objects:  81% (3104/3831)Counting objects:  82% (3142/3831)Counting objects:  83% (3180/3831)Counting objects:  84% (3219/3831)Counting objects:  85% (3257/3831)Counting objects:  86% (3295/3831)Counting objects:  87% (3333/3831)Counting objects:  88% (3372/3831)Counting objects:  89% (3410/3831)Counting objects:  90% (3448/3831)Counting objects:  91% (3487/3831)Counting objects:  92% (3525/3831)Counting objects:  93% (3563/3831)Counting objects:  94% (3602/3831)Counting objects:  95% (3640/3831)Counting objects:  96% (3678/3831)Counting objects:  97% (3717/3831)Counting objects:  98% (3755/3831)Counting objects:  99% (3793/3831)Counting objects: 100% (3831/3831)Counting objects: 100% (3831/3831), done.
Compressing objects:   0% (1/1532)Compressing objects:   1% (16/1532)Compressing objects:   2% (31/1532)Compressing objects:   3% (46/1532)Compressing objects:   4% (62/1532)Compressing objects:   5% (77/1532)Compressing objects:   6% (92/1532)Compressing objects:   7% (108/1532)Compressing objects:   8% (123/1532)Compressing objects:   9% (138/1532)Compressing objects:  10% (154/1532)Compressing objects:  11% (169/1532)Compressing objects:  12% (184/1532)Compressing objects:  13% (200/1532)Compressing objects:  14% (215/1532)Compressing objects:  15% (230/1532)Compressing objects:  16% (246/1532)Compressing objects:  17% (261/1532)Compressing objects:  18% (276/1532)Compressing objects:  19% (292/1532)Compressing objects:  20% (307/1532)Compressing objects:  21% (322/1532)Compressing objects:  22% (338/1532)Compressing objects:  23% (353/1532)Compressing objects:  24% (368/1532)Compressing objects:  25% (383/1532)Compressing objects:  26% (399/1532)Compressing objects:  27% (414/1532)Compressing objects:  28% (429/1532)Compressing objects:  29% (445/1532)Compressing objects:  30% (460/1532)Compressing objects:  31% (475/1532)Compressing objects:  32% (491/1532)Compressing objects:  33% (506/1532)Compressing objects:  34% (521/1532)Compressing objects:  35% (537/1532)Compressing objects:  36% (552/1532)Compressing objects:  37% (567/1532)Compressing objects:  38% (583/1532)Compressing objects:  39% (598/1532)Compressing objects:  40% (613/1532)Compressing objects:  41% (629/1532)Compressing objects:  42% (644/1532)Compressing objects:  43% (659/1532)Compressing objects:  44% (675/1532)Compressing objects:  45% (690/1532)Compressing objects:  46% (705/1532)Compressing objects:  47% (721/1532)Compressing objects:  48% (736/1532)Compressing objects:  49% (751/1532)Compressing objects:  50% (766/1532)Compressing objects:  51% (782/1532)Compressing objects:  52% (797/1532)Compressing objects:  53% (812/1532)Compressing objects:  54% (828/1532)Compressing objects:  55% (843/1532)Compressing objects:  56% (858/1532)Compressing objects:  57% (874/1532)Compressing objects:  58% (889/1532)Compressing objects:  59% (904/1532)Compressing objects:  60% (920/1532)Compressing objects:  61% (935/1532)Compressing objects:  62% (950/1532)Compressing objects:  63% (966/1532)Compressing objects:  64% (981/1532)Compressing objects:  65% (996/1532)Compressing objects:  66% (1012/1532)Compressing objects:  67% (1027/1532)Compressing objects:  68% (1042/1532)Compressing objects:  69% (1058/1532)Compressing objects:  70% (1073/1532)Compressing objects:  71% (1088/1532)Compressing objects:  72% (1104/1532)Compressing objects:  73% (1119/1532)Compressing objects:  74% (1134/1532)Compressing objects:  75% (1149/1532)Compressing objects:  76% (1165/1532)Compressing objects:  77% (1180/1532)Compressing objects:  78% (1195/1532)Compressing objects:  79% (1211/1532)Compressing objects:  80% (1226/1532)Compressing objects:  81% (1241/1532)Compressing objects:  82% (1257/1532)Compressing objects:  83% (1272/1532)Compressing objects:  84% (1287/1532)Compressing objects:  85% (1303/1532)Compressing objects:  86% (1318/1532)Compressing objects:  87% (1333/1532)Compressing objects:  88% (1349/1532)Compressing objects:  89% (1364/1532)Compressing objects:  90% (1379/1532)Compressing objects:  91% (1395/1532)Compressing objects:  92% (1410/1532)Compressing objects:  93% (1425/1532)Compressing objects:  94% (1441/1532)Compressing objects:  95% (1456/1532)Compressing objects:  96% (1471/1532)Compressing objects:  97% (1487/1532)Compressing objects:  98% (1502/1532)Compressing objects:  99% (1517/1532)Compressing objects: 100% (1532/1532)Compressing objects: 100% (1532/1532), done.
Total 3831 (delta 2324), reused 3648 (delta 2197), pack-reused 0
Checking out 415b559686f35bb34185b3d0c856f45b471ffb17
INFO:EventListener:new PushEvent
DEBUG:SQLAlchemyModelRepository:no models found for style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:training style.format.analyzer.FormatAnalyzer
INFO:QualityReportAnalyzer:train 0.2.0 file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git 415b559686f35bb34185b3d0c856f45b471ffb17 {'javascript': {'feature_extractor': {'cutoff_label_support': 80, 'debug_parsing': False, 'left_features': ['length', 'diff_offset', 'diff_col', 'diff_line', 'internal_type', 'label', 'reserved', 'roles'], 'left_siblings_window': 5, 'no_labels_on_right': True, 'node_features': ['start_line', 'start_col'], 'parent_features': ['internal_type', 'roles'], 'parents_depth': 2, 'return_sibling_indices': False, 'right_features': ['length', 'internal_type', 'reserved', 'roles'], 'right_siblings_window': 5, 'select_features_number': 500}, 'line_length_limit': 500, 'lines_ratio_train_trigger': 0.2, 'lower_bound_instances': 500, 'optimizer': {'base_model_name_categories': ['sklearn.ensemble.RandomForestClassifier', 'sklearn.tree.DecisionTreeClassifier'], 'cv': 3, 'max_depth_categories': [None, 5, 10], 'max_features_categories': [None, 'auto'], 'min_samples_leaf_max': 120, 'min_samples_leaf_min': 90, 'min_samples_split_max': 240, 'min_samples_split_min': 180, 'n_iter': 50, 'n_jobs': -1}, 'overall_size_limit': 5242880, 'random_state': 42, 'test_dataset_ratio': 0.2, 'trainable_rules': {'attribute_similarity_threshold': 0.98, 'confidence_threshold': 0.8, 'n_estimators': 10, 'prune_attributes': True, 'prune_branches_algorithms': ['reduced-error'], 'prune_dataset_ratio': 0.2, 'top_down_greedy_budget': [False, 0.5]}}}
INFO:QualityReportAnalyzer:trained {'code': None, 'created_at': '2021-08-31 09:31:16+0000', 'datasets': [], 'dependencies': [], 'description': 'Model bound to style.format.analyzer.FormatAnalyzer Lookout analyzer.', 'environment': {'packages': '', 'platform': 'Linux-5.4.0-74-generic-x86_64-with-Ubuntu-18.04-bionic', 'python': '3.6.7 (default, Oct 22 2018, 11:32:17) [GCC 8.2.0]'}, 'extra': None, 'license': 'ODbL-1.0', 'metrics': {}, 'model': 'style.format.analyzer.FormatAnalyzer', 'parent': None, 'references': [], 'series': None, 'size': '0 Bytes', 'tags': [], 'uuid': 'f699a184-5a39-4596-8037-df4597b8510b', 'vendor': 'source{d}', 'version': [1]}
style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git 415b559686f35bb34185b3d0c856f45b471ffb17
DEBUG:SQLAlchemyModelRepository:set style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git
INFO:EventListener:OK 552.520
INFO:EventListener:new ReviewEvent
INFO:AnalyzerManager:style.format.analyzer.FormatAnalyzer config: {'aggregate': True}
INFO:generic:Reading /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-elfpf6wh/v1.0/style.format.analyzer.FormatAnalyzer_1.asdf (3.1 kB)...
DEBUG:SQLAlchemyModelRepository:loaded style.format.analyzer.FormatAnalyzer/1 with file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git from /tmp/tmpgx8v9ca2/models/tmp/top-repos-quality-repos-elfpf6wh/v1.0/style.format.analyzer.FormatAnalyzer_1.asdf
INFO:AnalyzerManager:cache miss: style.format.analyzer.FormatAnalyzer
DEBUG:AnalyzerManager:running style.format.analyzer.FormatAnalyzer
WARNING:QualityReportAnalyzer:Train report generation failed. There are no fixes for style.format.analyzer.FormatAnalyzer/[1] file:///tmp/top-repos-quality-repos-elfpf6wh/v1.0.git 415b559686f35bb34185b3d0c856f45b471ffb17
ERROR:EventListener:FAIL 507.404
Traceback (most recent call last):
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 184, in wrapped_catch_them_all
    return func(self, request, context)
  File "/lookout-sdk-ml/lookout/core/event_listener.py", line 209, in wrapped_handle
    return getattr(self.handlers, method_name)(request)
  File "/lookout-sdk-ml/lookout/core/manager.py", line 81, in process_review_event
    base_ptr, head_ptr, self._data_service)
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 270, in analyze
    [fix for fix in self.run(ptr_from, data_service) if not fix.error], ""))
  File "/style-analyzer/lookout/style/format/benchmarks/general_report.py", line 258, in convert_fixes_to_report_comments
    yield generate_comment(filename=filepath, line=0, confidence=100, text=report)
  File "/style-analyzer/lookout/style/format/utils.py", line 55, in generate_comment
    comment.text = text
TypeError: None has type NoneType, but expected one of: bytes, unicode
ERROR:QualityAnalyzer:--------------------
Failed to process https://github.com/joaokurtz/v1.0.git repo
Traceback (most recent call last):
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 312, in generate_quality_report
    vnodes_expected_number=vnodes_expected_number)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 137, in measure_quality
    bblfsh=bblfsh, config_json=config)
  File "/lookout-sdk-ml/lookout/core/helpers/analyzer_context_manager.py", line 87, in review
    log_level=log_level, config_json=config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 101, in review
    return self._run("review", fr, to, port, git_dir, bblfsh, log_level, config_json)
  File "/lookout-sdk-ml/lookout/core/helpers/server.py", line 131, in _run
    return subprocess.run(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
  File "/usr/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/tmp/lookout-sdk-ml/lookout-sdk-v0.7.0', 'review', 'ipv4://localhost:20822', '--from', 'cfe4334cfc304214a62e25f3ba6284f6f87b5bb1', '--to', '415b559686f35bb34185b3d0c856f45b471ffb17', '--git-dir', '/tmp/top-repos-quality-repos-elfpf6wh/v1.0.git', '--log-format', 'json', '--log-level', 'warning', '--config-json', '{"style.format.analyzer.FormatAnalyzer": {"aggregate": true}}']' returned non-zero exit status 1.
INFO:QualityAnalyzer:
================================================================================
= Done                                                                         =
= 28 / 28                                                                      =
= Now:  2021-08-31 09:48:56.384932                                             =
= Left: 0                                                                      =
= Ends: 2021-08-31 09:48:56.384932                                             =
================================================================================
DEBUG:SQLAlchemyModelRepository:shutting down
INFO:DataService:Shutting down
Traceback (most recent call last):
  File "/usr/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/style-analyzer/lookout/style/format/__main__.py", line 7, in <module>
    sys.exit(main())
  File "/style-analyzer/lookout/style/format/cmdline_tools.py", line 256, in main
    return handler(**vars(args))
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 335, in generate_quality_report
    summary = _generate_report_summary(reports, report_name)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in _generate_report_summary
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
  File "/style-analyzer/lookout/style/format/benchmarks/quality_report.py", line 242, in <genexpr>
    avgvals = tuple(calc_avg(table[1:], fields2id[field]) for field in Metrics._fields)
KeyError: 'precision'
